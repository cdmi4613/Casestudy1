/*! jQuery v1.11.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
;!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document){throw new Error("jQuery requires a window with a document")}return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(l.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:k&&!k.call("\ufeff\xa0")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return +new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a){return d}if(1!==(i=b.nodeType)&&9!==i){return[]}if(n&&!e){if(f=Z.exec(a)){if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode){return d}if(g.id===h){return d.push(g),d}}else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h){return d.push(g),d}}}else{if(f[2]){return G.apply(d,b.getElementsByTagName(a)),d}if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return G.apply(d,b.getElementsByClassName(h)),d}}}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--){m[j]=q+pb(m[j])}u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v){try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},z=b?function(a,b){if(a===b){return j=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b){return j=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0}if(f===g){return ib(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){k.unshift(c)}while(h[d]===k[d]){d++}return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b))){try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}}else{if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=jb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=kb(b)}function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter){!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)}})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return !g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++){if(c=d.relative[a[j].type]){m=[qb(rb(m),c)]}else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++){if(d.relative[a[e].type]){break}}return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||0.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++]){if(o(m,g,i)){j.push(m);break}}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++]){o(r,s,g,i)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=E.call(j))}}s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--){f=ub(b[c]),f[s]?d.push(f):e.push(f)}f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++){db(a,b[d],c)}return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b){return e}a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type]){break}if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a){return G.apply(e,f),e}break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(w.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++){if(n.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){n.find(a,d[b],c)}return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return !!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||y).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b)){for(c in b){n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return y.find(a)}this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(n.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function E(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){var d;while((d=n.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body){return setTimeout(n.ready)}n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}});function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I){if(I=n.Deferred(),"complete"===z.readyState){setTimeout(n.ready)}else{if(z.addEventListener){z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1)}else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}}}return I.promise(b)};var L="undefined",M;for(M in n(l)){break}l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else{c=void 0}}return c}function Q(a){var b;for(b in a){if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!Q(d):!n.isEmptyObject(d)){return}}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--){d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]))}n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){n.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;function bb(){return !0}function cb(){return !1}function db(){try{return z.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;while(h--){f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(F)||[""],j=b.length;while(j--){if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--){g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}m=0;while((h=o[m++])&&!b.isPropagationStopped()){b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=cb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td;function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b))}}return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++){n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){n.event.add(b,c,h[c][d])}}}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events){n.removeEvent(b,d,e.handle)}b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g){d[g]&&Cb(e,d[g])}}if(b){if(c){for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++){Bb(e,d[g])}}else{Bb(a,f)}}return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++){if(f=a[q],f||0===f){if("object"===n.type(f)){n.merge(p,f.nodeType?[f]:f)}else{if(mb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];while(e--){h=h.lastChild}if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody){f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}n.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;while(f=p[q++]){if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c)){e=0;while(f=h[e++]){pb.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++){if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(vb(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0}if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p)){return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++){d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++){d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")))}}i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=z.getElementsByTagName("body")[0],!a){return}f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Jb,Kb,Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Mb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",j="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=h.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c){return c}var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f){return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c}},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b){return}c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=j,e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}});function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];function Vb(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;while(e--){if(b=Ub[e]+c,b in a){return b}}return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)))}return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e)){return e}d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]="",i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+U[d]+b]=f[d]||f[d-2]||f[0]}return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,n.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=U[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||n.style(a,d)}}if(!n.isEmptyObject(o)){r?"hidden" in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o){n.style(a,b,o[b])}});for(d in o){g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function kc(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++){if(d=ec[f].call(j,a,k,j.opts)){return d}}return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)}},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&dc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void (a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(F)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=n.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(F)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?n.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(F)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0){return !0}}return !1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[];function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&n.extend(!0,a,c),a}function Pc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Dc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t){return v}h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a)){return this.each(function(b){n(this).wrapAll(a.call(this,b))})}if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return !n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Wc(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Wc(c,a[c],b,e)}}return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc){Yc[a](void 0,!0)}}),l.cors=!!Zc&&"withCredentials" in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd){return cd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dd;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position")){a=a.offsetParent}return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});
/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
(function(window,document,exportName,undefined){var VENDOR_PREFIXES=["","webkit","moz","MS","ms","o"];var TEST_ELEMENT=document.createElement("div");var TYPE_FUNCTION="function";var round=Math.round;var abs=Math.abs;var now=Date.now;function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){if(Array.isArray(arg)){each(arg,context[fn],context);return true}return false}function each(obj,iterator,context){var i;if(!obj){return}if(obj.forEach){obj.forEach(iterator,context)}else{if(obj.length!==undefined){i=0;while(i<obj.length){iterator.call(context,obj[i],i,obj);i++}}else{for(i in obj){obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}}}}function extend(dest,src,merge){var keys=Object.keys(src);var i=0;while(i<keys.length){if(!merge||(merge&&dest[keys[i]]===undefined)){dest[keys[i]]=src[keys[i]]}i++}return dest}function merge(dest,src){return extend(dest,src,true)}function inherit(child,base,properties){var baseP=base.prototype,childP;childP=child.prototype=Object.create(baseP);childP.constructor=child;childP._super=baseP;if(properties){extend(childP,properties)}}function bindFn(fn,context){return function boundFn(){return fn.apply(context,arguments)}}function boolOrFn(val,args){if(typeof val==TYPE_FUNCTION){return val.apply(args?args[0]||undefined:undefined,args)}return val}function ifUndefined(val1,val2){return(val1===undefined)?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,false)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,false)})}function hasParent(node,parent){while(node){if(node==parent){return true}node=node.parentNode}return false}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey){return src.indexOf(find)}else{var i=0;while(i<src.length){if((findByKey&&src[i][findByKey]==find)||(!findByKey&&src[i]===find)){return i}i++}return -1}}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){var results=[];var values=[];var i=0;while(i<src.length){var val=key?src[i][key]:src[i];if(inArray(values,val)<0){results.push(src[i])}values[i]=val;i++}if(sort){if(!key){results=results.sort()}else{results=results.sort(function sortUniqueArray(a,b){return a[key]>b[key]})}}return results}function prefixed(obj,property){var prefix,prop;var camelProp=property[0].toUpperCase()+property.slice(1);var i=0;while(i<VENDOR_PREFIXES.length){prefix=VENDOR_PREFIXES[i];prop=(prefix)?prefix+camelProp:property;if(prop in obj){return prop}i++}return undefined}var _uniqueId=1;function uniqueId(){return _uniqueId++}function getWindowForElement(element){var doc=element.ownerDocument;return(doc.defaultView||doc.parentWindow)}var MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;var SUPPORT_TOUCH=("ontouchstart" in window);var SUPPORT_POINTER_EVENTS=prefixed(window,"PointerEvent")!==undefined;var SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent);var INPUT_TYPE_TOUCH="touch";var INPUT_TYPE_PEN="pen";var INPUT_TYPE_MOUSE="mouse";var INPUT_TYPE_KINECT="kinect";var COMPUTE_INTERVAL=25;var INPUT_START=1;var INPUT_MOVE=2;var INPUT_END=4;var INPUT_CANCEL=8;var DIRECTION_NONE=1;var DIRECTION_LEFT=2;var DIRECTION_RIGHT=4;var DIRECTION_UP=8;var DIRECTION_DOWN=16;var DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT;var DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL;var PROPS_XY=["x","y"];var PROPS_CLIENT_XY=["clientX","clientY"];function Input(manager,callback){var self=this;this.manager=manager;this.callback=callback;this.element=manager.element;this.target=manager.options.inputTarget;this.domHandler=function(ev){if(boolOrFn(manager.options.enable,[manager])){self.handler(ev)}};this.init()}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};function createInputInstance(manager){var Type;var inputClass=manager.options.inputClass;if(inputClass){Type=inputClass}else{if(SUPPORT_POINTER_EVENTS){Type=PointerEventInput}else{if(SUPPORT_ONLY_TOUCH){Type=TouchInput}else{if(!SUPPORT_TOUCH){Type=MouseInput}else{Type=TouchMouseInput}}}}return new (Type)(manager,inputHandler)}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length;var changedPointersLen=input.changedPointers.length;var isFirst=(eventType&INPUT_START&&(pointersLen-changedPointersLen===0));var isFinal=(eventType&(INPUT_END|INPUT_CANCEL)&&(pointersLen-changedPointersLen===0));input.isFirst=!!isFirst;input.isFinal=!!isFinal;if(isFirst){manager.session={}}input.eventType=eventType;computeInputData(manager,input);manager.emit("hammer.input",input);manager.recognize(input);manager.session.prevInput=input}function computeInputData(manager,input){var session=manager.session;var pointers=input.pointers;var pointersLength=pointers.length;if(!session.firstInput){session.firstInput=simpleCloneInputData(input)}if(pointersLength>1&&!session.firstMultiple){session.firstMultiple=simpleCloneInputData(input)}else{if(pointersLength===1){session.firstMultiple=false}}var firstInput=session.firstInput;var firstMultiple=session.firstMultiple;var offsetCenter=firstMultiple?firstMultiple.center:firstInput.center;var center=input.center=getCenter(pointers);input.timeStamp=now();input.deltaTime=input.timeStamp-firstInput.timeStamp;input.angle=getAngle(offsetCenter,center);input.distance=getDistance(offsetCenter,center);computeDeltaXY(session,input);input.offsetDirection=getDirection(input.deltaX,input.deltaY);input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1;input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0;computeIntervalInputData(session,input);var target=manager.element;if(hasParent(input.srcEvent.target,target)){target=input.srcEvent.target}input.target=target}function computeDeltaXY(session,input){var center=input.center;var offset=session.offsetDelta||{};var prevDelta=session.prevDelta||{};var prevInput=session.prevInput||{};if(input.eventType===INPUT_START||prevInput.eventType===INPUT_END){prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0};offset=session.offsetDelta={x:center.x,y:center.y}}input.deltaX=prevDelta.x+(center.x-offset.x);input.deltaY=prevDelta.y+(center.y-offset.y)}function computeIntervalInputData(session,input){var last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp,velocity,velocityX,velocityY,direction;if(input.eventType!=INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||last.velocity===undefined)){var deltaX=last.deltaX-input.deltaX;var deltaY=last.deltaY-input.deltaY;var v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x;velocityY=v.y;velocity=(abs(v.x)>abs(v.y))?v.x:v.y;direction=getDirection(deltaX,deltaY);session.lastInterval=input}else{velocity=last.velocity;velocityX=last.velocityX;velocityY=last.velocityY;direction=last.direction}input.velocity=velocity;input.velocityX=velocityX;input.velocityY=velocityY;input.direction=direction}function simpleCloneInputData(input){var pointers=[];var i=0;while(i<input.pointers.length){pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)};i++}return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(pointersLength===1){return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)}}var x=0,y=0,i=0;while(i<pointersLength){x+=pointers[i].clientX;y+=pointers[i].clientY;i++}return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){if(x===y){return DIRECTION_NONE}if(abs(x)>=abs(y)){return x>0?DIRECTION_LEFT:DIRECTION_RIGHT}return y>0?DIRECTION_UP:DIRECTION_DOWN}function getDistance(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt((x*x)+(y*y))}function getAngle(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.atan2(y,x)*180/Math.PI}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)-getAngle(start[1],start[0],PROPS_CLIENT_XY)}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END};var MOUSE_ELEMENT_EVENTS="mousedown";var MOUSE_WINDOW_EVENTS="mousemove mouseup";function MouseInput(){this.evEl=MOUSE_ELEMENT_EVENTS;this.evWin=MOUSE_WINDOW_EVENTS;this.allow=true;this.pressed=false;Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];if(eventType&INPUT_START&&ev.button===0){this.pressed=true}if(eventType&INPUT_MOVE&&ev.which!==1){eventType=INPUT_END}if(!this.pressed||!this.allow){return}if(eventType&INPUT_END){this.pressed=false}this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:INPUT_TYPE_MOUSE,srcEvent:ev})}});var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL};var IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT};var POINTER_ELEMENT_EVENTS="pointerdown";var POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";if(window.MSPointerEvent){POINTER_ELEMENT_EVENTS="MSPointerDown";POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"}function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS;this.evWin=POINTER_WINDOW_EVENTS;Input.apply(this,arguments);this.store=(this.manager.session.pointerEvents=[])}inherit(PointerEventInput,Input,{handler:function PEhandler(ev){var store=this.store;var removePointer=false;var eventTypeNormalized=ev.type.toLowerCase().replace("ms","");var eventType=POINTER_INPUT_MAP[eventTypeNormalized];var pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType;var isTouch=(pointerType==INPUT_TYPE_TOUCH);var storeIndex=inArray(store,ev.pointerId,"pointerId");if(eventType&INPUT_START&&(ev.button===0||isTouch)){if(storeIndex<0){store.push(ev);storeIndex=store.length-1}}else{if(eventType&(INPUT_END|INPUT_CANCEL)){removePointer=true}}if(storeIndex<0){return}store[storeIndex]=ev;this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev});if(removePointer){store.splice(storeIndex,1)}}});var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var SINGLE_TOUCH_TARGET_EVENTS="touchstart";var SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=SINGLE_TOUCH_TARGET_EVENTS;this.evWin=SINGLE_TOUCH_WINDOW_EVENTS;this.started=false;Input.apply(this,arguments)}inherit(SingleTouchInput,Input,{handler:function TEhandler(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START){this.started=true}if(!this.started){return}var touches=normalizeSingleTouches.call(this,ev,type);if(type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length===0){this.started=false}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}});function normalizeSingleTouches(ev,type){var all=toArray(ev.touches);var changed=toArray(ev.changedTouches);if(type&(INPUT_END|INPUT_CANCEL)){all=uniqueArray(all.concat(changed),"identifier",true)}return[all,changed]}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=TOUCH_TARGET_EVENTS;this.targetIds={};Input.apply(this,arguments)}inherit(TouchInput,Input,{handler:function MTEhandler(ev){var type=TOUCH_INPUT_MAP[ev.type];var touches=getTouches.call(this,ev,type);if(!touches){return}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}});function getTouches(ev,type){var allTouches=toArray(ev.touches);var targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&allTouches.length===1){targetIds[allTouches[0].identifier]=true;return[allTouches,allTouches]}var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)});if(type===INPUT_START){i=0;while(i<targetTouches.length){targetIds[targetTouches[i].identifier]=true;i++}}i=0;while(i<changedTouches.length){if(targetIds[changedTouches[i].identifier]){changedTargetTouches.push(changedTouches[i])}if(type&(INPUT_END|INPUT_CANCEL)){delete targetIds[changedTouches[i].identifier]}i++}if(!changedTargetTouches.length){return}return[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",true),changedTargetTouches]}function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler);this.mouse=new MouseInput(this.manager,handler)}inherit(TouchMouseInput,Input,{handler:function TMEhandler(manager,inputEvent,inputData){var isTouch=(inputData.pointerType==INPUT_TYPE_TOUCH),isMouse=(inputData.pointerType==INPUT_TYPE_MOUSE);if(isTouch){this.mouse.allow=false}else{if(isMouse&&!this.mouse.allow){return}}if(inputEvent&(INPUT_END|INPUT_CANCEL)){this.mouse.allow=true}this.callback(manager,inputEvent,inputData)},destroy:function destroy(){this.touch.destroy();this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction");var NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==undefined;var TOUCH_ACTION_COMPUTE="compute";var TOUCH_ACTION_AUTO="auto";var TOUCH_ACTION_MANIPULATION="manipulation";var TOUCH_ACTION_NONE="none";var TOUCH_ACTION_PAN_X="pan-x";var TOUCH_ACTION_PAN_Y="pan-y";function TouchAction(manager,value){this.manager=manager;this.set(value)}TouchAction.prototype={set:function(value){if(value==TOUCH_ACTION_COMPUTE){value=this.compute()}if(NATIVE_TOUCH_ACTION){this.manager.element.style[PREFIXED_TOUCH_ACTION]=value}this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];each(this.manager.recognizers,function(recognizer){if(boolOrFn(recognizer.options.enable,[recognizer])){actions=actions.concat(recognizer.getTouchAction())}});return cleanTouchActions(actions.join(" "))},preventDefaults:function(input){if(NATIVE_TOUCH_ACTION){return}var srcEvent=input.srcEvent;var direction=input.offsetDirection;if(this.manager.session.prevented){srcEvent.preventDefault();return}var actions=this.actions;var hasNone=inStr(actions,TOUCH_ACTION_NONE);var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);if(hasNone||(hasPanY&&direction&DIRECTION_HORIZONTAL)||(hasPanX&&direction&DIRECTION_VERTICAL)){return this.preventSrc(srcEvent)}},preventSrc:function(srcEvent){this.manager.session.prevented=true;srcEvent.preventDefault()}};function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE)){return TOUCH_ACTION_NONE}var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);if(hasPanX&&hasPanY){return TOUCH_ACTION_PAN_X+" "+TOUCH_ACTION_PAN_Y}if(hasPanX||hasPanY){return hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y}if(inStr(actions,TOUCH_ACTION_MANIPULATION)){return TOUCH_ACTION_MANIPULATION}return TOUCH_ACTION_AUTO}var STATE_POSSIBLE=1;var STATE_BEGAN=2;var STATE_CHANGED=4;var STATE_ENDED=8;var STATE_RECOGNIZED=STATE_ENDED;var STATE_CANCELLED=16;var STATE_FAILED=32;function Recognizer(options){this.id=uniqueId();this.manager=null;this.options=merge(options||{},this.defaults);this.options.enable=ifUndefined(this.options.enable,true);this.state=STATE_POSSIBLE;this.simultaneous={};this.requireFail=[]}Recognizer.prototype={defaults:{},set:function(options){extend(this.options,options);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this)){return this}var simultaneous=this.simultaneous;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(!simultaneous[otherRecognizer.id]){simultaneous[otherRecognizer.id]=otherRecognizer;otherRecognizer.recognizeWith(this)}return this},dropRecognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);delete this.simultaneous[otherRecognizer.id];return this},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this)){return this}var requireFail=this.requireFail;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(inArray(requireFail,otherRecognizer)===-1){requireFail.push(otherRecognizer);otherRecognizer.requireFailure(this)}return this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);if(index>-1){this.requireFail.splice(index,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return !!this.simultaneous[otherRecognizer.id]},emit:function(input){var self=this;var state=this.state;function emit(withState){self.manager.emit(self.options.event+(withState?stateStr(state):""),input)}if(state<STATE_ENDED){emit(true)}emit();if(state>=STATE_ENDED){emit(true)}},tryEmit:function(input){if(this.canEmit()){return this.emit(input)}this.state=STATE_FAILED},canEmit:function(){var i=0;while(i<this.requireFail.length){if(!(this.requireFail[i].state&(STATE_FAILED|STATE_POSSIBLE))){return false}i++}return true},recognize:function(inputData){var inputDataClone=extend({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone])){this.reset();this.state=STATE_FAILED;return}if(this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)){this.state=STATE_POSSIBLE}this.state=this.process(inputDataClone);if(this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)){this.tryEmit(inputDataClone)}},process:function(inputData){},getTouchAction:function(){},reset:function(){}};function stateStr(state){if(state&STATE_CANCELLED){return"cancel"}else{if(state&STATE_ENDED){return"end"}else{if(state&STATE_CHANGED){return"move"}else{if(state&STATE_BEGAN){return"start"}}}}return""}function directionStr(direction){if(direction==DIRECTION_DOWN){return"down"}else{if(direction==DIRECTION_UP){return"up"}else{if(direction==DIRECTION_LEFT){return"left"}else{if(direction==DIRECTION_RIGHT){return"right"}}}}return""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;if(manager){return manager.get(otherRecognizer)}return otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return optionPointers===0||input.pointers.length===optionPointers},process:function(input){var state=this.state;var eventType=input.eventType;var isRecognized=state&(STATE_BEGAN|STATE_CHANGED);var isValid=this.attrTest(input);if(isRecognized&&(eventType&INPUT_CANCEL||!isValid)){return state|STATE_CANCELLED}else{if(isRecognized||isValid){if(eventType&INPUT_END){return state|STATE_ENDED}else{if(!(state&STATE_BEGAN)){return STATE_BEGAN}}return state|STATE_CHANGED}}return STATE_FAILED}});function PanRecognizer(){AttrRecognizer.apply(this,arguments);this.pX=null;this.pY=null}inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:function(){var direction=this.options.direction;var actions=[];if(direction&DIRECTION_HORIZONTAL){actions.push(TOUCH_ACTION_PAN_Y)}if(direction&DIRECTION_VERTICAL){actions.push(TOUCH_ACTION_PAN_X)}return actions},directionTest:function(input){var options=this.options;var hasMoved=true;var distance=input.distance;var direction=input.direction;var x=input.deltaX;var y=input.deltaY;if(!(direction&options.direction)){if(options.direction&DIRECTION_HORIZONTAL){direction=(x===0)?DIRECTION_NONE:(x<0)?DIRECTION_LEFT:DIRECTION_RIGHT;hasMoved=x!=this.pX;distance=Math.abs(input.deltaX)}else{direction=(y===0)?DIRECTION_NONE:(y<0)?DIRECTION_UP:DIRECTION_DOWN;hasMoved=y!=this.pY;distance=Math.abs(input.deltaY)}}input.direction=direction;return hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||(!(this.state&STATE_BEGAN)&&this.directionTest(input)))},emit:function(input){this.pX=input.deltaX;this.pY=input.deltaY;var direction=directionStr(input.direction);if(direction){this.manager.emit(this.options.event+direction,input)}this._super.emit.call(this,input)}});function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},emit:function(input){this._super.emit.call(this,input);if(input.scale!==1){var inOut=input.scale<1?"in":"out";this.manager.emit(this.options.event+inOut,input)}}});function PressRecognizer(){Recognizer.apply(this,arguments);this._timer=null;this._input=null}inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[TOUCH_ACTION_AUTO]},process:function(input){var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTime=input.deltaTime>options.time;this._input=input;if(!validMovement||!validPointers||(input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime)){this.reset()}else{if(input.eventType&INPUT_START){this.reset();this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED;this.tryEmit()},options.time,this)}else{if(input.eventType&INPUT_END){return STATE_RECOGNIZED}}}return STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(input){if(this.state!==STATE_RECOGNIZED){return}if(input&&(input.eventType&INPUT_END)){this.manager.emit(this.options.event+"up",input)}else{this._input.timeStamp=now();this.manager.emit(this.options.event,this._input)}}});function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)}});function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var direction=this.options.direction;var velocity;if(direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)){velocity=input.velocity}else{if(direction&DIRECTION_HORIZONTAL){velocity=input.velocityX}else{if(direction&DIRECTION_VERTICAL){velocity=input.velocityY}}}return this._super.attrTest.call(this,input)&&direction&input.direction&&input.distance>this.options.threshold&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END},emit:function(input){var direction=directionStr(input.direction);if(direction){this.manager.emit(this.options.event+direction,input)}this.manager.emit(this.options.event,input)}});function TapRecognizer(){Recognizer.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[TOUCH_ACTION_MANIPULATION]},process:function(input){var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTouchTime=input.deltaTime<options.time;this.reset();if((input.eventType&INPUT_START)&&(this.count===0)){return this.failTimeout()}if(validMovement&&validTouchTime&&validPointers){if(input.eventType!=INPUT_END){return this.failTimeout()}var validInterval=this.pTime?(input.timeStamp-this.pTime<options.interval):true;var validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;this.pTime=input.timeStamp;this.pCenter=input.center;if(!validMultiTap||!validInterval){this.count=1}else{this.count+=1}this._input=input;var tapCount=this.count%options.taps;if(tapCount===0){if(!this.hasRequireFailures()){return STATE_RECOGNIZED}else{this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED;this.tryEmit()},options.interval,this);return STATE_BEGAN}}}return STATE_FAILED},failTimeout:function(){this._timer=setTimeoutContext(function(){this.state=STATE_FAILED},this.options.interval,this);return STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==STATE_RECOGNIZED){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function Hammer(element,options){options=options||{};options.recognizers=ifUndefined(options.recognizers,Hammer.defaults.preset);return new Manager(element,options)}Hammer.VERSION="2.0.4";Hammer.defaults={domEvents:false,touchAction:TOUCH_ACTION_COMPUTE,enable:true,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:false}],[PinchRecognizer,{enable:false},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var STOP=1;var FORCED_STOP=2;function Manager(element,options){options=options||{};this.options=merge(options,Hammer.defaults);this.options.inputTarget=this.options.inputTarget||element;this.handlers={};this.session={};this.recognizers=[];this.element=element;this.input=createInputInstance(this);this.touchAction=new TouchAction(this,this.options.touchAction);toggleCssProps(this,true);each(options.recognizers,function(item){var recognizer=this.add(new (item[0])(item[1]));item[2]&&recognizer.recognizeWith(item[2]);item[3]&&recognizer.requireFailure(item[3])},this)}Manager.prototype={set:function(options){extend(this.options,options);if(options.touchAction){this.touchAction.update()}if(options.inputTarget){this.input.destroy();this.input.target=options.inputTarget;this.input.init()}return this},stop:function(force){this.session.stopped=force?FORCED_STOP:STOP},recognize:function(inputData){var session=this.session;if(session.stopped){return}this.touchAction.preventDefaults(inputData);var recognizer;var recognizers=this.recognizers;var curRecognizer=session.curRecognizer;if(!curRecognizer||(curRecognizer&&curRecognizer.state&STATE_RECOGNIZED)){curRecognizer=session.curRecognizer=null}var i=0;while(i<recognizers.length){recognizer=recognizers[i];if(session.stopped!==FORCED_STOP&&(!curRecognizer||recognizer==curRecognizer||recognizer.canRecognizeWith(curRecognizer))){recognizer.recognize(inputData)}else{recognizer.reset()}if(!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)){curRecognizer=session.curRecognizer=recognizer}i++}},get:function(recognizer){if(recognizer instanceof Recognizer){return recognizer}var recognizers=this.recognizers;for(var i=0;i<recognizers.length;i++){if(recognizers[i].options.event==recognizer){return recognizers[i]}}return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this)){return this}var existing=this.get(recognizer.options.event);if(existing){this.remove(existing)}this.recognizers.push(recognizer);recognizer.manager=this;this.touchAction.update();return recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this)){return this}var recognizers=this.recognizers;recognizer=this.get(recognizer);recognizers.splice(inArray(recognizers,recognizer),1);this.touchAction.update();return this},on:function(events,handler){var handlers=this.handlers;each(splitStr(events),function(event){handlers[event]=handlers[event]||[];handlers[event].push(handler)});return this},off:function(events,handler){var handlers=this.handlers;each(splitStr(events),function(event){if(!handler){delete handlers[event]}else{handlers[event].splice(inArray(handlers[event],handler),1)}});return this},emit:function(event,data){if(this.options.domEvents){triggerDomEvent(event,data)}var handlers=this.handlers[event]&&this.handlers[event].slice();if(!handlers||!handlers.length){return}data.type=event;data.preventDefault=function(){data.srcEvent.preventDefault()};var i=0;while(i<handlers.length){handlers[i](data);i++}},destroy:function(){this.element&&toggleCssProps(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function toggleCssProps(manager,add){var element=manager.element;each(manager.options.cssProps,function(value,name){element.style[prefixed(element.style,name)]=add?value:""})}function triggerDomEvent(event,data){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,true,true);gestureEvent.gesture=data;data.target.dispatchEvent(gestureEvent)}extend(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:STATE_FAILED,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:DIRECTION_LEFT,DIRECTION_RIGHT:DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:merge,extend:extend,inherit:inherit,bindFn:bindFn,prefixed:prefixed});if(typeof define==TYPE_FUNCTION&&define.amd){define(function(){return Hammer})}else{if(typeof module!="undefined"&&module.exports){module.exports=Hammer}else{window[exportName]=Hammer}}})(window,document,"Hammer");var Swiper=function(a,b){function c(a,b){return document.querySelectorAll?(b||document).querySelectorAll(a):jQuery(a,b)}function d(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1}function e(){var a=F-I;return b.freeMode&&(a=F-I),b.slidesPerView>C.slides.length&&!b.centeredSlides&&(a=0),0>a&&(a=0),a}function f(){function a(a){var c=new Image;c.onload=function(){"undefined"!=typeof C&&null!==C&&(void 0!==C.imagesLoaded&&C.imagesLoaded++,C.imagesLoaded===C.imagesToLoad.length&&(C.reInit(),b.onImagesReady&&C.fireCallback(b.onImagesReady,C)))},c.src=a}var d=C.h.addEventListener,e="wrapper"===b.eventTarget?C.wrapper:C.container;if(C.browser.ie10||C.browser.ie11?(d(e,C.touchEvents.touchStart,p),d(document,C.touchEvents.touchMove,q),d(document,C.touchEvents.touchEnd,r)):(C.support.touch&&(d(e,"touchstart",p),d(e,"touchmove",q),d(e,"touchend",r)),b.simulateTouch&&(d(e,"mousedown",p),d(document,"mousemove",q),d(document,"mouseup",r))),b.autoResize&&d(window,"resize",C.resizeFix),g(),C._wheelEvent=!1,b.mousewheelControl){if(void 0!==document.onmousewheel&&(C._wheelEvent="mousewheel"),!C._wheelEvent){try{new WheelEvent("wheel"),C._wheelEvent="wheel"}catch(f){}}C._wheelEvent||(C._wheelEvent="DOMMouseScroll"),C._wheelEvent&&d(C.container,C._wheelEvent,j)}if(b.keyboardControl&&d(document,"keydown",i),b.updateOnImagesReady){C.imagesToLoad=c("img",C.container);for(var h=0;h<C.imagesToLoad.length;h++){a(C.imagesToLoad[h].getAttribute("src"))}}}function g(){var a,d=C.h.addEventListener;if(b.preventLinks){var e=c("a",C.container);for(a=0;a<e.length;a++){d(e[a],"click",n)}}if(b.releaseFormElements){var f=c("input, textarea, select",C.container);for(a=0;a<f.length;a++){d(f[a],C.touchEvents.touchStart,o,!0)}}if(b.onSlideClick){for(a=0;a<C.slides.length;a++){d(C.slides[a],"click",k)}}if(b.onSlideTouch){for(a=0;a<C.slides.length;a++){d(C.slides[a],C.touchEvents.touchStart,l)}}}function h(){var a,d=C.h.removeEventListener;if(b.onSlideClick){for(a=0;a<C.slides.length;a++){d(C.slides[a],"click",k)}}if(b.onSlideTouch){for(a=0;a<C.slides.length;a++){d(C.slides[a],C.touchEvents.touchStart,l)}}if(b.releaseFormElements){var e=c("input, textarea, select",C.container);for(a=0;a<e.length;a++){d(e[a],C.touchEvents.touchStart,o,!0)}}if(b.preventLinks){var f=c("a",C.container);for(a=0;a<f.length;a++){d(f[a],"click",n)}}}function i(a){var b=a.keyCode||a.charCode;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){if(37===b||39===b||38===b||40===b){for(var c=!1,d=C.h.getOffset(C.container),e=C.h.windowScroll().left,f=C.h.windowScroll().top,g=C.h.windowWidth(),h=C.h.windowHeight(),i=[[d.left,d.top],[d.left+C.width,d.top],[d.left,d.top+C.height],[d.left+C.width,d.top+C.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=e&&k[0]<=e+g&&k[1]>=f&&k[1]<=f+h&&(c=!0)}if(!c){return}}M?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),39===b&&C.swipeNext(),37===b&&C.swipePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&C.swipeNext(),38===b&&C.swipePrev())}}function j(a){var c=C._wheelEvent,d=0;if(a.detail){d=-a.detail}else{if("mousewheel"===c){if(b.mousewheelControlForceToAxis){if(M){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY))){return}d=a.wheelDeltaX}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX))){return}d=a.wheelDeltaY}}else{d=a.wheelDelta}}else{if("DOMMouseScroll"===c){d=-a.detail}else{if("wheel"===c){if(b.mousewheelControlForceToAxis){if(M){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY))){return}d=-a.deltaX}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX))){return}d=-a.deltaY}}else{d=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX:-a.deltaY}}}}}if(b.freeMode){var f=C.getWrapperTranslate()+d;if(f>0&&(f=0),f<-e()&&(f=-e()),C.setWrapperTransition(0),C.setWrapperTranslate(f),C.updateActiveSlide(f),0===f||f===-e()){return}}else{(new Date).getTime()-U>60&&(0>d?C.swipeNext():C.swipePrev()),U=(new Date).getTime()}return b.autoplay&&C.stopAutoplay(!0),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function k(a){C.allowSlideClick&&(m(a),C.fireCallback(b.onSlideClick,C,a))}function l(a){m(a),C.fireCallback(b.onSlideTouch,C,a)}function m(a){if(a.currentTarget){C.clickedSlide=a.currentTarget}else{var c=a.srcElement;do{if(c.className.indexOf(b.slideClass)>-1){break}c=c.parentNode}while(c);C.clickedSlide=c}C.clickedSlideIndex=C.slides.indexOf(C.clickedSlide),C.clickedSlideLoopIndex=C.clickedSlideIndex-(C.loopedSlides||0)}function n(a){return C.allowLinks?void 0:(a.preventDefault?a.preventDefault():a.returnValue=!1,b.preventLinksPropagation&&"stopPropagation" in a&&a.stopPropagation(),!1)}function o(a){return a.stopPropagation?a.stopPropagation():a.returnValue=!1,!1}function p(a){if(a.button==2){return !1}if(b.preventLinks&&(C.allowLinks=!0),C.isTouched||b.onlyExternal){return !1}var c=a.target||a.srcElement;document.activeElement&&document.activeElement!==c&&document.activeElement.nodeName!=="BODY"&&document.activeElement.blur();var d="input select textarea".split(" ");if(b.noSwiping&&c&&s(c)){return !1}if($=!1,C.isTouched=!0,Z="touchstart"===a.type,!Z&&"which" in a&&3===a.which){return !1}if(!Z||1===a.targetTouches.length){C.callPlugins("onTouchStartBegin"),!Z&&!C.isAndroid&&d.indexOf(c.tagName.toLowerCase())<0&&(a.preventDefault?a.preventDefault():a.returnValue=!1);var e=Z?a.targetTouches[0].pageX:a.pageX||a.clientX,f=Z?a.targetTouches[0].pageY:a.pageY||a.clientY;C.touches.startX=C.touches.currentX=e,C.touches.startY=C.touches.currentY=f,C.touches.start=C.touches.current=M?e:f,C.setWrapperTransition(0),C.positions.start=C.positions.current=C.getWrapperTranslate(),C.setWrapperTranslate(C.positions.start),C.times.start=(new Date).getTime(),H=void 0,b.moveStartThreshold>0&&(W=!1),b.onTouchStart&&C.fireCallback(b.onTouchStart,C,a),C.callPlugins("onTouchStartEnd")}}function q(a){if(C.isTouched&&!b.onlyExternal&&(!Z||"mousemove"!==a.type)){var c=Z?a.targetTouches[0].pageX:a.pageX||a.clientX,d=Z?a.targetTouches[0].pageY:a.pageY||a.clientY;if("undefined"==typeof H&&M&&(H=!!(H||Math.abs(d-C.touches.startY)>Math.abs(c-C.touches.startX))),"undefined"!=typeof H||M||(H=!!(H||Math.abs(d-C.touches.startY)<Math.abs(c-C.touches.startX))),H){return void (C.isTouched=!1)}if(M){if(!b.swipeToNext&&c<C.touches.startX||!b.swipeToPrev&&c>C.touches.startX){return}}else{if(!b.swipeToNext&&d<C.touches.startY||!b.swipeToPrev&&d>C.touches.startY){return}}if(a.assignedToSwiper){return void (C.isTouched=!1)}if(a.assignedToSwiper=!0,b.preventLinks&&(C.allowLinks=!1),b.onSlideClick&&(C.allowSlideClick=!1),b.autoplay&&C.stopAutoplay(!0),!Z||1===a.touches.length){if(C.isMoved||(C.callPlugins("onTouchMoveStart"),b.loop&&(C.fixLoop(),C.positions.start=C.getWrapperTranslate()),b.onTouchMoveStart&&C.fireCallback(b.onTouchMoveStart,C)),C.isMoved=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,C.touches.current=M?c:d,C.positions.current=(C.touches.current-C.touches.start)*b.touchRatio+C.positions.start,C.positions.current>0&&b.onResistanceBefore&&C.fireCallback(b.onResistanceBefore,C,C.positions.current),C.positions.current<-e()&&b.onResistanceAfter&&C.fireCallback(b.onResistanceAfter,C,Math.abs(C.positions.current+e())),b.resistance&&"100%"!==b.resistance){var f;if(C.positions.current>0&&(f=1-C.positions.current/I/2,C.positions.current=0.5>f?I/2:C.positions.current*f),C.positions.current<-e()){var g=(C.touches.current-C.touches.start)*b.touchRatio+(e()+C.positions.start);f=(I+g)/I;var h=C.positions.current-g*(1-f)/2,i=-e()-I/2;C.positions.current=i>h||0>=f?i:h}}if(b.resistance&&"100%"===b.resistance&&(C.positions.current>0&&(!b.freeMode||b.freeModeFluid)&&(C.positions.current=0),C.positions.current<-e()&&(!b.freeMode||b.freeModeFluid)&&(C.positions.current=-e())),!b.followFinger){return}if(b.moveStartThreshold){if(Math.abs(C.touches.current-C.touches.start)>b.moveStartThreshold||W){if(!W){return W=!0,void (C.touches.start=C.touches.current)}C.setWrapperTranslate(C.positions.current)}else{C.positions.current=C.positions.start}}else{C.setWrapperTranslate(C.positions.current)}return(b.freeMode||b.watchActiveIndex)&&C.updateActiveSlide(C.positions.current),b.grabCursor&&(C.container.style.cursor="move",C.container.style.cursor="grabbing",C.container.style.cursor="-moz-grabbin",C.container.style.cursor="-webkit-grabbing"),X||(X=C.touches.current),Y||(Y=(new Date).getTime()),C.velocity=(C.touches.current-X)/((new Date).getTime()-Y)/2,Math.abs(C.touches.current-X)<2&&(C.velocity=0),X=C.touches.current,Y=(new Date).getTime(),C.callPlugins("onTouchMoveEnd"),b.onTouchMove&&C.fireCallback(b.onTouchMove,C,a),!1}}}function r(a){if(H&&C.swipeReset(),!b.onlyExternal&&C.isTouched){C.isTouched=!1,b.grabCursor&&(C.container.style.cursor="move",C.container.style.cursor="grab",C.container.style.cursor="-moz-grab",C.container.style.cursor="-webkit-grab"),C.positions.current||0===C.positions.current||(C.positions.current=C.positions.start),b.followFinger&&C.setWrapperTranslate(C.positions.current),C.times.end=(new Date).getTime(),C.touches.diff=C.touches.current-C.touches.start,C.touches.abs=Math.abs(C.touches.diff),C.positions.diff=C.positions.current-C.positions.start,C.positions.abs=Math.abs(C.positions.diff);var c=C.positions.diff,d=C.positions.abs,f=C.times.end-C.times.start;5>d&&300>f&&C.allowLinks===!1&&(b.freeMode||0===d||C.swipeReset(),b.preventLinks&&(C.allowLinks=!0),b.onSlideClick&&(C.allowSlideClick=!0)),setTimeout(function(){"undefined"!=typeof C&&null!==C&&(b.preventLinks&&(C.allowLinks=!0),b.onSlideClick&&(C.allowSlideClick=!0))},100);var g=e();if(!C.isMoved&&b.freeMode){return C.isMoved=!1,b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd")}if(!C.isMoved||C.positions.current>0||C.positions.current<-g){return C.swipeReset(),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd")}if(C.isMoved=!1,b.freeMode){if(b.freeModeFluid){var h,i=1000*b.momentumRatio,j=C.velocity*i,k=C.positions.current+j,l=!1,m=20*Math.abs(C.velocity)*b.momentumBounceRatio;-g>k&&(b.momentumBounce&&C.support.transitions?(-m>k+g&&(k=-g-m),h=-g,l=!0,$=!0):k=-g),k>0&&(b.momentumBounce&&C.support.transitions?(k>m&&(k=m),h=0,l=!0,$=!0):k=0),0!==C.velocity&&(i=Math.abs((k-C.positions.current)/C.velocity)),C.setWrapperTranslate(k),C.setWrapperTransition(i),b.momentumBounce&&l&&C.wrapperTransitionEnd(function(){$&&(b.onMomentumBounce&&C.fireCallback(b.onMomentumBounce,C),C.callPlugins("onMomentumBounce"),C.setWrapperTranslate(h),C.setWrapperTransition(300))}),C.updateActiveSlide(k)}return(!b.freeModeFluid||f>=300)&&C.updateActiveSlide(C.positions.current),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd")}G=0>c?"toNext":"toPrev","toNext"===G&&300>=f&&(30>d||!b.shortSwipes?C.swipeReset():C.swipeNext(!0)),"toPrev"===G&&300>=f&&(30>d||!b.shortSwipes?C.swipeReset():C.swipePrev(!0));var n=0;if("auto"===b.slidesPerView){for(var o,p=Math.abs(C.getWrapperTranslate()),q=0,r=0;r<C.slides.length;r++){if(o=M?C.slides[r].getWidth(!0,b.roundLengths):C.slides[r].getHeight(!0,b.roundLengths),q+=o,q>p){n=o;break}}n>I&&(n=I)}else{n=E*b.slidesPerView}"toNext"===G&&f>300&&(d>=n*b.longSwipesRatio?C.swipeNext(!0):C.swipeReset()),"toPrev"===G&&f>300&&(d>=n*b.longSwipesRatio?C.swipePrev(!0):C.swipeReset()),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),C.callPlugins("onTouchEnd")}}function s(a){var c=!1;do{a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),a=a.parentElement}while(!c&&a.parentElement&&-1===a.className.indexOf(b.wrapperClass));return !c&&a.className.indexOf(b.wrapperClass)>-1&&a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),c}function t(a,b){var c,d=document.createElement("div");return d.innerHTML=b,c=d.firstChild,c.className+=" "+a,c.outerHTML}function u(a,c,d){function e(){var f=+new Date,l=f-g;h+=i*l/(1000/60),k="toNext"===j?h>a:a>h,k?(C.setWrapperTranslate(Math.ceil(h)),C._DOMAnimating=!0,window.setTimeout(function(){e()},1000/60)):(b.onSlideChangeEnd&&("to"===c?d.runCallbacks===!0&&C.fireCallback(b.onSlideChangeEnd,C,j):C.fireCallback(b.onSlideChangeEnd,C,j)),C.setWrapperTranslate(a),C._DOMAnimating=!1)}var f="to"===c&&d.speed>=0?d.speed:b.speed,g=+new Date;if(C.support.transitions||!b.DOMAnimation){C.setWrapperTranslate(a),C.setWrapperTransition(f)}else{var h=C.getWrapperTranslate(),i=Math.ceil((a-h)/f*(1000/60)),j=h>a?"toNext":"toPrev",k="toNext"===j?h>a:a>h;if(C._DOMAnimating){return}e()}C.updateActiveSlide(a),b.onSlideNext&&"next"===c&&C.fireCallback(b.onSlideNext,C,a),b.onSlidePrev&&"prev"===c&&C.fireCallback(b.onSlidePrev,C,a),b.onSlideReset&&"reset"===c&&C.fireCallback(b.onSlideReset,C,a),("next"===c||"prev"===c||"to"===c&&d.runCallbacks===!0)&&v(c)}function v(a){if(C.callPlugins("onSlideChangeStart"),b.onSlideChangeStart){if(b.queueStartCallbacks&&C.support.transitions){if(C._queueStartCallbacks){return}C._queueStartCallbacks=!0,C.fireCallback(b.onSlideChangeStart,C,a),C.wrapperTransitionEnd(function(){C._queueStartCallbacks=!1})}else{C.fireCallback(b.onSlideChangeStart,C,a)}}if(b.onSlideChangeEnd){if(C.support.transitions){if(b.queueEndCallbacks){if(C._queueEndCallbacks){return}C._queueEndCallbacks=!0,C.wrapperTransitionEnd(function(c){C.fireCallback(b.onSlideChangeEnd,c,a)})}else{C.wrapperTransitionEnd(function(c){C.fireCallback(b.onSlideChangeEnd,c,a)})}}else{b.DOMAnimation||setTimeout(function(){C.fireCallback(b.onSlideChangeEnd,C,a)},10)}}}function w(){var a=C.paginationButtons;if(a){for(var b=0;b<a.length;b++){C.h.removeEventListener(a[b],"click",y)}}}function x(){var a=C.paginationButtons;if(a){for(var b=0;b<a.length;b++){C.h.addEventListener(a[b],"click",y)}}}function y(a){for(var c,d=a.target||a.srcElement,e=C.paginationButtons,f=0;f<e.length;f++){d===e[f]&&(c=f)}b.autoplay&&C.stopAutoplay(!0),C.swipeTo(c)}function z(){_=setTimeout(function(){b.loop?(C.fixLoop(),C.swipeNext(!0)):C.swipeNext(!0)||(b.autoplayStopOnLast?(clearTimeout(_),_=void 0):C.swipeTo(0)),C.wrapperTransitionEnd(function(){"undefined"!=typeof _&&z()})},b.autoplay)}function A(){C.calcSlides(),b.loader.slides.length>0&&0===C.slides.length&&C.loadSlides(),b.loop&&C.createLoop(),C.init(),f(),b.pagination&&C.createPagination(!0),b.loop||b.initialSlide>0?C.swipeTo(b.initialSlide,0,!1):C.updateActiveSlide(0),b.autoplay&&C.startAutoplay(),C.centerIndex=C.activeIndex,b.onSwiperCreated&&C.fireCallback(b.onSwiperCreated,C),C.callPlugins("onSwiperCreated")}if(!document.body.outerHTML&&document.body.__defineGetter__&&HTMLElement){var B=HTMLElement.prototype;B.__defineGetter__&&B.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++){if(this[c]===a){return c}}return -1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof a&&(a.nodeType||0!==c(a).length)){var C=this;C.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},C.positions={start:0,abs:0,diff:0,current:0},C.times={start:0,end:0},C.id=(new Date).getTime(),C.container=a.nodeType?a:c(a)[0],C.isTouched=!1,C.isMoved=!1,C.activeIndex=0,C.centerIndex=0,C.activeLoaderIndex=0,C.activeLoopIndex=0,C.previousIndex=null,C.velocity=0,C.snapGrid=[],C.slidesGrid=[],C.imagesToLoad=[],C.imagesLoaded=0,C.wrapperLeft=0,C.wrapperRight=0,C.wrapperTop=0,C.wrapperBottom=0,C.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>=0;var D,E,F,G,H,I,J={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:0.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},swipeToPrev:!0,swipeToNext:!0,slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};b=b||{};for(var K in J){if(K in b&&"object"==typeof b[K]){for(var L in J[K]){L in b[K]||(b[K][L]=J[K][L])}}else{K in b||(b[K]=J[K])}}C.params=b,b.scrollContainer&&(b.freeMode=!0,b.freeModeFluid=!0),b.loop&&(b.resistance="100%");var M="horizontal"===b.mode,N=["mousedown","mousemove","mouseup"];C.browser.ie10&&(N=["MSPointerDown","MSPointerMove","MSPointerUp"]),C.browser.ie11&&(N=["pointerdown","pointermove","pointerup"]),C.touchEvents={touchStart:C.support.touch||!b.simulateTouch?"touchstart":N[0],touchMove:C.support.touch||!b.simulateTouch?"touchmove":N[1],touchEnd:C.support.touch||!b.simulateTouch?"touchend":N[2]};for(var O=C.container.childNodes.length-1;O>=0;O--){if(C.container.childNodes[O].className){for(var P=C.container.childNodes[O].className.split(/\s+/),Q=0;Q<P.length;Q++){P[Q]===b.wrapperClass&&(D=C.container.childNodes[O])}}}C.wrapper=D,C._extendSwiperSlide=function(a){return a.append=function(){return b.loop?a.insertAfter(C.slides.length-C.loopedSlides):(C.wrapper.appendChild(a),C.reInit()),a},a.prepend=function(){return b.loop?(C.wrapper.insertBefore(a,C.slides[C.loopedSlides]),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):C.wrapper.insertBefore(a,C.wrapper.firstChild),C.reInit(),a},a.insertAfter=function(c){if("undefined"==typeof c){return !1}var d;return b.loop?(d=C.slides[c+1+C.loopedSlides],d?C.wrapper.insertBefore(a,d):C.wrapper.appendChild(a),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):(d=C.slides[c+1],C.wrapper.insertBefore(a,d)),C.reInit(),a},a.clone=function(){return C._extendSwiperSlide(a.cloneNode(!0))},a.remove=function(){C.wrapper.removeChild(a),C.reInit()},a.html=function(b){return"undefined"==typeof b?a.innerHTML:(a.innerHTML=b,a)},a.index=function(){for(var b,c=C.slides.length-1;c>=0;c--){a===C.slides[c]&&(b=c)}return b},a.isActive=function(){return a.index()===C.activeIndex?!0:!1},a.swiperSlideDataStorage||(a.swiperSlideDataStorage={}),a.getData=function(b){return a.swiperSlideDataStorage[b]},a.setData=function(b,c){return a.swiperSlideDataStorage[b]=c,a},a.data=function(b,c){return"undefined"==typeof c?a.getAttribute("data-"+b):(a.setAttribute("data-"+b,c),a)},a.getWidth=function(b,c){return C.h.getWidth(a,b,c)},a.getHeight=function(b,c){return C.h.getHeight(a,b,c)},a.getOffset=function(){return C.h.getOffset(a)},a},C.calcSlides=function(a){var c=C.slides?C.slides.length:!1;C.slides=[],C.displaySlides=[];for(var d=0;d<C.wrapper.childNodes.length;d++){if(C.wrapper.childNodes[d].className){for(var e=C.wrapper.childNodes[d].className,f=e.split(/\s+/),i=0;i<f.length;i++){f[i]===b.slideClass&&C.slides.push(C.wrapper.childNodes[d])}}}for(d=C.slides.length-1;d>=0;d--){C._extendSwiperSlide(C.slides[d])}c!==!1&&(c!==C.slides.length||a)&&(h(),g(),C.updateActiveSlide(),C.params.pagination&&C.createPagination(),C.callPlugins("numberOfSlidesChanged"))},C.createSlide=function(a,c,d){c=c||C.params.slideClass,d=d||b.slideElement;var e=document.createElement(d);return e.innerHTML=a||"",e.className=c,C._extendSwiperSlide(e)},C.appendSlide=function(a,b,c){return a?a.nodeType?C._extendSwiperSlide(a).append():C.createSlide(a,b,c).append():void 0},C.prependSlide=function(a,b,c){return a?a.nodeType?C._extendSwiperSlide(a).prepend():C.createSlide(a,b,c).prepend():void 0},C.insertSlideAfter=function(a,b,c,d){return"undefined"==typeof a?!1:b.nodeType?C._extendSwiperSlide(b).insertAfter(a):C.createSlide(b,c,d).insertAfter(a)},C.removeSlide=function(a){if(C.slides[a]){if(b.loop){if(!C.slides[a+C.loopedSlides]){return !1}C.slides[a+C.loopedSlides].remove(),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()}else{C.slides[a].remove()}return !0}return !1},C.removeLastSlide=function(){return C.slides.length>0?(b.loop?(C.slides[C.slides.length-1-C.loopedSlides].remove(),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):C.slides[C.slides.length-1].remove(),!0):!1},C.removeAllSlides=function(){for(var a=C.slides.length-1;a>=0;a--){C.slides[a].remove()}},C.getSlide=function(a){return C.slides[a]},C.getLastSlide=function(){return C.slides[C.slides.length-1]},C.getFirstSlide=function(){return C.slides[0]},C.activeSlide=function(){return C.slides[C.activeIndex]},C.fireCallback=function(){var a=arguments[0];if("[object Array]"===Object.prototype.toString.call(a)){for(var c=0;c<a.length;c++){"function"==typeof a[c]&&a[c](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}else{"[object String]"===Object.prototype.toString.call(a)?b["on"+a]&&C.fireCallback(b["on"+a],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},C.addCallback=function(a,b){var c,e=this;return e.params["on"+a]?d(this.params["on"+a])?this.params["on"+a].push(b):"function"==typeof this.params["on"+a]?(c=this.params["on"+a],this.params["on"+a]=[],this.params["on"+a].push(c),this.params["on"+a].push(b)):void 0:(this.params["on"+a]=[],this.params["on"+a].push(b))},C.removeCallbacks=function(a){C.params["on"+a]&&(C.params["on"+a]=null)};var R=[];for(var S in C.plugins){if(b[S]){var T=C.plugins[S](C,b[S]);T&&R.push(T)}}C.callPlugins=function(a,b){b||(b={});for(var c=0;c<R.length;c++){a in R[c]&&R[c][a](b)}},!C.browser.ie10&&!C.browser.ie11||b.onlyExternal||C.wrapper.classList.add("swiper-wp8-"+(M?"horizontal":"vertical")),b.freeMode&&(C.container.className+=" swiper-free-mode"),C.initialized=!1,C.init=function(a,c){var d=C.h.getWidth(C.container,!1,b.roundLengths),e=C.h.getHeight(C.container,!1,b.roundLengths);if(d!==C.width||e!==C.height||a){C.width=d,C.height=e;var f,g,h,i,j,k,l;I=M?d:e;var m=C.wrapper;if(a&&C.calcSlides(c),"auto"===b.slidesPerView){var n=0,o=0;b.slidesOffset>0&&(m.style.paddingLeft="",m.style.paddingRight="",m.style.paddingTop="",m.style.paddingBottom=""),m.style.width="",m.style.height="",b.offsetPxBefore>0&&(M?C.wrapperLeft=b.offsetPxBefore:C.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(M?C.wrapperRight=b.offsetPxAfter:C.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(M?(C.wrapperLeft=(I-this.slides[0].getWidth(!0,b.roundLengths))/2,C.wrapperRight=(I-C.slides[C.slides.length-1].getWidth(!0,b.roundLengths))/2):(C.wrapperTop=(I-C.slides[0].getHeight(!0,b.roundLengths))/2,C.wrapperBottom=(I-C.slides[C.slides.length-1].getHeight(!0,b.roundLengths))/2)),M?(C.wrapperLeft>=0&&(m.style.paddingLeft=C.wrapperLeft+"px"),C.wrapperRight>=0&&(m.style.paddingRight=C.wrapperRight+"px")):(C.wrapperTop>=0&&(m.style.paddingTop=C.wrapperTop+"px"),C.wrapperBottom>=0&&(m.style.paddingBottom=C.wrapperBottom+"px")),k=0;var p=0;for(C.snapGrid=[],C.slidesGrid=[],h=0,l=0;l<C.slides.length;l++){f=C.slides[l].getWidth(!0,b.roundLengths),g=C.slides[l].getHeight(!0,b.roundLengths),b.calculateHeight&&(h=Math.max(h,g));var q=M?f:g;if(b.centeredSlides){var r=l===C.slides.length-1?0:C.slides[l+1].getWidth(!0,b.roundLengths),s=l===C.slides.length-1?0:C.slides[l+1].getHeight(!0,b.roundLengths),t=M?r:s;if(q>I){if(b.slidesPerViewFit){C.snapGrid.push(k+C.wrapperLeft),C.snapGrid.push(k+q-I+C.wrapperLeft)}else{for(var u=0;u<=Math.floor(q/(I+C.wrapperLeft));u++){C.snapGrid.push(0===u?k+C.wrapperLeft:k+C.wrapperLeft+I*u)}}C.slidesGrid.push(k+C.wrapperLeft)}else{C.snapGrid.push(p),C.slidesGrid.push(p)}p+=q/2+t/2}else{if(q>I){if(b.slidesPerViewFit){C.snapGrid.push(k),C.snapGrid.push(k+q-I)}else{if(0!==I){for(var v=0;v<=Math.floor(q/I);v++){C.snapGrid.push(k+I*v)}}else{C.snapGrid.push(k)}}}else{C.snapGrid.push(k)}C.slidesGrid.push(k)}k+=q,n+=f,o+=g}b.calculateHeight&&(C.height=h),M?(F=n+C.wrapperRight+C.wrapperLeft,m.style.width=n+"px",m.style.height=C.height+"px"):(F=o+C.wrapperTop+C.wrapperBottom,m.style.width=C.width+"px",m.style.height=o+"px")}else{if(b.scrollContainer){m.style.width="",m.style.height="",i=C.slides[0].getWidth(!0,b.roundLengths),j=C.slides[0].getHeight(!0,b.roundLengths),F=M?i:j,m.style.width=i+"px",m.style.height=j+"px",E=M?i:j}else{if(b.calculateHeight){for(h=0,j=0,M||(C.container.style.height=""),m.style.height="",l=0;l<C.slides.length;l++){C.slides[l].style.height="",h=Math.max(C.slides[l].getHeight(!0),h),M||(j+=C.slides[l].getHeight(!0))}g=h,C.height=g,M?j=g:(I=g,C.container.style.height=I+"px")}else{g=M?C.height:C.height/b.slidesPerView,b.roundLengths&&(g=Math.ceil(g)),j=M?C.height:C.slides.length*g}for(f=M?C.width/b.slidesPerView:C.width,b.roundLengths&&(f=Math.ceil(f)),i=M?C.slides.length*f:C.width,E=M?f:g,b.offsetSlidesBefore>0&&(M?C.wrapperLeft=E*b.offsetSlidesBefore:C.wrapperTop=E*b.offsetSlidesBefore),b.offsetSlidesAfter>0&&(M?C.wrapperRight=E*b.offsetSlidesAfter:C.wrapperBottom=E*b.offsetSlidesAfter),b.offsetPxBefore>0&&(M?C.wrapperLeft=b.offsetPxBefore:C.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(M?C.wrapperRight=b.offsetPxAfter:C.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(M?(C.wrapperLeft=(I-E)/2,C.wrapperRight=(I-E)/2):(C.wrapperTop=(I-E)/2,C.wrapperBottom=(I-E)/2)),M?(C.wrapperLeft>0&&(m.style.paddingLeft=C.wrapperLeft+"px"),C.wrapperRight>0&&(m.style.paddingRight=C.wrapperRight+"px")):(C.wrapperTop>0&&(m.style.paddingTop=C.wrapperTop+"px"),C.wrapperBottom>0&&(m.style.paddingBottom=C.wrapperBottom+"px")),F=M?i+C.wrapperRight+C.wrapperLeft:j+C.wrapperTop+C.wrapperBottom,parseFloat(i)>0&&(!b.cssWidthAndHeight||"height"===b.cssWidthAndHeight)&&(m.style.width=i+"px"),parseFloat(j)>0&&(!b.cssWidthAndHeight||"width"===b.cssWidthAndHeight)&&(m.style.height=j+"px"),k=0,C.snapGrid=[],C.slidesGrid=[],l=0;l<C.slides.length;l++){C.snapGrid.push(k),C.slidesGrid.push(k),k+=E,parseFloat(f)>0&&(!b.cssWidthAndHeight||"height"===b.cssWidthAndHeight)&&(C.slides[l].style.width=f+"px"),parseFloat(g)>0&&(!b.cssWidthAndHeight||"width"===b.cssWidthAndHeight)&&(C.slides[l].style.height=g+"px")}}}C.initialized?(C.callPlugins("onInit"),b.onInit&&C.fireCallback(b.onInit,C)):(C.callPlugins("onFirstInit"),b.onFirstInit&&C.fireCallback(b.onFirstInit,C)),C.initialized=!0}},C.reInit=function(a){C.init(!0,a)},C.resizeFix=function(a){C.callPlugins("beforeResizeFix"),C.init(b.resizeReInit||a),b.freeMode?C.getWrapperTranslate()<-e()&&(C.setWrapperTransition(0),C.setWrapperTranslate(-e())):(C.swipeTo(b.loop?C.activeLoopIndex:C.activeIndex,0,!1),b.autoplay&&(C.support.transitions&&"undefined"!=typeof _?"undefined"!=typeof _&&(clearTimeout(_),_=void 0,C.startAutoplay()):"undefined"!=typeof ab&&(clearInterval(ab),ab=void 0,C.startAutoplay()))),C.callPlugins("afterResizeFix")},C.destroy=function(){var a=C.h.removeEventListener,c="wrapper"===b.eventTarget?C.wrapper:C.container;C.browser.ie10||C.browser.ie11?(a(c,C.touchEvents.touchStart,p),a(document,C.touchEvents.touchMove,q),a(document,C.touchEvents.touchEnd,r)):(C.support.touch&&(a(c,"touchstart",p),a(c,"touchmove",q),a(c,"touchend",r)),b.simulateTouch&&(a(c,"mousedown",p),a(document,"mousemove",q),a(document,"mouseup",r))),b.autoResize&&a(window,"resize",C.resizeFix),h(),b.paginationClickable&&w(),b.mousewheelControl&&C._wheelEvent&&a(C.container,C._wheelEvent,j),b.keyboardControl&&a(document,"keydown",i),b.autoplay&&C.stopAutoplay(),C.callPlugins("onDestroy"),C=null},C.disableKeyboardControl=function(){b.keyboardControl=!1,C.h.removeEventListener(document,"keydown",i)},C.enableKeyboardControl=function(){b.keyboardControl=!0,C.h.addEventListener(document,"keydown",i)};var U=(new Date).getTime();if(C.disableMousewheelControl=function(){return C._wheelEvent?(b.mousewheelControl=!1,C.h.removeEventListener(C.container,C._wheelEvent,j),!0):!1},C.enableMousewheelControl=function(){return C._wheelEvent?(b.mousewheelControl=!0,C.h.addEventListener(C.container,C._wheelEvent,j),!0):!1},b.grabCursor){var V=C.container.style;V.cursor="move",V.cursor="grab",V.cursor="-moz-grab",V.cursor="-webkit-grab"}C.allowSlideClick=!0,C.allowLinks=!0;var W,X,Y,Z=!1,$=!0;C.swipeNext=function(a){!a&&b.loop&&C.fixLoop(),!a&&b.autoplay&&C.stopAutoplay(!0),C.callPlugins("onSwipeNext");var c=C.getWrapperTranslate(),d=c;if("auto"===b.slidesPerView){for(var f=0;f<C.snapGrid.length;f++){if(-c>=C.snapGrid[f]&&-c<C.snapGrid[f+1]){d=-C.snapGrid[f+1];break}}}else{var g=E*b.slidesPerGroup;d=-(Math.floor(Math.abs(c)/Math.floor(g))*g+g)}return d<-e()&&(d=-e()),d===c?!1:(u(d,"next"),!0)},C.swipePrev=function(a){!a&&b.loop&&C.fixLoop(),!a&&b.autoplay&&C.stopAutoplay(!0),C.callPlugins("onSwipePrev");var c,d=Math.ceil(C.getWrapperTranslate());if("auto"===b.slidesPerView){c=0;for(var e=1;e<C.snapGrid.length;e++){if(-d===C.snapGrid[e]){c=-C.snapGrid[e-1];break}if(-d>C.snapGrid[e]&&-d<C.snapGrid[e+1]){c=-C.snapGrid[e];break}}}else{var f=E*b.slidesPerGroup;c=-(Math.ceil(-d/f)-1)*f}return c>0&&(c=0),c===d?!1:(u(c,"prev"),!0)},C.swipeReset=function(){C.callPlugins("onSwipeReset");var a,c=C.getWrapperTranslate(),d=E*b.slidesPerGroup;-e();if("auto"===b.slidesPerView){a=0;for(var f=0;f<C.snapGrid.length;f++){if(-c===C.snapGrid[f]){return}if(-c>=C.snapGrid[f]&&-c<C.snapGrid[f+1]){a=C.positions.diff>0?-C.snapGrid[f+1]:-C.snapGrid[f];break}}-c>=C.snapGrid[C.snapGrid.length-1]&&(a=-C.snapGrid[C.snapGrid.length-1]),c<=-e()&&(a=-e())}else{a=0>c?Math.round(c/d)*d:0,c<=-e()&&(a=-e())}return b.scrollContainer&&(a=0>c?c:0),a<-e()&&(a=-e()),b.scrollContainer&&I>E&&(a=0),a===c?!1:(u(a,"reset"),!0)},C.swipeTo=function(a,c,d){a=parseInt(a,10),C.callPlugins("onSwipeTo",{index:a,speed:c}),b.loop&&(a+=C.loopedSlides);var f=C.getWrapperTranslate();if(!(a>C.slides.length-1||0>a)){var g;return g="auto"===b.slidesPerView?-C.slidesGrid[a]:-a*E,g<-e()&&(g=-e()),g===f?!1:(d=d===!1?!1:!0,u(g,"to",{index:a,speed:c,runCallbacks:d}),!0)}},C._queueStartCallbacks=!1,C._queueEndCallbacks=!1,C.updateActiveSlide=function(a){if(C.initialized&&0!==C.slides.length){C.previousIndex=C.activeIndex,"undefined"==typeof a&&(a=C.getWrapperTranslate()),a>0&&(a=0);var c;if("auto"===b.slidesPerView){if(C.activeIndex=C.slidesGrid.indexOf(-a),C.activeIndex<0){for(c=0;c<C.slidesGrid.length-1&&!(-a>C.slidesGrid[c]&&-a<C.slidesGrid[c+1]);c++){}var d=Math.abs(C.slidesGrid[c]+a),e=Math.abs(C.slidesGrid[c+1]+a);C.activeIndex=e>=d?c:c+1}}else{C.activeIndex=Math[b.visibilityFullFit?"ceil":"round"](-a/E)}if(C.activeIndex===C.slides.length&&(C.activeIndex=C.slides.length-1),C.activeIndex<0&&(C.activeIndex=0),C.slides[C.activeIndex]){if(C.calcVisibleSlides(a),C.support.classList){var f;for(c=0;c<C.slides.length;c++){f=C.slides[c],f.classList.remove(b.slideActiveClass),C.visibleSlides.indexOf(f)>=0?f.classList.add(b.slideVisibleClass):f.classList.remove(b.slideVisibleClass)}C.slides[C.activeIndex].classList.add(b.slideActiveClass)}else{var g=new RegExp("\\s*"+b.slideActiveClass),h=new RegExp("\\s*"+b.slideVisibleClass);for(c=0;c<C.slides.length;c++){C.slides[c].className=C.slides[c].className.replace(g,"").replace(h,""),C.visibleSlides.indexOf(C.slides[c])>=0&&(C.slides[c].className+=" "+b.slideVisibleClass)}C.slides[C.activeIndex].className+=" "+b.slideActiveClass}if(b.loop){var i=C.loopedSlides;C.activeLoopIndex=C.activeIndex-i,C.activeLoopIndex>=C.slides.length-2*i&&(C.activeLoopIndex=C.slides.length-2*i-C.activeLoopIndex),C.activeLoopIndex<0&&(C.activeLoopIndex=C.slides.length-2*i+C.activeLoopIndex),C.activeLoopIndex<0&&(C.activeLoopIndex=0)}else{C.activeLoopIndex=C.activeIndex}b.pagination&&C.updatePagination(a)}}},C.createPagination=function(a){if(b.paginationClickable&&C.paginationButtons&&w(),C.paginationContainer=b.pagination.nodeType?b.pagination:c(b.pagination)[0],b.createPagination){var d="",e=C.slides.length,f=e;b.loop&&(f-=2*C.loopedSlides);for(var g=0;f>g;g++){d+="<"+b.paginationElement+' class="'+b.paginationElementClass+'"></'+b.paginationElement+">"}C.paginationContainer.innerHTML=d}C.paginationButtons=c("."+b.paginationElementClass,C.paginationContainer),a||C.updatePagination(),C.callPlugins("onCreatePagination"),b.paginationClickable&&x()},C.updatePagination=function(a){if(b.pagination&&!(C.slides.length<1)){var d=c("."+b.paginationActiveClass,C.paginationContainer);if(d){var e=C.paginationButtons;if(0!==e.length){for(var f=0;f<e.length;f++){e[f].className=b.paginationElementClass}var g=b.loop?C.loopedSlides:0;if(b.paginationAsRange){C.visibleSlides||C.calcVisibleSlides(a);var h,i=[];for(h=0;h<C.visibleSlides.length;h++){var j=C.slides.indexOf(C.visibleSlides[h])-g;b.loop&&0>j&&(j=C.slides.length-2*C.loopedSlides+j),b.loop&&j>=C.slides.length-2*C.loopedSlides&&(j=C.slides.length-2*C.loopedSlides-j,j=Math.abs(j)),i.push(j)}for(h=0;h<i.length;h++){e[i[h]]&&(e[i[h]].className+=" "+b.paginationVisibleClass)}b.loop?void 0!==e[C.activeLoopIndex]&&(e[C.activeLoopIndex].className+=" "+b.paginationActiveClass):e[C.activeIndex].className+=" "+b.paginationActiveClass}else{b.loop?e[C.activeLoopIndex]&&(e[C.activeLoopIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass):e[C.activeIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass}}}}},C.calcVisibleSlides=function(a){var c=[],d=0,e=0,f=0;M&&C.wrapperLeft>0&&(a+=C.wrapperLeft),!M&&C.wrapperTop>0&&(a+=C.wrapperTop);for(var g=0;g<C.slides.length;g++){d+=e,e="auto"===b.slidesPerView?M?C.h.getWidth(C.slides[g],!0,b.roundLengths):C.h.getHeight(C.slides[g],!0,b.roundLengths):E,f=d+e;var h=!1;b.visibilityFullFit?(d>=-a&&-a+I>=f&&(h=!0),-a>=d&&f>=-a+I&&(h=!0)):(f>-a&&-a+I>=f&&(h=!0),d>=-a&&-a+I>d&&(h=!0),-a>d&&f>-a+I&&(h=!0)),h&&c.push(C.slides[g])}0===c.length&&(c=[C.slides[C.activeIndex]]),C.visibleSlides=c};var _,ab;C.startAutoplay=function(){if(C.support.transitions){if("undefined"!=typeof _){return !1}if(!b.autoplay){return}C.callPlugins("onAutoplayStart"),b.onAutoplayStart&&C.fireCallback(b.onAutoplayStart,C),z()}else{if("undefined"!=typeof ab){return !1}if(!b.autoplay){return}C.callPlugins("onAutoplayStart"),b.onAutoplayStart&&C.fireCallback(b.onAutoplayStart,C),ab=setInterval(function(){b.loop?(C.fixLoop(),C.swipeNext(!0)):C.swipeNext(!0)||(b.autoplayStopOnLast?(clearInterval(ab),ab=void 0):C.swipeTo(0))},b.autoplay)}},C.stopAutoplay=function(a){if(C.support.transitions){if(!_){return}_&&clearTimeout(_),_=void 0,a&&!b.autoplayDisableOnInteraction&&C.wrapperTransitionEnd(function(){z()}),C.callPlugins("onAutoplayStop"),b.onAutoplayStop&&C.fireCallback(b.onAutoplayStop,C)}else{ab&&clearInterval(ab),ab=void 0,C.callPlugins("onAutoplayStop"),b.onAutoplayStop&&C.fireCallback(b.onAutoplayStop,C)}},C.loopCreated=!1,C.removeLoopedSlides=function(){if(C.loopCreated){for(var a=0;a<C.slides.length;a++){C.slides[a].getData("looped")===!0&&C.wrapper.removeChild(C.slides[a])}}},C.createLoop=function(){if(0!==C.slides.length){C.loopedSlides="auto"===b.slidesPerView?b.loopedSlides||1:b.slidesPerView+b.loopAdditionalSlides,C.loopedSlides>C.slides.length&&(C.loopedSlides=C.slides.length);var a,c="",d="",e="",f=C.slides.length,g=Math.floor(C.loopedSlides/f),h=C.loopedSlides%f;for(a=0;g*f>a;a++){var i=a;if(a>=f){var j=Math.floor(a/f);i=a-f*j}e+=C.slides[i].outerHTML}for(a=0;h>a;a++){d+=t(b.slideDuplicateClass,C.slides[a].outerHTML)}for(a=f-h;f>a;a++){c+=t(b.slideDuplicateClass,C.slides[a].outerHTML)}var k=c+e+D.innerHTML+e+d;for(D.innerHTML=k,C.loopCreated=!0,C.calcSlides(),a=0;a<C.slides.length;a++){(a<C.loopedSlides||a>=C.slides.length-C.loopedSlides)&&C.slides[a].setData("looped",!0)}C.callPlugins("onCreateLoop")}},C.fixLoop=function(){var a;C.activeIndex<C.loopedSlides?(a=C.slides.length-3*C.loopedSlides+C.activeIndex,C.swipeTo(a,0,!1)):("auto"===b.slidesPerView&&C.activeIndex>=2*C.loopedSlides||C.activeIndex>C.slides.length-2*b.slidesPerView)&&(a=-C.slides.length+C.activeIndex+C.loopedSlides,C.swipeTo(a,0,!1))},C.loadSlides=function(){var a="";C.activeLoaderIndex=0;for(var c=b.loader.slides,d=b.loader.loadAllSlides?c.length:b.slidesPerView*(1+b.loader.surroundGroups),e=0;d>e;e++){a+="outer"===b.loader.slidesHTMLType?c[e]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+e+'">'+c[e]+"</"+b.slideElement+">"}C.wrapper.innerHTML=a,C.calcSlides(!0),b.loader.loadAllSlides||C.wrapperTransitionEnd(C.reloadSlides,!0)},C.reloadSlides=function(){var a=b.loader.slides,c=parseInt(C.activeSlide().data("swiperindex"),10);if(!(0>c||c>a.length-1)){C.activeLoaderIndex=c;var d=Math.max(0,c-b.slidesPerView*b.loader.surroundGroups),e=Math.min(c+b.slidesPerView*(1+b.loader.surroundGroups)-1,a.length-1);if(c>0){var f=-E*(c-d);C.setWrapperTranslate(f),C.setWrapperTransition(0)}var g;if("reload"===b.loader.logic){C.wrapper.innerHTML="";var h="";for(g=d;e>=g;g++){h+="outer"===b.loader.slidesHTMLType?a[g]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+g+'">'+a[g]+"</"+b.slideElement+">"}C.wrapper.innerHTML=h}else{var i=1000,j=0;for(g=0;g<C.slides.length;g++){var k=C.slides[g].data("swiperindex");d>k||k>e?C.wrapper.removeChild(C.slides[g]):(i=Math.min(k,i),j=Math.max(k,j))}for(g=d;e>=g;g++){var l;i>g&&(l=document.createElement(b.slideElement),l.className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],C.wrapper.insertBefore(l,C.wrapper.firstChild)),g>j&&(l=document.createElement(b.slideElement),l.className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],C.wrapper.appendChild(l))}}C.reInit(!0)}},A()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(a,b){function c(h){if(h.target===f&&(a(e),e.params.queueEndCallbacks&&(e._queueEndCallbacks=!1),!b)){for(d=0;d<g.length;d++){e.h.removeEventListener(f,g[d],c)}}}var d,e=this,f=e.wrapper,g=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(a){for(d=0;d<g.length;d++){e.h.addEventListener(f,g[d],c)}}},getWrapperTranslate:function(a){var b,c,d,e,f=this.wrapper;return"undefined"==typeof a&&(a="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(d=window.getComputedStyle(f,null),window.WebKitCSSMatrix?e=new WebKitCSSMatrix("none"===d.webkitTransform?"":d.webkitTransform):(e=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),b=e.toString().split(",")),"x"===a&&(c=window.WebKitCSSMatrix?e.m41:parseFloat(16===b.length?b[12]:b[4])),"y"===a&&(c=window.WebKitCSSMatrix?e.m42:parseFloat(16===b.length?b[13]:b[5]))):("x"===a&&(c=parseFloat(f.style.left,10)||0),"y"===a&&(c=parseFloat(f.style.top,10)||0)),c||0},setWrapperTranslate:function(a,b,c){var d,e=this.wrapper.style,f={x:0,y:0,z:0};3===arguments.length?(f.x=a,f.y=b,f.z=c):("undefined"==typeof b&&(b="horizontal"===this.params.mode?"x":"y"),f[b]=a),this.support.transforms&&this.params.useCSS3Transforms?(d=this.support.transforms3d?"translate3d("+f.x+"px, "+f.y+"px, "+f.z+"px)":"translate("+f.x+"px, "+f.y+"px)",e.webkitTransform=e.MsTransform=e.msTransform=e.MozTransform=e.OTransform=e.transform=d):(e.left=f.x+"px",e.top=f.y+"px"),this.callPlugins("onSetWrapperTransform",f),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,f)},setWrapperTransition:function(a){var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.msTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=a/1000+"s",this.callPlugins("onSetWrapperTransition",{duration:a}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,a)},h:{getWidth:function(a,b,c){var d=window.getComputedStyle(a,null).getPropertyValue("width"),e=parseFloat(d);return(isNaN(e)||d.indexOf("%")>0||0>e)&&(e=a.offsetWidth-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),c?Math.ceil(e):e},getHeight:function(a,b,c){if(b){return a.offsetHeight}var d=window.getComputedStyle(a,null).getPropertyValue("height"),e=parseFloat(d);return(isNaN(e)||d.indexOf("%")>0||0>e)&&(e=a.offsetHeight-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),c?Math.ceil(e):e},getOffset:function(a){var b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return document.documentElement&&!window.pageYOffset&&(f=document.documentElement.scrollTop,g=document.documentElement.scrollLeft),{top:b.top+f-d,left:b.left+g-e}},windowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(a,b,c,d){"undefined"==typeof d&&(d=!1),a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){"undefined"==typeof d&&(d=!1),a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}},setTransform:function(a,b){var c=a.style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b},setTranslate:function(a,b){var c=a.style,d={x:b.x||0,y:b.y||0,z:b.z||0},e=this.support.transforms3d?"translate3d("+d.x+"px,"+d.y+"px,"+d.z+"px)":"translate("+d.x+"px,"+d.y+"px)";c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=e,this.support.transforms||(c.left=d.x+"px",c.top=d.y+"px")},setTransition:function(a,b){var c=a.style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return !!("ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective" in a||"MozPerspective" in a||"OPerspective" in a||"MsPerspective" in a||"perspective" in a}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){var a=document.createElement("div").style;return"transform" in a||"WebkitTransform" in a||"MozTransform" in a||"msTransform" in a||"MsTransform" in a||"OTransform" in a}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){var a=document.createElement("div").style;return"transition" in a||"WebkitTransition" in a||"MozTransition" in a||"msTransition" in a||"MsTransition" in a||"OTransition" in a}(),classList:function(){var a=document.createElement("div");return"classList" in a}()},browser:{ie8:function(){var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/);null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return -1!==a&&9>a}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},(window.jQuery||window.Zepto)&&!function(a){a.fn.swiper=function(b){var c;return this.each(function(d){var e=a(this);if(!e.data("swiper")){var f=new Swiper(e[0],b);d||(c=f),e.data("swiper",f)}}),c}}(window.jQuery||window.Zepto),"undefined"!=typeof module&&(module.exports=Swiper),"function"==typeof define&&define.amd&&define([],function(){return Swiper});var TraceHandler=function(tLevel){var _traceData=new Array();var _traceWindow;var _traceLevel;var _initialized=false;var _traceDocumentPath="about:blank";var _colors={};_colors[TraceHandler.LEVEL_ALL]="#000000";_colors[TraceHandler.LEVEL_INFO]="#000000";_colors[TraceHandler.LEVEL_ERROR]="#dd0000";_colors[TraceHandler.LEVEL_PLUGIN]="#009900";_colors[TraceHandler.LEVEL_TRACKING]="#0000ff";function _setTraceMode(mode){_traceLevel=mode?parseInt(mode):0;if(isNaN(_traceLevel)){_traceLevel=1}if(_traceLevel=="silent"){_traceData=new Array()}else{try{_traceWindow=window.open(_traceDocumentPath,"traceWindow","top=0,left=30,width="+(screen.width-40)+",height=250,resizable=1,scrollbars=1")}catch(ex){console.log(ex.message)}if(_traceWindow){setTimeout('cc.traceHandler.getWindowRef().document.title = "ORISA JavaScript Tracing ('+_traceLevel+')"',500)}}_initialized=true}function _doTrace(type,col1,col2,col3){if(!_traceWindow||_traceWindow.closed||(_traceLevel!=TraceHandler.LEVEL_ALL&&(type&_traceLevel)==0)){if(!_traceWindow||_traceWindow.closed){_traceLevel=0}return false}if(_initialized&&_traceWindow&&!_traceWindow.closed){if(_traceLevel=="silent"){_traceSilent(type,col1,col2,col3)}else{if(_traceWindow){_traceVisible(type,col1,col2,col3)}else{if(console){console.log(col1+" ("+type+")\n"+col2+":\t"+col3)}}}}}function _traceSilent(_type,_col1,_col2,_col3){if(_traceData.length>99){_traceData.shift()}_traceData[_traceData.length]={type:_type,col1:_col1,col2:_col2,col3:_col3,date:new Date()}}function _traceVisible(_type,_col1,_col2,_col3,_date){try{if(_traceWindow.closed){setTraceMode(_traceLevel)}var dateObj;if(typeof(_date)=="object"&&typeof(_date.getTime)=="function"){dateObj=_date}else{dateObj=new Date()}var date=_fillBefore(dateObj.getHours(),2,"0")+":"+_fillBefore(dateObj.getMinutes(),2,"0")+":"+_fillBefore(dateObj.getSeconds(),2,"0")+"."+_fillBefore(dateObj.getMilliseconds(),3,"0");var dateId="_"+date.replace(/[\.|:]/g,"_")+"_";var row="<div id='"+dateId+"' style='font-size:12px; font-family:monospace; padding:0px; margin:0px;border-bottom:1px dotted #EEEEEE;color:"+_colors[_type]+"'>";if(_type!=TraceHandler.LEVEL_TRACKING){_col1=_col1+": ";_col2=_col2+": "}var _col3Str="";if(typeof(_col3)=="string"){_col3Str=_col3}else{_col3Str=dump(_col3)}if(_type==TraceHandler.LEVEL_TRACKING){row+=date+"|"+_col1+"|"+_col2+"|"+_col3Str+"</div>"}else{row+=date+"&nbsp;|&nbsp;"+_fillAfter(_col1,25,"&nbsp;")+_fillAfter(_col2,25,"&nbsp;")+_col3Str+"</div>"}_traceWindow.document.body.innerHTML=_traceWindow.document.body.innerHTML+row;var newEl=_traceWindow.document.getElementById(dateId);if(typeof(newEl)!="undefined"&&newEl!=null&&typeof(newEl.scrollIntoView)!="undefined"){newEl.scrollIntoView()}}catch(ex){console.log(ex.message)}}function _showTraced(){_traceWindow=window.open(_traceDocumentPath,"traceWindow","top=0,left=0,width="+screen.width+",height=250,resizable=1,scrollbars=1");if(typeof(_traceWindow)=="object"&&typeof(_traceWindow.document)=="object"&&typeof(_traceWindow.document.body)=="object"){_traceWindow.document.title="ORISA JavaScript Tracing";for(var i=0;i<_traceData.length;i++){_traceVisible(_traceData[i].type,_traceData[i].col1,_traceData[i].col2,_traceData[i].col3,_traceData[i].date)}}else{if(confirm("Das Trace-Fenster konnte nicht geffnet werden. Mchten Sie es erneut versuchen?")){}}}function _fillBefore(s,desiredLength,fillChar){s=s+"";var cnt=s.length;while(cnt<desiredLength){s=fillChar+s;cnt++}return s}function _fillAfter(s,desiredLength,fillChar){s=s+"";var cnt=s.length;while(cnt<desiredLength){s=s+fillChar;cnt++}return s}function _interactiveInspect(_p){if(typeof(_p)!="string"||_p==""){_p="false"}while(typeof(_p)=="string"&&_p!=""){var _res="";try{_res=_p+": "+eval(_p)}catch(_ex){_res=_p+": "+_ex.name+": "+_ex.message}_p=prompt(_res,_p)}}function _dump(obj){var objStr=obj+"";if(typeof(obj)=="undefined"||obj==null||typeof(obj)=="string"||typeof(obj)=="number"||typeof(obj)=="boolean"||objStr.match("^\\[object HTML.*Element\\]$")==objStr||typeof(obj.childNodes)!="undefined"){return objStr}var lastProp=null;try{var resultStr="[";for(var prop in obj){lastProp=prop+"";if(obj[prop]==obj){resultStr+=prop+": (self reference)"}else{resultStr+=prop+": "+dump(obj[prop])+", "}}resultStr+="]";resultStr=resultStr.replace(/, ]/,"]");return resultStr}catch(ex){return"(Exception occured while dumping "+obj+"."+lastProp+") "+ex.name+": "+ex.message}}_setTraceMode(tLevel);return{getWindowRef:function(){return _traceWindow&&!_traceWindow.closed?_traceWindow:null},doTrace:function(type,col1,col2,col3){_doTrace(type,col1,col2,col3)},traceTracking:function(col1,col2,col3){_doTrace(TraceHandler.LEVEL_TRACKING,col1,col2,col3)}}};TraceHandler.LEVEL_ALL=1;TraceHandler.LEVEL_INFO=2;TraceHandler.LEVEL_PLUGIN=4;TraceHandler.LEVEL_ERROR=8;TraceHandler.LEVEL_TRACKING=16;(function($){$.fn.dataAttr=function(attributeList){if(attributeList){this.each(function(){var cObj=this;util.applyDataAttrList(cObj,attributeList)})}else{}return this};$.fn.recRemove=function(selfIncl){this.each(function(){var cObj=this;util.recRemove(cObj,selfIncl)});return this}}(jQuery));var RegexDateParser=(function(){function RegexDateParser(regex,options){this.regex=regex;var defaultDate=new Date();this.defaultDay=options.defaultDay||defaultDate.getDate();this.defaultMonth=options.defaultMonth||defaultDate.getMonth();this.defaultYear=options.defaultYear||defaultDate.getFullYear();this.groupIndexDay=options.groupIndexDay;this.groupIndexMonth=options.groupIndexMonth;this.groupIndexYear=options.groupIndexYear}RegexDateParser.prototype.parseDate=function parseDate(dateString){var resultDate=null;var matches=dateString.match(this.regex);if(matches){var day=this.groupIndexDay?parseInt(matches[this.groupIndexDay]):this.defaultDay;var month=this.groupIndexMonth?parseInt(matches[this.groupIndexMonth])-1:this.defaultMonth;var year=this.groupIndexYear?parseInt(matches[this.groupIndexYear]):this.defaultYear;resultDate=new Date(year,month,day)}return resultDate};return RegexDateParser})();function Util(){this.keyDlm="_x_"}Util.prototype.newEmptyDataObject=function newEmptyDataObject(){return{aux:{},dV:[],desc:"",editable:false,id:"",imgLst:[],selected:false,tL:[],type:"",visible:true}};Util.prototype.newEmptyDomainValue=function newEmptyDomainValue(){return{aux:{},id:"",selected:false,value:""}};Util.prototype.splitDataObjects=function splitDataObjects(dOs,specialFn){var normalDOs=[];var specialDOs=[];for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(specialFn(dObj)){specialDOs.push(dObj)}else{normalDOs.push(dObj)}}return{normalDataObjects:normalDOs,specialDataObjects:specialDOs}};Util.prototype.mapDataObjectsById=function mapDataObjectsById(dOs){var dOsById={};for(var i=0;i<dOs.length;i++){var dObj=dOs[i];dOsById[dObj.id]=dObj}return dOsById};Util.prototype.mapByProperty=function mapByProperty(array,propName){var result={};for(var i=0;i<array.length;i++){var obj=array[i];var propValue=obj[propName];result[propValue]=obj}return result};Util.prototype.findDomainValueById=function findDomainValueById(dObj,id){for(var i=0;i<dObj.dV.length;i++){var domVal=dObj.dV[i];if(domVal.id==id){return domVal}}return null};Util.prototype.groupDataObjects=function groupDataObjects(dOs,groupIdSupplierFn){var groupIds=[];var grouped={};for(var i=0;i<dOs.length;i++){var dObj=dOs[i];var groupId=groupIdSupplierFn(dObj);if(groupIds.indexOf(groupId)<0){groupIds.push(groupId)}if(!grouped[groupId]){grouped[groupId]=[]}grouped[groupId].push(dObj)}var result=[];for(var i=0;i<groupIds.length;i++){var groupId=groupIds[i];result.push({groupId:groupId,dOs:grouped[groupId]})}return result};Util.prototype.insertSessionIdIntoUrl=function insertSessionIdIntoUrl(url,sessionId){var urlWithSessionId=url;if(sessionId){var idx=url.indexOf("?");if(idx<0){urlWithSessionId=url+sessionId}else{var urlPath=url.substring(0,idx);var queryPart=url.substring(idx);urlWithSessionId=urlPath+sessionId+queryPart}}return urlWithSessionId};Util.prototype.getURLParamsAsObject=function getURLParamsAsObject(s){if(s.indexOf("?")==0){s=s.slice(1)}var data={};var params=s.split("&");for(var i=0;i<params.length;i++){var param=params[i].split("=");var key=param[0];var value=param[1];data[key]=value}return data};Util.prototype.makeForm=function makeForm(data){var $form=$("<form>");$form.attr("action","null");$("<input>").attr("name","RT").appendTo($form);for(var key in data){$("<textarea>").attr("name",key).val(data[key]).appendTo($form)}return $form[0]};Util.prototype.isInvalidString=function isInvalidString(s){return(typeof(s)!="string"||s==s.match(/\s*/))};Util.prototype.isNumberRequired=function(maskType){switch(maskType){case cc.cnst.dtp_inpPrice:case cc.cnst.dtp_inpPriceGreater0:case cc.cnst.dtp_inpInteger:case"int":case"phone":return true;break;default:break}return false};Util.prototype.validateAgainstMask=function validateAgainstMask(e,text,maskType,preDecimal,postDecimal,inputValue){var typeRequiresNumber=this.isNumberRequired(maskType);if(e.type=="keydown"){if(e.keyCode==13){return false}else{if(!maskType){return true}else{if(e.ctrlKey){return true}}}if(typeRequiresNumber){var numValue=e["char"];if(numValue&&(numValue-parseInt(numValue))==0){return true}}}if(maskType!=null&&(e.type=="keydown"||e.type=="blur")){if(maskType=="pricebrutto"){maskType="float"}if(maskType=="pricenetto"){maskType="float"}switch(maskType){case"int":case"intGreater0":case"integer":range=/[0-9]|[\uFF10-\uFF19]|[\b]/;break;case"intwithdash":range=/[0-9]|[\uFF10-\uFF19]|[\b]|[-]/;break;case"phone":range=/^[0-9]|[\uFF10-\uFF19]|[-]|[+]|[\(]|[\)]|[\b]|[\s]/;break;case"email":range=/^[a-zA-Z0-9\.#\$\-_@]|[\b]/;break;case"emailSubmit":range=/^[a-zA-Z0-9\.#\$\-_]+@[a-zA-Z0-9\.#\$\-_]+\.[a-zA-Z]{2,}$/;break;case"float":case"priceGreater0":if(text.match(/.*,.*/)){range=/[0-9]|[0-9.]|[\uFF10-\uFF19]|[\b]/}else{range=/[0-9,]|[0-9.]|[\uFF10-\uFF19]|[\b]/}break;case"price":range=/[0-9]|[.]|[,]|[\uFF10-\uFF19]|[-]|[\b]/;break;case"date":if(text.match(/.*[\.|\/|-].*[\.|\/|-].*/)){range=/[0-9]|[\b]/}else{range=/[0-9\.\/-]|[\b]/}break;default:range=/./;break}var c=e["char"];if(!c&&e.key&&1==e.key.length){c=e.key}if(inputValue){c=inputValue}else{if(!c){c=String.fromCharCode(e.keyCode)}}if(e.keyCode==9||e.keyCode==46){return true}if(c.match(range)||(e.keyCode>=96&&e.keyCode<=105)||e.keyCode==37||e.keyCode==39){return true}else{return false}}else{if(e.type=="keydown"){return(!String.fromCharCode(e.keyCode).match(/\r|\n/))}}};Util.prototype.startsWith=function startsWith(s,searchvalue){return s.indexOf(searchvalue)==0};Util.prototype.endsWith=function endsWith(s,searchvalue){return s.substring(s.length-searchvalue.length)===searchvalue};Util.prototype.replaceAll=function replaceAll(s,searchvalue,newvalue){if(searchvalue==null||typeof searchvalue=="undefined"||searchvalue==""){return s}if(newvalue==null||typeof newvalue=="undefined"){return s}return s.split(searchvalue).join(newvalue)};Util.prototype.showKanjiMessage=function showKanjiMessage(s){alert(this.getUnicodeMessage(s))};Util.prototype.getUnicodeMessage=function getUnicodeMessage(s){if(!s){return""}s=s.replace(/\'/g,"\\'");s=s.replace(/\"/g,'\\"');return eval(('"'+s+'"').replace(/&#(\d+);/g,'"+String.fromCharCode(parseInt("$1",10))+"').replace(/\n/g,"\\n"))};Util.prototype.isUiRightToLeftOriented=function isUiRightToLeftOriented(){return $("html").hasClass("rtl")};Util.prototype.adjustTextOrientation=function adjustTextOrientation(text){var adjustingClass="";if(this.isUiRightToLeftOriented()&&text.length>0&&text.charAt(0).charCodeAt(0)<255&&text.indexOf("&#")==-1){adjustingClass="ltr"}return adjustingClass};Util.prototype.convertHTMLEntitiesToUnicode=function convertHTMLEntitiesToUnicode(s){var numToChar=function(match,group1){return String.fromCharCode(parseInt(group1))};return s.replace(/&#(\d+);/g,numToChar)};Util.prototype.convertUnicodeToHTMLEntities=function convertUnicodeToHTMLEntities(data){if(typeof(data)=="string"){var converted="";for(var i=0;i<data.length;i++){var charCode=data.charCodeAt(i);if(charCode>255){converted+="&#"+charCode+";"}else{converted+=data.charAt(i)}}return converted}else{var convertedData={};for(var key in data){var val=data[key];var converted=typeof(val)=="string"?util.convertUnicodeToHTMLEntities(val):val;convertedData[key]=converted}return convertedData}};Util.prototype.convJsToHTML=function(s){s=s.replace(/</g,"&lt;");s=s.replace(/>/g,"&gt;");s=s.replace(/\n/g,"<br/>");return s};Util.prototype.joinSearchString=function(arr){var search="";for(key in arr){if(!arr[key]){continue}if(search.length>0){search+="&"}search+=key+"="+arr[key]}return search};Util.prototype.appendUrlParam=function(url,paramName,paramValue){if(!paramName){return url}url+=(url.lastIndexOf("?")<0)?"?":"&";url+=paramName+"="+paramValue;return url};Util.prototype.joinUrlPaths=function(paths){var sep="/";var url="";for(var i=0;i<paths.length;i++){url+=paths[i];if(!this.endsWith(url,sep)){url+=sep}}if(url.length>0){url=url.slice(0,-sep.length)}return url};Util.prototype.appendUrlPart=function appendUrlPart(url,urlPartToAppend){if(!urlPartToAppend){return url}if(url.charAt(url.length-1)=="="){if(urlPartToAppend.charAt(0)=="?"){url+="&"+urlPartToAppend.substring(1)}else{url+=urlPartToAppend}}else{if(url.lastIndexOf("?")<0){if(urlPartToAppend.charAt(0)=="?"||urlPartToAppend.charAt(0)=="&"){url+="?"+urlPartToAppend.substring(1)}else{url+="?"+urlPartToAppend}}else{var separator="&";if(url.charAt(url.length-1)=="?"||url.charAt(url.length-1)=="&"){separator=""}if(urlPartToAppend.charAt(0)=="?"||urlPartToAppend.charAt(0)=="&"){url+=separator+urlPartToAppend.substring(1)}else{url+=separator+urlPartToAppend}}}return url};Util.prototype.getChildNodeByIdx=function(node,idx){var cIdx=0;var rV=null;if(node!=null&&node.childNodes){for(var i=0;i<node.childNodes.length;i++){var child=node.childNodes[i];if(child.nodeType==1){if(cIdx==idx){rV=child;break}cIdx++}}}return rV};Util.prototype.getClientActionFunction=function getClientActionFunction(clientActionParams){if($.isFunction(clientActionParams)){return clientActionParams}else{if($.isFunction(clientActionParams.fn)){return clientActionParams.fn}}var actionString=typeof clientActionParams=="string"?clientActionParams:typeof clientActionParams.ce=="string"?clientActionParams.ce:null;if(actionString){return function(cEvt){cc.fireEvent("selectItem",actionString,(cEvt?{x:cEvt.clientX,y:cEvt.clientY}:null))}}};Util.prototype.getClientAction=function(pId,pEvt,param){if(!(pId&&pEvt&&param&&(param.ce||param.fn))){return null}var id=pId,cObj=null;var pEvts=typeof pEvt=="string"?[pEvt]:pEvt;if(typeof id=="string"){cObj=document.getElementById(pId)}else{if(id.id){cObj=pId;id=cObj.id}else{return null}}var evtLst=cc.cntrls[id]||{};for(var i=0;i<pEvts.length;i++){var evt=pEvts[i];evtLst[evt]=param.fn||function(cEvt){var myP={};var posEvt=cEvt?{x:cEvt.clientX,y:cEvt.clientY}:null;if(param.ce){if(typeof param.ce=="string"){myP=param.ce}else{for(key in param.ce){if(key=="VALUE"&&param.ce.VALUE=="value"){myP.VALUE=document.getElementById(id)[param.ce.VALUE]}else{myP[key]=param.ce[key]}}}}if(param.ce&&param.restrict){cc.fireEvent(param.ce,{restrict:param.restrict},posEvt)}if(param.ce&&(!param.cnd||eval(param.cnd))){var arr=(this.className=="checkbox"?this.parentNode.id:this.id).split(util.keyDlm);if(this.className!="radiobutton"&&myP.indexOf(arr[arr.length-1])>-1){util.addClass("curSelected",this)}if(arr[0]==cc.cnst.s_search){if(typeof param.ce=="string"){myP+="&"+cc.cnst.urlParameter.context+"="+cc.cnst.urlValue.contextSearch}else{myP[cc.cnst.urlParameter.context]=cc.cnst.urlValue.contextSearch}}if(param[cc.cnst.aux_responseType]==cc.cnst.mediaType.app_json){cc.fireEvent("ajaxCall",myP,posEvt)}else{cc.fireEvent("selectItem",myP,posEvt)}}};if(cObj){if(evt=="enter"){this.attachEvt(cObj,"focus",catchEvent);this.attachEvt(cObj,"keydown",catchEvent)}else{if(nonBubbleEvts[evt]||(cc.isTouchable&&evt==="click")){this.attachEvt(cObj,evt,catchEvent)}}}}cc.cntrls[id]=evtLst};Util.prototype.attachEvt=function attachEvt(cObj,evt,f){if(!cObj){cObj=document}if(typeof(cObj.addEventListener)!="undefined"){cObj.addEventListener(evt,f,true)}else{if(typeof(cObj.attachEvent)!="undefined"){cObj.attachEvent("on"+evt,f)}else{cObj["on"+evt]=f}}};Util.prototype.getNode=function getNode(parentElement,tagName,attributeList){var id=attributeList?attributeList.id:null;var cObj=id?document.getElementById(id):null;if(cObj&&cObj.parentNode){this.applyAttrList(cObj,attributeList)}else{cObj=this.addNode(parentElement,tagName,attributeList)}return cObj};Util.prototype.addNode=function addNode(p,tN,aL){var cObj=document.createElement(tN||"DIV");if("a"==tN){cObj.href="javascript:void 0;"}this.applyAttrList(cObj,aL);(p||document.body).appendChild(cObj);return cObj};Util.prototype.applyAttrList=function applyAttrList(cObj,attributeList){if(cObj&&attributeList){for(var key in attributeList){if(key=="css"){cObj.className=attributeList[key]}else{if(typeof cObj[key]=="undefined"){cObj.setAttribute(key,attributeList[key])}else{cObj[key]=attributeList[key]}}}}return cObj};Util.prototype.applyDataAttrList=function applyDataAttrList(cObj,attributeList){if(cObj&&attributeList){for(var key in attributeList){var val=attributeList[key];if(util.startsWith(key,"data-")&&val!=null){cObj.setAttribute(key,val)}}}};Util.prototype.getId=function getId(a){return this.joinArgs(arguments,this.keyDlm)};Util.prototype.getCSV=function getCSV(a){return this.joinArgs(arguments,", ")};Util.prototype.joinArgs=function joinArgs(arg,delim){return([].slice.apply(arg)).join(delim)};Util.prototype.recRemove=function recRemove(node,selfIncl){var sectionInstance=null;while(node&&node.childNodes.length>0){var child=node.childNodes[node.childNodes.length-1];if(child.id&&(sectionInstance=cc.sectionMap[child.id])&&sectionInstance.sP&&sectionInstance.sP===child){sectionInstance.reset();if(sectionInstance.isDynamic||sectionInstance instanceof OptionsSection||sectionInstance instanceof DealerOptionsTableSection){delete cc.sectionMap[child.id];if(sectionInstance.isDialog){delete cc.dialogWin[child.id]}}else{cc.traceInfo("Util.removeNode()",child.id+" - static ")}sectionInstance.sP=null}if(child.childNodes.length>0){this.recRemove(child)}this.removeNode(child)}if(node&&selfIncl){if(node.id&&(sectionInstance=cc.sectionMap[node.id])&&sectionInstance.sP&&sectionInstance.sP===node){cc.traceInfo("Util.removeNode()","selfIncl: "+node.id+(sectionInstance.isDynamic?" - dynamic ":" - static "));sectionInstance.reset();if(sectionInstance.isDynamic){delete cc.sectionMap[node.id]}sectionInstance.sP=null}this.removeNode(node)}};Util.prototype.removeNode=function(node){if(node.id){if(cc.anchor[node.id]){delete cc.anchor[node.id]}if(cc.cntrls[node.id]){delete cc.cntrls[node.id]}}var $node=$(node);if(node.tagName=="SELECT"){$node.select2("destroy")}if($node.data("tooltip")!=null){this.hideTooltip($node)}$node.remove()};Util.prototype.joinClass=function(p,c){if(p&&c){if(!p.css){p.css=""}var r=new RegExp("\\b"+c+"\\b");if(p.css.search(r)<0){p.css+=" "+c}p.css=p.css.replace(/   */g," ").replace(/^ | $/g,"")}return p};Util.prototype.addClass=function(name,el){var _el=el||this.element;if(_el&&name&&!this.hasClass(name,el)){_el.className+=" "+name}};Util.prototype.removeClass=function(name,el){var _el=el||this.element;if(_el){var className=_el.className;var r=new RegExp("\\b"+name+"\\b");if(className.search(r)>=0){className=className.replace(name,"");className=className.replace(/   */g," ").replace(/^ | $/g,"")}_el.className=className}};Util.prototype.hasClass=function(name,el){var _el=el||this.element;if(_el&&_el.nodeType==1){var r=new RegExp("\\b"+name+"\\b");return _el.className.search(r)>=0}return false};Util.prototype.getStyleProperty=function(name,el){var rV="";if(window.getComputedStyle){try{var computedStyle=getComputedStyle(el);rV=computedStyle?computedStyle.getPropertyValue(name):""}catch(e){}}else{if(el.currentStyle){try{rV=el.currentStyle[name]}catch(e){}}}return rV};Util.prototype.getCSSUnit=function(styleValue){var unitPattern=/(\D+)$/;var matches=unitPattern.exec(styleValue);if(matches&&matches.length>1){return matches[1]}return""};Util.prototype.removeCSSUnit=function(styleValue){return styleValue.replace(/(\D+)$/,"")};Util.prototype.addAutoScaledSpriteImageForAuxiliaries=function(target,aux,options){if(aux&&aux[cc.cnst.aux_img]&&aux[cc.cnst.aux_height]&&aux[cc.cnst.aux_width]&&aux[cc.cnst.aux_pos]){var imageSrc=cc.webRoot+aux[cc.cnst.aux_img];var spriteHeightPx=parseFloat(aux[cc.cnst.aux_height]);var spriteWidthPx=parseFloat(aux[cc.cnst.aux_width]);var spriteBackPosPx=aux[cc.cnst.aux_pos].split(" ");this.addAutoScaledSpriteImage(target,imageSrc,spriteHeightPx,spriteWidthPx,spriteBackPosPx,options)}};Util.prototype.addAutoScaledSpriteImage=function(target,imageSrc,spriteHeightPx,spriteWidthPx,spriteBackPosPx,options){options=options||{};var newImg=new Image();newImg.onload=function(){var sizeFactor=newImg.width/spriteWidthPx;var newImgSpriteWidthPx=newImg.width;var newImgSpriteHeightPx=spriteHeightPx*sizeFactor;var heightAspectRatioPercent=100*newImgSpriteHeightPx/newImgSpriteWidthPx;var spriteBackPosYPx=parseFloat(spriteBackPosPx[1])*sizeFactor;var imageHeightPx=newImg.height;var tileIndex=-spriteBackPosYPx/newImgSpriteHeightPx;var tileCount=imageHeightPx/newImgSpriteHeightPx;var backPosYPercent=tileIndex/(tileCount-1)*100;var $imgWrapper=options.useTargetDirectly?$(target):$("<span>").appendTo(target);$imgWrapper.addClass("img-wrapper").css("maxWidth",(newImgSpriteWidthPx/16)+"rem");var $imgElement=$("<span>").addClass("img-element").css("paddingTop",heightAspectRatioPercent+"%").css("backgroundImage","url('"+imageSrc+"')").css("backgroundPosition",spriteBackPosPx[0]+" "+backPosYPercent+"%").appendTo($imgWrapper)};newImg.src=imageSrc};Util.prototype.isNone=function isNone(el){for(var $node=$(el);$node.parent().length>0;$node=$node.parent()){if($node.css("display")=="none"){return true}}return false};Util.prototype.createWaypointElements=function createWaypointElements(parentNode,attributes){var $parent=$(parentNode);var topWP=$parent.children(".wp-top"),bottomWP=$parent.children(".wp-bottom");if(!topWP[0]){$parent.prepend(topWP=$("<a>").addClass("wp-top unplugged").attr(attributes)[0])}if(!bottomWP[0]){$parent.append(bottomWP=$("<a>").addClass("wp-bottom unplugged").attr(attributes)[0])}return{top:topWP,bottom:bottomWP}};Util.prototype.hideTooltip=function hideTooltip($element){var dummyEvent={pageX:0,pageY:0};this.tooltip(dummyEvent,"hide",$element)};Util.prototype.tooltip=function tooltip(event,mode,$element,options){options=options||{};if(!cc.activeUserView||$(cc.activeUserView.obj).find($element).length==0){cc.flatPanel()}var hideTooltip=function($tt){if($tt){$tt.removeClass("open");$tt.remove();$element.removeData("tooltip");$element.removeData("pos")}};var $tt=$element.data("tooltip");var pos=$element.data("pos");if(pos&&pos==(mode+"-"+event.pageX+"-"+event.pageY)){return}$element.data("pos",mode+"-"+event.pageX+"-"+event.pageY);var showIt=$.isFunction(options.showCondition)?options.showCondition():true;if(!showIt){hideTooltip($tt);return}var text=$.isFunction(options.textOrFunction)?options.textOrFunction():options.textOrFunction;if(!text||text.match(/^[*].*[*]$/)!=null){hideTooltip($tt);return}if(mode=="show"){if(!$tt){$tt=$("<div>").css("position","fixed").addClass("textTooltip").append($("<div>").addClass("text")).append($("<div>").addClass("arrow-up").css("position","fixed")).append($("<div>").addClass("arrow-down").css("position","fixed")).appendTo(document.body);$element.data("tooltip",$tt);$tt.addClass(options.addCss?options.addCss:"");$tt.css({left:0,top:0}).addClass("open")}$(".text",$tt).html(text);var calcCenter=function(lowerCoordinate,higherCoordinate){return((higherCoordinate-lowerCoordinate)/2)+lowerCoordinate};var $arrowDown=$(".arrow-down",$tt);var $arrowUp=$(".arrow-up",$tt);var elClientRect=$element.get(0).getBoundingClientRect();var viewportWidth=util.getWindowWidth();var viewportHeight=util.getWindowHeight();var ttHeight=$tt.outerHeight();var ttWidth=$tt.outerWidth();var additionalSpacePx=4;var ttClientRect={mode:"arrow-down",x:event.clientX-ttWidth/2,y:event.clientY-ttHeight-$arrowDown.outerHeight()-additionalSpacePx,w:ttWidth,h:ttHeight};if(options.alignX=="element"){ttClientRect.x=calcCenter(elClientRect.left,elClientRect.right)-ttWidth/2}if(options.alignY=="element"){ttClientRect.y=elClientRect.top-ttHeight}if(ttClientRect.y<0){ttClientRect.mode="arrow-up";if(options.alignY=="element"){ttClientRect.y=elClientRect.bottom}else{ttClientRect.y=event.clientY+$arrowUp.outerHeight()+additionalSpacePx}}var widthScrollbar=viewportWidth-document.body.clientWidth;if(ttClientRect.x<0){ttClientRect.x=0}else{if(ttClientRect.x+ttClientRect.w>document.body.clientWidth){ttClientRect.x=viewportWidth-ttClientRect.w-widthScrollbar-5}}if(ttClientRect.mode=="arrow-up"){var left=options.alignX=="element"?calcCenter(elClientRect.left,elClientRect.right):event.clientX;left-=$arrowUp.outerWidth()/2;$arrowDown.css("display","none");$arrowUp.css({left:left,bottom:viewportHeight-ttClientRect.y,display:""})}else{var left=options.alignX=="element"?calcCenter(elClientRect.left,elClientRect.right):event.clientX;left-=$arrowDown.outerWidth()/2;$arrowUp.css("display","none");$arrowDown.css({left:left,top:ttClientRect.y+ttClientRect.h,display:""})}$tt.css({left:ttClientRect.x,top:ttClientRect.y});cc.padPanel($tt)}else{if(mode=="hide"){hideTooltip($tt)}}return $tt};Util.prototype.attachTextTooltip=function(element,textOrFunction,addCss){if(!cc.isTouchable){this.attachTooltipUnconditionally(element,textOrFunction,addCss)}};Util.prototype.attachTooltipUnconditionally=function(element,textOrFunction,addCss){if(!element||!textOrFunction){return}var tooltip=this.tooltip;var fixedTooltip=false;var $element=$(element);var $showCondition=$(".tooltip-show-condition",$element);if($showCondition.length==0){$showCondition=$("<flag>").addClass("tooltip-show-condition").appendTo($element)}var showConditionFn=function(){return $showCondition.css("display")!="none"};if(fixedTooltip){$element.off(".tooltip").on("mouseenter.tooltip",function(event){tooltip(event,"show",$element,{alignX:"element",alignY:"element",showCondition:showConditionFn,textOrFunction:textOrFunction,addCss:addCss})}).on("mouseleave.tooltip",function(event){tooltip(event,"hide",$element)})}else{$element.off(".tooltip").on("mousemove.tooltip",function(event){tooltip(event,"show",$element,{alignX:"mouse",alignY:"mouse",showCondition:showConditionFn,textOrFunction:textOrFunction,addCss:addCss})}).on("mouseleave.tooltip",function(event){tooltip(event,"hide",$element)})}};Util.prototype.createEvalFunction=function createEvalFunction(code){return function evalEvil(){eval(code)}};Util.prototype.createMultiFunction=function createMultiFunction(fnArray){return function multiFunction(){for(var i=0;i<fnArray.length;i++){var fn=fnArray[i];if($.isFunction(fn)){fn.apply(this,arguments)}}}};Util.prototype.createFunctionChain=function createFunctionChain(fnArray){var connect=function connect(fnBefore,fnAfter){return function(){fnBefore(fnAfter)}};var chain=$.noop;for(var i=fnArray.length-1;i>=0;i--){chain=connect(fnArray[i],chain)}return chain};Util.prototype.getWindowHeight=function getWindowHeight(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)};Util.prototype.getWindowWidth=function getWindowWidth(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)};Util.prototype.doLog=function doLog(data){$.ajax({url:cc.webRoot+"doLog.do?",type:"POST",cache:false,data:data})};Util.prototype.deepCopy=function deepCopy(source){var copy=$.extend(true,{},source);return copy};Util.prototype.getCaretPosition=function getCaretPosition(oField){var iCaretPos=0;if(document.selection){oField.focus();var oSel=document.selection.createRange();oSel.moveStart("character",-oField.value.length);iCaretPos=oSel.text.length}else{if(oField.selectionStart||oField.selectionStart=="0"){iCaretPos=oField.selectionStart}}return iCaretPos};Util.prototype.setCaretPosition=function setCaretPosition(oField,iCaretPos){if(document.selection){oField.focus();var oSel=document.selection.createRange();oSel.moveStart("character",-oField.value.length);oSel.moveStart("character",iCaretPos);oSel.moveEnd("character",0);oSel.select()}else{if(oField.selectionStart||oField.selectionStart=="0"){oField.selectionStart=iCaretPos;oField.selectionEnd=iCaretPos;oField.focus()}}};Util.prototype.isSpringAction=function isSpringAction(action){return(action&&action.indexOf(cc.cnst.action_suffix)>-1)};Util.prototype.nextNumberForOffset=function nextNumberForOffset(value,offset){var result=value;if(value%offset!==0){var roundedToMultipleOfOffset=Math.floor(value/offset)*offset;result=roundedToMultipleOfOffset}result+=offset;return result};Util.prototype.checkPassiveEventListenersSupported=function checkPassiveEventListenersSupported(){var supportsPassive=false;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=true}});window.addEventListener("testPassive",null,opts);window.removeEventListener("testPassive",null,opts)}catch(e){}return supportsPassive};var util=new Util();util.browserFeatures={passiveEventListeners:util.checkPassiveEventListenersSupported()};function EventQueue(_codeFrame,_baseURL){this.run=false;this.runningEvent=null;this.queueItems=new Array(0);this.codeFrame=_codeFrame;this.baseURL=_baseURL;this.clientEvents={selectItem:[{name:"callAction",type:"struts"}],selectMenuItem:[{name:"callAction",type:"struts"}],loginUser:[{name:"login",type:"struts"}],selectMenuItemEnc:[{name:"callActionEnc",type:"struts"}],downloadFile:[{name:"cc.handleFileDownload",type:"javascript"}],ajaxCall:[{name:"callAction",type:"ajax"}],evalAsynchronousData:[{name:"handleServerEvent",type:"javascript"}]}}EventQueue.prototype.addClientEvent=function(clientAction,parameters){var clientActionList=null;var pContainsSpringAction=parameters&&((typeof parameters=="string"&&util.isSpringAction(parameters))||(parameters.action&&util.isSpringAction(parameters.action)));if(clientAction=="selectItem"){if(pContainsSpringAction){this.queueItems[this.queueItems.length]=clientActionList=new EventQueueItem(parameters,"spring",null)}}if(!clientActionList&&util.isSpringAction(clientAction)){this.queueItems[this.queueItems.length]=clientActionList=new EventQueueItem(clientAction,"spring",parameters)}if(!clientActionList){clientActionList=this.clientEvents[clientAction];var i=0;while(clientActionList&&i<clientActionList.length){var clientEvent=null;if(pContainsSpringAction){clientEvent=new EventQueueItem(parameters,clientActionList[i].type,null)}else{clientEvent=new EventQueueItem(clientActionList[i].name,clientActionList[i].type,parameters)}this.queueItems[this.queueItems.length]=clientEvent;i++}}if(!clientActionList){cc.traceError("addClientEvent","Unknown client event: "+clientAction,"CC")}else{if(!this.run){setTimeout(function(){cc.eventQueue.launchEvent()},5)}}return(clientActionList!=null)};EventQueue.prototype.launchEvent=function(){var appendModuleControlId=(cc.wltpHandler&&cc.wltpHandler.isModuleControlEnabled);var hasDialog=cc.getLastDialog()==null?"0":"1";while(!this.run&&this.queueItems.length>0){this.runningEvent=this.queueItems[0];this.queueItems=this.queueItems.slice(1,this.queueItems.length);this.run=true;this.runningEvent.run(appendModuleControlId,hasDialog)}};EventQueue.prototype.finishedEvent=function(doSetNextFocus){this.run=false;this.runningEvent=null;this.launchEvent();if(!this.run){setTimeout(function(){cc.hideGlasspane()},50);if(doSetNextFocus){this.setNextFocus()}}};EventQueue.prototype.setNextFocus=function(){try{var cObj=null;var dlg=cc.getLastDialog();if((!cc.isTouchable||cc.isExpertMode)&&cc.requiresFocus&&(!dlg||dlg.contains(cc.requiresFocus))){cObj=cc.requiresFocus}else{if(dlg){var dialogSection=cc.getSection(dlg.id);if(dialogSection&&dialogSection.aux&&dialogSection.aux.preventFocus){return}var l;cObj=((!cc.isTouchable||cc.isExpertMode)&&(l=$("input[type=text]",dlg))&&l.length>0)?l[0]:dlg;if(cc.isTouchable&&cc.isExpertMode){document.activeElement.blur()}}else{if(cc.requiresFocusWindow){cObj=cc.requiresFocusWindow;cc.requiresFocusWindow=null}else{cObj=document.body}}}if(cObj){cObj.focus()}}catch(ex){}};function EventQueueItem(action,type,parameters){this.triggerWltp=false;this.type=type;this.action=action;this.parameters=parameters||null;this.form=null;if(typeof parameters!="string"){this.form=parameters}}EventQueueItem.prototype.run=function(appendModuleControlId,hasDialog){this.appendModuleControlId=appendModuleControlId;this.hasDialog=hasDialog;if(typeof addActionToNewrelic!="undefined"&&this.parameters){addActionToNewrelic(this.parameters)}this.timeStamp=new Date().getTime();if(this.type=="javascript"){if(typeof this.parameters=="string"){rV=eval(this.action+'("'+this.parameters+'")')}else{if(this.parameters.length>0){var _this=this.parameters.shift();try{_this[this.action].apply(_this,this.parameters);rV=true}catch(ex){alert(ex)}}}if(rV==false){var p="";var pObj=this.parameters;for(var i in pObj){if(p.length>0){p+=", "}p+=i+':"'+pObj[i]+'"'}rV=eval(this.action+"({"+p+"})")}setTimeout("cc.eventQueue.finishedEvent(false)",1);appendModuleControlId=false}else{if(this.type=="ajax"){var options={async:false,cache:false,success:function(data,textStatus,xhr){cc.handleServerEventJson(data)},type:"POST",dataType:"json",error:function(xhr,textStatus,errorThrown){cc.traceError("initApp()","Async. Ajax-Request ging schief: "+textStatus);setTimeout("cc.eventQueue.finishedEvent(false)",1)}};if(this.parameters){options.url=cc.eventQueue.baseURL+this.action+".do"+cc.session;options.data=this.completeParamList(this.parameters)}else{options.url=cc.eventQueue.baseURL+this.action;options.data=this.completeParamList("")}cc.csrfAjax(options,{sendAccessToken:true})}else{this.triggerWltp=true;var url=null;if(this.form){var isExternal=this.form.target&&this.form.target!="f_dyn";url=this.form.action;if(this.type=="struts"){if(!isExternal){if(this.form.DLG){this.form.DLG.value=this.hasDialog}else{util.getNode(this.form,"input",{name:"DLG",type:"hidden",value:this.hasDialog})}}if(!url||url.indexOf("null")>-1){url=cc.eventQueue.baseURL+this.action+".do"+cc.session}}else{url=util.insertSessionIdIntoUrl(cc.eventQueue.baseURL+this.action,cc.session)}if(isExternal){this.triggerWltp=false}else{this.form.target="f_dyn";if(this.form.RT){this.form.RT.value=this.timeStamp}if(this.appendModuleControlId){var moduleControlField=this.form[cc.cnst.moduleControlId];if(!moduleControlField){moduleControlField=util.getNode(this.form,"input",{name:cc.cnst.moduleControlId,type:"hidden"})}moduleControlField.value=this.timeStamp}}this.form.action=url;this.form.method="post";cc.csrfFormSubmit(this.form);if(isExternal){cc.eventQueue.finishedEvent()}}else{if(this.action){url=cc.eventQueue.baseURL;if(this.type=="struts"){url=this.completeParamList(url+this.action+".do"+cc.session+"?"+this.parameters)}else{url=this.completeParamList(url+(this.action?this.action:this.parameters))}function submit(){$("#actionForm").remove();var formData={};var formNode=util.makeForm(formData);formNode.classList.add("no-display");formNode.RT.value=""+new Date().getTime();formNode.id="actionForm";formNode.action=url;formNode.method="POST";formNode.target=cc.eventQueue.codeFrame.name;document.body.appendChild(formNode);cc.csrfFormSubmit(formNode)}if(cc.eventQueue.codeFrame!=null&&typeof(cc.eventQueue.codeFrame)!="undefined"&&typeof(cc.eventQueue.codeFrame.location)!="undefined"){submit()}else{setTimeout(submit,200)}}}}}if(this.appendModuleControlId&&this.triggerWltp){cc.wltpHandler.handleRequest(this.timeStamp,this.action,this.type,this.parameters)}};EventQueueItem.prototype.completeParamList=function(url){var p={};p.jspAHInstance=document.forms.iC.elements.jspAHInstance.value;if(this.appendModuleControlId){p[cc.cnst.moduleControlId]=this.timeStamp}p.DLG=this.hasDialog;p.RT=this.timeStamp;return url+=(!url?"":url.lastIndexOf("?")>-1?"&":"?")+util.joinSearchString(p)};function ClientController(wR,cnst,session,isICC,isP,isSCC,isE,isIE10){this.browser={};this.sectionMap={};this.disableResponseCheck={};this.isICC=isICC;this.isP=isP;this.isE=isE;this.isSCC=isSCC;this.isIE10=isIE10;this.isChrome=navigator.userAgent.indexOf("Chrome")!=-1;this.isExpertMode=false;this.isTouchable=(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)?true:false;this.additionalAction=null;this.webRoot=wR||"";this.session=session;this.gp=null;this.gpBaseIdx=32000;this.darkPane=null;this.menuItemStart=null;this.currentView=null;this.helperDataObjects={};this.timeoutFunctions={};this.intervalFunctions={};this.messengers={};this.pageRestart=false;this.externalWin={};this.dialogWin={};this.additionalParameters={};this.traceHandler=null;this.profilingMode="0";this.cnst=cnst;this.anchor={};this.curVisLevel=null;this.visualisationBlocked=false;this.requiresFocus=null;this.requiresFocusWindow=null;this.regEvents={};this.activeUserView=null;this.searchWebWorker=null;this.ddmSupplier=null;this.wltpHandler=null;this.csrfToken=null;this.acceptPvmsNextSaveResponse=false;this.enableRecoEngineSurvey=this.isICC;this.initiallyOpenConfListIds={IAF:true,IRA:true,submenu_interior_and_material:true,submenu_seats:true,conflict:true,takerates:true,s_reco:true,dealerFittedOptions:true,dealerFittedOptionsTaxable:true,dealerFittedOptionsNonTaxable:true,additionalCharges:true,additionalChargesTaxable:true,additionalChargesNonTaxable:true,oneStopServiceData:true};this.openConfListIds={};this.dialogIdentsNoBackgroundScrolling=["createPorscheCodeDialogView","sortOptionsDialog_show","calculationDialog_show"];for(var sectionId in ClientController.sectionMap){var s=this.sectionMap[sectionId]=ClientController.sectionMap[sectionId];for(var evt in s.regEvents){if(!this.regEvents[evt]){this.regEvents[evt]=[]}this.regEvents[evt][this.regEvents[evt].length]=s.id}}if(typeof f_dyn!="undefined"&&this.webRoot){this.eventQueue=new EventQueue(f_dyn,this.webRoot)}this.gp=document.getElementById("glasspane");this.darkPane=document.getElementById("darkpane")}ClientController.prototype.reset=function reset(){scrollDirection=null;$lastWaypoint=null;ConfigurationSection.resetStatic();this.stopAllTimeouts();this.menuItemStart=null;this.currentView=null;this.additionalParameters={};this.activeUserView=null;if(this.searchWebWorker){this.searchWebWorker.terminate()}this.searchWebWorker=null;this.nextFocus=null;this.openConfListIds={}};ClientController.prototype.setProfilingMode=function(mode){this.profilingMode=mode};ClientController.prototype.handleServerEventJson=function handleServerEventJson(response){cc.traceInfo("handleServerEventJson","start ("+response.serverEvent+": "+response.objects.length+" objects)");cc.handleServerEvent(response.serverEvent,response.objects,response.visLevel);cc.traceInfo("handleServerEventJson","finished")};ClientController.prototype.handleServerEvent=function(sEvt,dOs,visLevel){if(this.isColorator&&this.eventQueue&&this.eventQueue.rtParam&&this.eventQueue.codeFrame.location.href.indexOf(this.eventQueue.rtParam)==-1){return false}var isWltpCall=sEvt==this.cnst.serverEvent.evalAsynchronousData;if(!isWltpCall){this.requiresFocus=null}if(!this.visualisationBlocked&&!isWltpCall){this.curVisLevel=visLevel}var profileName="ClientController.handleServerEvent";var doProfiling=("1"==this.profilingMode&&console&&console.profile&&console.profileEnd);if(doProfiling){console.profile(profileName)}var data={navigation_main:[]},updDO=null,extendables=[];for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(cc.isSCC){if(dObj.id=="mainsuboffer"){for(var j=0;j<dObj.dV.length;j++){if(dObj.dV[j].id==cc.cnst.id_sccIndividual){dObj.dV[j].id=cc.cnst.id_individual}if(dObj.dV[j].id==cc.cnst.id_sccSummary){dObj.dV[j].id=cc.cnst.id_summary}}}if(dObj.id=="scc_optional_submenu"){dObj.aux[cc.cnst.aux_parent]=cc.cnst.id_individual;dObj.id="submenu"}}if(dObj.id=="twikitTranslation"){if(window.twikit&&typeof window.twikit.setTranslationOverrides==="function"&&dObj.dV.length>0){this.traceInfo("handleServerEvent()",dObj.id+": "+dObj.dV[0].value);window.twikit.setTranslationOverrides(dObj.dV[0].value)}continue}if(dObj.type==this.cnst.dtp_view){this.changeView(dObj.id,"1"==dObj.aux[cc.cnst.serverEvent.reloadApp]);if(this.isFlHandlerActive()){this.flHandler.getWinRef().cc.changeView(dObj.id,"1"==dObj.aux[cc.cnst.serverEvent.reloadApp])}this.isViewMode=!dObj.editable;continue}if(dObj.id==this.cnst.toggleVis){this.visualisationBlocked=!dObj.selected;$("#ui").toggleClass("visBlocked",this.visualisationBlocked);if(this.visualisationBlocked){this.curVisLevel=this.cnst.visCat.noImg}else{this.curVisLevel=visLevel}}else{if(dObj.id=="priceFormat"){this.helperDataObjects[dObj.id]=dObj;continue}else{if(dObj.type==cc.cnst.dtp_upd){if(dObj.tL.length!=1||!this.sectionMap[dObj.tL[0]].isDialog){updDO=dObj}}else{if(dObj.type==cc.cnst.dtp_actionLstItem){extendables[extendables.length]=dObj}else{if(dObj.type==this.cnst.dtp_trackingData&&this.cnst.ga&&this.ddmSupplier){this.traceInfo("handleServerEvent()","--- Data ---",dObj.id,dObj.desc);if(dObj.id==cc.cnst.ga.id_porscheCode){this.ddmSupplier.porscheCode=dObj}else{this.ddmSupplier.initialDO=dObj}continue}else{if(dObj.id==cc.cnst.id_allSelectionData){if(this.cnst.ga&&this.ddmSupplier){this.ddmSupplier.lastProducts=dObj;if(!this.ddmSupplier.hasStopped){this.ddmSupplier.updateLastSelectedOptions(dObj)}this.traceInfo("handleServerEvent()"," --------------- Update allSelectionData-DO ----------------------")}if(this.isColorator){this.lastOptions=dObj.dV}if(cc.isVr===true){$.event.trigger("vrData",dObj)}if(this.sectionMap[this.cnst.s_reco]&&!this.isColorator){this.sectionMap[this.cnst.s_reco].updateRecommendedLabels(dObj)}}else{if(dObj.id==cc.cnst.id_chat){if(dObj.desc){this.chatHandler=new ChatHandler(dObj)}}else{if(dObj.type==this.cnst.dtp_dlg){if(this.isColorator){return false}var key=dObj.tL[0];var sectionInstance=this.sectionMap[key];if(sectionInstance==null){if(dObj.visible==false){continue}var uiType=dObj.aux[cc.cnst.aux_dtp];if(uiType){var constructorFn=window[uiType];if(constructorFn){sectionInstance=this.sectionMap[key]=new constructorFn(key)}else{this.traceError("ClientController.handleServerEvent","undefined uitype "+uiType)}}else{var cO=window["Dlg_"+key];if(cO){sectionInstance=this.sectionMap[key]=new cO(key)}else{sectionInstance=this.sectionMap[key]=new DialogSection(key)}}if(sectionInstance){sectionInstance.isDynamic=true}}else{if(dObj.visible==false){sectionInstance.evalData(sEvt,[dObj]);delete this.sectionMap[key];if(dObj.id.indexOf("F_2091")==0){this.closeAllDialogs()}continue}}}else{if(dObj.type==cc.cnst.dtp_iframe&&dObj.tL.length==0){this.handleURLObject(dObj);continue}else{if(dObj.type==cc.cnst.dtp_cmd){this.handleCommandObject(dObj);continue}}}}}}}}}}var targets=dObj.tL;for(var j=0;j<targets.length;j++){var sKey=targets[j]||"default";this.addTargetListItem(data,sKey,dObj)}}if(extendables.length>0){for(var i=0;i<extendables.length;i++){dObj=extendables[i];$("*[id$='"+dObj.id+"']").each(function(){var sKey=this.id.split(util.keyDlm)[0];if(cc.sectionMap[sKey]){cc.addTargetListItem(data,sKey,dObj)}})}}if(updDO){for(var sKey in this.sectionMap){var sectionInstance=this.sectionMap[sKey];if(typeof sectionInstance.aux.colId!="undefined"||typeof sectionInstance.aux.colDefinitions!="undefined"){this.addTargetListItem(data,sKey,updDO)}}}if(this.cnst.ga&&this.ddmSupplier&&this.ddmSupplier.initialDO){this.ddmSupplier.init()}if(!isWltpCall){Flaghandler.lock(cc.cnst.flags.ScrollActionsDisabled,"handleServerEvent")}$(".curSelected").removeClass("curSelected");for(var sKey in data){var pKey=(data[sKey][0]&&data[sKey][0].aux[this.cnst.aux_parent])||null;if(!this.sectionMap[sKey]&&pKey&&this.anchor[pKey]){this.getSection(sKey,this.anchor[pKey]);data[sKey][0].aux[this.cnst.aux_parent]=null}var sectionInstance=this.getSection(sKey);sectionInstance.evalData(sEvt,data[sKey])}if(this.flHandler&&!isWltpCall){this.flHandler.forwardDsmDos(sEvt,dOs,visLevel)}var doSetNextFocus=false;if(isWltpCall){$("#ui").removeClass(this.cnst.validatingDataCssMark);this.triggerEvent({type:"handleServerEventEnd.initialConf"},"cc.handleServerEvent")}else{if(!this.isColorator){this.refreshHistory()}this.triggerEvent({type:"handleServerEventEnd"},"cc.handleServerEvent");doSetNextFocus=true;this.startTimeout("handleServerEvent",function(){Flaghandler.unlock(cc.cnst.flags.ScrollActionsDisabled,"handleServerEvent")},0)}this.eventQueue.finishedEvent(doSetNextFocus);if(doProfiling){console.profileEnd(profileName)}};ClientController.prototype.addTargetListItem=function(targetList,sKey,dObj){if(!targetList[sKey]){targetList[sKey]=[]}targetList[sKey][targetList[sKey].length]=dObj};ClientController.prototype.getViewMapping=function getViewMapping(serverViewId){var viewMapping=null;switch(serverViewId){case"ComponentVisualSelectionView":case"ComponentShowSelectionView":case"ComponentInteriorSelectionView":case"ComponentFastSelectionViewINDIVIDUAL":case"SCCSelectionView":case"SCCSelectionViewSummary":case"SCCExpertView":viewMapping={clientViewId:this.cnst.clientViews.config,url:this.cnst.appUrl_config};break;case"ModelSelectionView":viewMapping={clientViewId:this.cnst.clientViews.modelSelection,url:this.cnst.appUrl_modelSelection};break}return viewMapping};ClientController.prototype.changeView=function changeView(serverViewId,forceViewChange){var viewMapping=this.getViewMapping(serverViewId);if(cc.cnst.ga&&serverViewId=="ModelSelectionView"&&this.ddmSupplier){this.ddmSupplier.setCurrentView("modelSelection")}if(!cc.belongsToSecondScreen()&&("SCCSelectionView"==serverViewId||"SCCExpertView"==serverViewId)){if("SCCSelectionView"==serverViewId){this.isExpertMode=false;$(document).on("handleServerEventEnd.SCCSelectionView",function(e){$("html").addClass("show-scrollbar-y");$("#ui").addClass("standardMode").removeClass("expertMode").removeClass("summary").removeClass("dealer-options");Waypoint.refreshAll();cc.triggerEvent({type:"visualisationSizeChanged"});cc.triggerEvent({type:"viewChanged"});$(document).off("handleServerEventEnd.SCCSelectionView")})}else{this.isExpertMode=true;$(document).on("handleServerEventEnd.SCCExpertView",function(e){$("html").addClass("show-scrollbar-y");$("body").addClass("nonVisConfig");$("#ui").removeClass("standardMode").addClass("expertMode").removeClass("summary").removeClass("dealer-options");Waypoint.refreshAll();cc.triggerEvent({type:"visualisationSizeChanged"});cc.triggerEvent({type:"viewChanged"});$(document).off("handleServerEventEnd.SCCExpertView")})}if(this.isSCC&&this.currentView==null){$("body").addClass("nonVisConfig");$("#ui").removeClass("pva").addClass("scc")}else{if(!forceViewChange&&this.currentView==viewMapping.clientViewId){return}}}else{if("ComponentShowSelectionView"==serverViewId&&$("#ui").hasClass("expertMode")){this.isExpertMode=false;$(document).on("handleServerEventEnd.SummaryView",function(e){$("body").removeClass("nonVisConfig");$("html").addClass("show-scrollbar-y");$("#ui").removeClass("expertMode").addClass("summary");Waypoint.refreshAll();cc.triggerEvent({type:"visualisationSizeChanged"});cc.triggerEvent({type:"viewChanged"});$(document).off("handleServerEventEnd.SummaryView")});return}else{if(!cc.belongsToSecondScreen()&&this.currentView==null&&"ModelSelectionView"==serverViewId){$(document).on("handleServerEventEnd.ModelSelectionView",function(e){$("html").addClass("show-scrollbar-y")})}else{if(!viewMapping){this.traceError("ClientController.changeView","unknown view "+serverViewId);return}else{if(!forceViewChange&&this.currentView==viewMapping.clientViewId){return}}}}}$("video").each(function(){var v=this.id?this:this.parentNode;if(v.id){videojs(v.id).dispose()}});if(!this.isColorator){for(var item in videojs.cache){delete videojs.cache[item]}}$(".swiper-container").each(function(){var swiper=$(this).data("swiper");var s=swiper.destroy()});if(this.chatHandler){this.chatHandler.reset()}var switchToModelSelection=(this.cnst.clientViews.modelSelection==viewMapping.clientViewId);var $ui=$("#ui");this.reset();util.recRemove($ui[0]);$("body").removeClass("skeleton");$ui.toggleClass(this.cnst.clientViews.modelSelection,switchToModelSelection);if(switchToModelSelection){$ui.removeClass("smallView v2D vUnity vWebgl")}if(this.isExpertMode&&serverViewId=="ModelSelectionView"){this.isExpertMode=false;$("#ui").removeClass("expertMode");$("body").removeClass("nonVisConfig")}$ui.removeClass("summary dealer-options crossSelling");$ui.removeClass("arSupported");$ui.removeClass("compact-visualisation-supported");$ui.removeClass("view-in_on");$ui.removeClass("view-ex_on");$ui.removeClass("env-environment_studio_on");$ui.removeClass("env-environment_night_on");if(viewMapping.clientViewId==this.cnst.clientViews.config){if(!this.belongsToSecondScreen()&&!this.isColorator&&!this.isShowroom&&!$("#ui").hasClass("sccLight")&&!this.searchWebWorker){this.searchWebWorker=new Worker(cc.cnst.search.webWorkerURL+new Date().getTime());this.searchWebWorker.onmessage=function(result){cc.sectionMap[cc.cnst.s_search].evalWebWorkerResult(result)}}}this.csrfAjax({url:viewMapping.url,async:false,cache:false,success:function(data,textStatus,xhr){cc.closeAllDialogs();var $ui=$("#ui");$ui.html(data);cc.currentView=viewMapping.clientViewId},error:function(xhr,textStatus,errorThrown){cc.traceError("ClientController.changeView",errorThrown)}})};ClientController.prototype.getSection=function(key,parentNode,sectionConstructorFn){var sectionInstance=this.sectionMap[key];if(!sectionInstance){if(sectionConstructorFn){sectionInstance=this.sectionMap[key]=new sectionConstructorFn(key)}else{sectionInstance=this.sectionMap[key]=new Section(key)}}if(parentNode||document.body){if(!sectionInstance.sP||!sectionInstance.sP.parentNode){var pN={id:key};if(sectionInstance.isDialog){pN.tabIndex=1}sectionInstance.sP=util.getNode((parentNode||util.getNode(null,null,{id:"ui"})),"section",pN)}}return sectionInstance};ClientController.prototype.registerSectionHandler=function registerSectionHandler(id,sectionHandler){(this.sectionMap[id]=sectionHandler).isDynamic=true};ClientController.prototype.unregisterSectionHandler=function unregisterSectionHandler(id){delete this.sectionMap[id]};ClientController.prototype.handleURLObject=function handleURLObject(dObj){var alreadyRedirected=false;var changed=false;if(dObj.id==this.cnst.id_print_url){if(dObj.aux[cc.cnst.aux_popupWindowName]){p={url:dObj.desc,name:"print_individual",allowClose:true,hasBorder:false,isExternal:true,resize:true};this.openWindow(p.url,p.name,p)}else{this.handleFileDownload(dObj.desc)}}else{if(dObj.id==this.cnst.id_callPFC){var p={url:dObj.desc,name:dObj.aux[cc.cnst.aux_popupWindowName],allowClose:true,hasBorder:false,isExternal:true,resize:true};this.openWindow(p.url,p.name,p)}else{if(dObj.id==this.cnst.id_mail_to){this.handleMailTo(dObj.desc)}else{if(dObj.id==this.cnst.id_redirect){window.open(dObj.aux[cc.cnst.aux_data],"_blank").focus()}}}}};ClientController.prototype.handleFileDownload=function(url){var node=util.getNode($("#ui")[0],"a",{id:"fileDownload",href:url,type:"application/octet-stream",css:"visNone search-enabled"});util.getClientAction(node.id,"click",{fn:function(evt){evt.stopPropagation()}});window.setTimeout(function(){var node=$("#fileDownload")[0];node.click();util.recRemove(node,true)},1000)};ClientController.prototype.handleMailTo=function(url){var node=util.getNode($("#ui")[0],"a",{id:"openMailTo",href:url,css:"visNone search-enabled"});util.getClientAction(node.id,"click",{fn:function(evt){evt.stopPropagation()}});window.setTimeout(function(){var node=$("#openMailTo")[0];node.click();util.recRemove(node,true)},1500)};ClientController.prototype.handleCommandObject=function handleCommandObject(dObj){switch(dObj.id){case cc.cnst.cmdTypes.setCookie:var expires=(new Date(new Date().getTime()+365*24*60*60*1000)).toGMTString();for(var key in dObj.aux){var value=dObj.aux[key];if(value){document.cookie=escape(key)+"="+escape(value)+";path=/;expires="+expires+";"}}break;case cc.cnst.cmdTypes.changeModuleControlStatus:if(this.wltpHandler){this.wltpHandler.enable(dObj.selected)}break;case cc.cnst.cmdTypes.setLanguage:var actualLang=$("html").attr("lang");var newLang=dObj.desc;if(actualLang!=newLang){$("html").attr("lang",newLang);var datepickerDefaults=$.datepicker.regional[newLang]||$.datepicker.regional[""];$.datepicker.setDefaults(datepickerDefaults)}break;case cc.cnst.cmdTypes.postMessage:var messengerId=dObj.aux[cc.cnst.aux_target];var messenger=this.messengers[messengerId];if(messenger&&$.isFunction(messenger.send)){messenger.send(dObj)}break;case cc.cnst.cmdTypes.keepAlive:this.handleKeepAlive(dObj);break;default:break}};ClientController.prototype.handleKeepAlive=function handleKeepAlive(dObj){var id=dObj.aux[cc.cnst.aux_id];if(dObj.selected){var keepAliveUrl=dObj.aux[cc.cnst.aux_url];var intv=dObj.aux[cc.cnst.aux_data]||"30";var keepAliveFrequency=parseInt(intv)*1000;var fn=function(){$.ajax({url:keepAliveUrl,type:"HEAD",cache:false,error:function(xhr,textStatus,errorThrown){cc.traceError("ClientController.evalKeepAlive",errorThrown)}})};this.startInterval(id,fn,keepAliveFrequency)}else{this.stopInterval(id)}};ClientController.prototype.openEmptyWindow=function(windowName){this.openWindow("about:blank",windowName,{allowClose:true,hasBorder:false,isExternal:true,resize:true})};ClientController.prototype.openWindow=function(url,wName,sL){var wTop=sL.top?sL.top:0;var wLeft=sL.left?sL.left:0;var _wWidth=sL.width?sL.width:Math.floor(screen.availWidth*0.75);var _wHeight=sL.height?sL.height:Math.floor(screen.availHeight*0.75);var wWidth=(typeof(_wWidth)=="string")?parseInt(_wWidth):_wWidth;var wHeight=(typeof(_wHeight)=="string")?parseInt(_wHeight):_wHeight;if(url.indexOf(".jsp")>-1){if(url.indexOf("?")==-1){url+="?"}if(url.indexOf("RT")==-1){url+="&RT="+new Date().getTime()}}if(wName=="PVA"||(sL.isExternal&&sL.isExternal==true)){if(screen.availHeight){wTop=(screen.availHeight-wHeight)/2}if(screen.availWidth){wLeft=(screen.availWidth-wWidth)/2}var wOptions="toolbar=0,location=0,directories=0,status="+(sL.status?1:0)+",menubar=0,scrollbars="+(sL.hasScrollbars?1:0)+",resizable="+(sL.resize?1:0)+",left="+wLeft+",top="+wTop+",width="+wWidth+",height="+wHeight;win=window.open(url,wName,wOptions);return win}};ClientController.prototype.fireEvent=function(cEName,cEParams,posEvt){this.showGlasspane(posEvt);var keepGP=this.eventQueue.addClientEvent(cEName,cEParams);if(!keepGP){this.hideGlasspane()}};ClientController.prototype.isClientEvent=function(action){return this.eventQueue.clientEvents[action]!=null};ClientController.prototype.registerOn=function(evt,f,s){if(!this.regEvents[evt]){this.regEvents[evt]=[]}if(!this.isSCC||!s.isVisual){this.regEvents[evt][this.regEvents[evt].length]=s.id;$(document).on(evt,f)}};ClientController.prototype.triggerEvent=function(params){if(params.type){$.event.trigger(params)}};ClientController.prototype.padPanel=function padPanel($frameParent,container){if(!this.isTouchable){if(typeof container!="undefined"){var pnl=null;for(var i=0;i<container.childNodes.length;i++){pnl=container.childNodes[i];if(pnl.nodeType==1&&util.hasClass("groupItems",pnl)){$frameParent=$(pnl);break}}}if($frameParent){var $iframepad=$frameParent.children(".pad");if($iframepad.length==0){$iframepad=$("<iframe>",{border:"0",frameborder:"0",framespacing:"0",scrolling:"no"}).addClass("pad").appendTo($frameParent)}$iframepad.addClass("on")}}};ClientController.prototype.flatPanel=function flatPanel(){this.resetFlyOut();if(!this.isTouchable){util.removeClass("on",this.panelPad)}};ClientController.prototype.registerActiveUserView=function registerActiveUserView(container,leaveCallback){if(container){this.activeUserView={obj:container,f:leaveCallback||null}}};ClientController.prototype.registerFlyOut=function registerFlyOut(container,f,options){if(container){options=options||{};if(!options.force&&util.hasClass("open",container)){this.resetFlyOut()}else{this.activeUserView={obj:container,isFlyout:true,f:f||null};if(util.hasClass("jsflag_noscroll",container)){cc.deactivatePageScrolling("flyout",false)}util.addClass("open",container);this.padPanel(null,container);if(document.hasFocus()){container.focus()}if(!options.noDarkPane){this.checkDarkPane()}}}};ClientController.prototype.resetFlyOut=function resetFlyOut(){if(this.activeUserView&&this.activeUserView.isFlyout){util.removeClass("open",this.activeUserView.obj);if(util.hasClass("jsflag_noscroll",this.activeUserView.obj)){this.activatePageScrolling("flyout")}if(!this.isTouchable){util.removeClass("on",this.panelPad)}var f=this.activeUserView.f;this.activeUserView=null;this.checkDarkPane();if(f){f()}}};ClientController.prototype.leaveActiveUserView=function leaveActiveUserView(){if(this.activeUserView){if(cc.activeUserView.obj.contains(document.activeElement)){document.activeElement.blur()}if(this.activeUserView.isFlyout){this.resetFlyOut()}else{var f=this.activeUserView.f;var result=f?f():null;if(!result||result.success){this.activeUserView=null;this.checkDarkPane()}return result}}};ClientController.prototype.getOpenTooltipFlyoutFunction=function getOpenTooltipFlyoutFunction(textOrFunction,options){options=options||{};return function(event){var $flyoutopener=$(this);var $tooltipContainer=util.tooltip(event,"show",$flyoutopener,{alignX:"mouse",alignY:"mouse",addCss:options.addCss,textOrFunction:textOrFunction});var flyoutOptions={force:true,noDarkPane:true};var onCloseFn=function onClose(){util.hideTooltip($flyoutopener)};cc.registerFlyOut($tooltipContainer[0],onCloseFn,flyoutOptions)}};ClientController.prototype.getOpenFlyoutFunction=function getOpenFlyoutFunction(container,f){return function(){cc.registerFlyOut(container,f)}};ClientController.prototype.getCloseFlyoutFunction=function getCloseFlyoutFunction(){return function(){cc.resetFlyOut()}};ClientController.prototype.shutDown=function(){};ClientController.prototype.isGlasspaneActive=function(){return(this.gp&&util.hasClass("wait",this.gp.parentNode))};ClientController.prototype.showGlasspane=function(posEvt){util.addClass("wait",this.gp.parentNode);var img=this.gp.childNodes[0];if(posEvt){var w=util.getWindowWidth();var h=util.getWindowHeight();var yOffset=15;var xOffset=15;if(posEvt.y>h-yOffset-50){yOffset*=-2}if(posEvt.x>w-xOffset-50){xOffset*=-2.5}img.style.left=(posEvt.x+xOffset)+"px";img.style.top=(posEvt.y+yOffset)+"px"}else{img.style.left="50%";img.style.top="50%"}};ClientController.prototype.hideGlasspane=function(){if(this.isGlasspaneActive()&&!this.acceptPvmsNextSaveResponse){util.removeClass("wait",this.gp.parentNode);this.gp.style.zIndex=this.gpBaseIdx}};ClientController.prototype.getLastZIndex=function(){var dialog=this.getLastDialog()||(this.activeUserView&&this.activeUserView.obj);var zIndex=0;if(dialog){zIndex=util.getStyleProperty("z-index",dialog);zIndex=zIndex=="auto"?0:zIndex}return zIndex};ClientController.prototype.checkDarkPane=function(){if(this.darkPane){var zIndex=this.getLastZIndex();if(zIndex>100){if(this.messengers.POS&&!util.hasClass("on",this.darkPane)){this.messengers.POS.send({aux:{status:'{"code":200,"message":"OK","errors":null}'},desc:"DARKPANE_SHOW"})}this.darkPane.style.zIndex=zIndex-1;util.addClass("on",this.darkPane)}else{if(!this.acceptPvmsNextSaveResponse){if(this.messengers.POS&&util.hasClass("on",this.darkPane)){this.messengers.POS.send({aux:{status:'{"code":200,"message":"OK","errors":null}'},desc:"DARKPANE_HIDE"})}util.removeClass("on",this.darkPane)}}}};ClientController.prototype.getLastDialog=function(){var dialog=null;for(var i in this.dialogWin){if(this.dialogWin[i]&&(dialog==null||dialog.timeStamp<this.dialogWin[i].timeStamp)){dialog=this.dialogWin[i]}}return dialog&&dialog.sP?dialog.sP:dialog};ClientController.prototype.getDialogCount=function(){return Object.keys(this.dialogWin).length};ClientController.prototype.closeAllDialogs=function(){var dId=null;for(dId in cc.dialogWin){if(cc.dialogWin[dId]){cc.dialogWin[dId].closeDlg(dId)}}};ClientController.prototype.paramsToString=function(arr,pString){var isFirstKey=true;pString+="{";for(key in arr){var val=arr[key];if(!val){continue}if(!isFirstKey){pString+=","}else{isFirstKey=false}pString+=key+":";if(typeof val=="string"){pString+='"';pString+=this.getUnicodeParameter(val);pString+='"'}else{if(val.length>0){pString+="new Array(";for(var i=0;i<val.length;i++){if(i>0){pString+=","}pString=paramsToString(val[i],pString)}pString+=")"}else{pString+=val}}}pString+="}";return pString};ClientController.prototype.getUnicodeParameter=function(s){if(!s){return""}s=s.replace(/\r/g,"");s=s.replace(/\n/g,"\\n");s=s.replace(/\'/g,"\\'");s=s.replace(/\"/g,'\\"');s=s.replace(/\\/g,"\\\\");return s};ClientController.prototype.decodeJsString=function(s){var rV="";if(s){var i=0;try{s=s.replace(/\'/g,"\\'");i++;s=s.replace(/\"/g,'\\"');i++;s=s.replace(/\r/g,"");i++;s=eval(('"'+s+'"').replace(/&#(\d+);/g,'"+String.fromCharCode(parseInt("$1",10))+"').replace(/\n/g,"\\n"));i++;s=s.replace(/&lt;/g,"<");i++;s=s.replace(/&gt;/g,">");i++;rV=s}catch(ex){this.traceError("decodeJsString()",ex.message+", "+i)}}return rV};ClientController.prototype.startTracing=function(tLevel){if(tLevel&&tLevel!="0"){if((tLevel&TraceHandler.LEVEL_ERROR)>0){tLevel=tLevel|TraceHandler.LEVEL_PLUGIN}if(!this.traceHandler||this.traceHandler.getWindowRef()==null){this.traceHandler=new TraceHandler(tLevel)}cc.externalWin.trace=this.traceHandler.getWindowRef()}};ClientController.prototype.traceInfo=function(_id,_val,_sId){if(this.traceHandler){_sId=_sId||this.getWinIdent(self);setTimeout(function(){cc.traceHandler.doTrace(TraceHandler.LEVEL_INFO,_sId,_id,_val)},1)}};ClientController.prototype.traceError=function(_id,_val,_sId){if(this.traceHandler){_sId=_sId||this.getWinIdent(self);setTimeout(function(){cc.traceHandler.doTrace(TraceHandler.LEVEL_ERROR,_sId,_id,_val)},1)}};ClientController.prototype.tracePluginCmd=function(_id,_val,_sId){if(this.traceHandler){_sId=_sId||this.getWinIdent(self);setTimeout(function(){cc.traceHandler.doTrace(TraceHandler.LEVEL_PLUGIN,_sId,_id,_val)},1)}};ClientController.prototype.getWinIdent=function(wObj){var rV=wObj.id||wObj.name;if(!rV){try{if(wObj&&wObj.frameElement){wObj=wObj.frameElement}rV=wObj.id||wObj.name}catch(ex){rV="---"}}return rV};ClientController.prototype.addAnchorCntrl=function addAnchorCntrl(sId,pId,cntrl){if(sId&&pId&&cntrl){if(this.anchor[sId]){this.anchor[sId][pId]=cntrl}else{(this.anchor[sId]={})[pId]=cntrl}}};ClientController.prototype.getAnchorCntrl=function getAnchorCntrl(sId,pId){return(sId&&pId&&this.anchor[sId]&&this.anchor[sId][pId])||null};ClientController.prototype.evalButtonClick=function(buttonAction,form,cEvt){if(!form.action||form.action.indexOf("null")>-1){form.value.value=buttonAction}if(this.sectionMap.shareDialog){var shareSection=this.sectionMap.s_share;shareSection.sendFormDataToApp(form)}else{this.fireEvent("selectItem",form,(cEvt?{x:cEvt.clientX,y:cEvt.clientY}:null))}};ClientController.prototype.sendJsonData=function(url,data){var xmlHttpRequest=new XMLHttpRequest();xmlHttpRequest.open("POST",url,true);xmlHttpRequest.setRequestHeader("Content-Type","application/json");xmlHttpRequest.onreadystatechange=function(){if(xmlHttpRequest.readyState===4&&xmlHttpRequest.status===200){var json=JSON.parse(xmlHttpRequest.responseText)}};xmlHttpRequest.send(data);this.traceInfo("Send JSON-Data to "+url,". Payload:"+JSON.parse(data))};ClientController.prototype.setVisualisationVisibility=function hideVisualisation(visible){var $visualContainer=$("#visContainer");var isUnityFocussed=(this.curVisLevel==cc.cnst.visCat.unity&&$("*:focus",$visualContainer).length>0);if(isUnityFocussed){document.body.focus()}if(visible){this.startTimeout("setVisualisationVisibility",function(){$visualContainer.removeClass("invisible")},100)}else{this.stopTimeout("setVisualisationVisibility");$visualContainer.addClass("invisible")}};ClientController.prototype.deactivatePageScrolling=function deactivatePageScrolling(namespace,hideVisualisation,callerIdent){var isNoBGScrollDialog=$.inArray(callerIdent,this.dialogIdentsNoBackgroundScrolling)>-1;if(Flaghandler.getState(cc.cnst.flags.PagescrollingDisabled)&&!isNoBGScrollDialog){Flaghandler.lock(cc.cnst.flags.PagescrollingDisabled,namespace);return}else{Flaghandler.lock(cc.cnst.flags.PagescrollingDisabled,namespace)}var visVisible=!((typeof(hideVisualisation)=="undefined"||hideVisualisation==null||hideVisualisation)&&this.curVisLevel==this.cnst.visCat.unity);this.setVisualisationVisibility(visVisible);var $html=$("html");if($html.hasClass("noscroll")&&!isNoBGScrollDialog){return}if(navigator&&navigator.userAgent){var matches=navigator.userAgent.match(/chrome.*?(\d+)/i);if(matches&&matches[1]=="44"){$html.addClass("html-fixed-bug")}}Flaghandler.lock(cc.cnst.flags.ScrollActionsDisabled,namespace);if(ConfigurationSection.scrollingActivated){var scrollTop=$html.scrollTop()?$html.scrollTop():$("body").scrollTop();if(isNoBGScrollDialog){scrollTop+=isNaN(parseInt($html.css("top")))?0:-parseInt($html.css("top"));$html.addClass("noscroll").css("top",0).attr("data-top",-scrollTop)}else{$html.addClass("noscroll").css("top",-scrollTop)}ConfigurationSection.scrollingActivated=false}else{if(isNoBGScrollDialog){var scrollTop=parseInt($html.css("top"));$html.css("top",0).attr("data-top",scrollTop)}$html.addClass("noscroll")}};ClientController.prototype.activatePageScrolling=function activatePageScrolling(namespace,showVisualisation,callerIdent){var isNoBGScrollDialog=$.inArray(callerIdent,this.dialogIdentsNoBackgroundScrolling)>-1;if(Flaghandler.getState(cc.cnst.flags.PagescrollingDisabled)){Flaghandler.unlock(cc.cnst.flags.PagescrollingDisabled,namespace);if(Flaghandler.getState(cc.cnst.flags.PagescrollingDisabled)){if(isNoBGScrollDialog){var $html=$("html");var scrollTopValue=parseInt($html.attr("data-top"));$html.css("top",scrollTopValue)}return}}else{Flaghandler.unlock(cc.cnst.flags.PagescrollingDisabled,namespace)}var $html=$("html");var scrollTopValue=0;if(isNoBGScrollDialog){scrollTopValue=parseInt($html.attr("data-top"))}else{scrollTopValue=parseInt($html.css("top"))}$html.removeClass("noscroll");if(typeof(showVisualisation)=="undefined"||showVisualisation==null||showVisualisation){this.setVisualisationVisibility(true)}$("html,body").scrollTop(-scrollTopValue);var enableWaypoints_Timer=setTimeout(function(){Waypoint.refreshAll();ConfigurationSection.scrollingActivated=true;Flaghandler.unlock(cc.cnst.flags.ScrollActionsDisabled,namespace)},75)};ClientController.prototype.getActiveBreakpoint=function getActiveBreakpoint(){var $bpHelper=$("#breakpoint_helper");var key=parseInt($bpHelper.css("z-index"));for(var bpKey in cc.cnst.breakpoints){if(cc.cnst.breakpoints[bpKey]==key){return bpKey}}};ClientController.prototype.compareBreakpoint=function compareBreakpoint(compareTarget){var currentI=cc.cnst.breakpoints[this.getActiveBreakpoint()];var result=currentI-compareTarget;if(result>0){return 1}if(result<0){return -1}return 0};ClientController.prototype.checkCRMAvailable=function isCRMAvailable(imgCRM,callbackError){if(imgCRM.indexOf("?")==0){return}if(imgCRM.indexOf("ping")>=0){return}var image=new Image;start=new Date().getTime();image.onerror=callbackError;image.src=imgCRM+"?RT="+start};ClientController.prototype.refreshHistory=function(){var historyState={url:self.location.href};window.history.pushState(historyState,"",historyState.url)};ClientController.prototype.parseLocaleNumber=function parseLocaleNumber(numberString){var priceFormatDObj=this.helperDataObjects.priceFormat;if(priceFormatDObj){var decSep=priceFormatDObj.aux.decimalSeparator;var invalidCharacters=new RegExp("[^-\\d"+decSep+"]","g");numberString=numberString.replace(invalidCharacters,"");numberString=util.replaceAll(numberString,decSep,".");return parseFloat(numberString)}return parseFloat(numberString)};ClientController.prototype.formatLocaleNumber=function formatLocaleNumber(number){var priceFormatDObj=this.helperDataObjects.priceFormat;var digits=parseInt(priceFormatDObj.aux.digits);var numberString=""+number.toFixed(digits);var diff=digits==0?3:(digits+4);var lastColonIndex=numberString.length-diff;var firstColonIndex=lastColonIndex%3;var numberWithGrouping=numberString.slice(0,firstColonIndex);for(var i=firstColonIndex;i<lastColonIndex;i+=3){numberWithGrouping+=(i?",":"")+numberString.slice(i,i+3)}numberWithGrouping+=(lastColonIndex>0?",":"")+numberString.slice(lastColonIndex,number.length);if(priceFormatDObj){if(digits>0){numberWithGrouping=util.replaceAll(numberWithGrouping,".","###")}numberWithGrouping=util.replaceAll(numberWithGrouping,",",priceFormatDObj.aux.groupingSeparator);if(digits>0){numberWithGrouping=util.replaceAll(numberWithGrouping,"###",priceFormatDObj.aux.decimalSeparator)}}return numberWithGrouping};ClientController.prototype.belongsToSecondScreen=function belongsToSecondScreen(){return $("html").hasClass("DSM_2ndScreen")};ClientController.prototype.startTimeout=function startTimeout(id,fn,delay){var _cc=this;_cc.stopTimeout(id);_cc.timeoutFunctions[id]=setTimeout(function(){fn();_cc.stopTimeout(id)},delay)};ClientController.prototype.stopTimeout=function stopTimeout(id){var timeoutId=this.timeoutFunctions[id];if(timeoutId){clearTimeout(timeoutId);delete this.timeoutFunctions[id]}};ClientController.prototype.stopAllTimeouts=function stopAllTimeouts(){for(var key in this.timeoutFunctions){var timeoutId=this.timeoutFunctions[key];clearTimeout(timeoutId)}this.timeoutFunctions={}};ClientController.prototype.startInterval=function startInterval(id,fn,delay){this.stopInterval(id);this.intervalFunctions[id]=setInterval(fn,delay)};ClientController.prototype.stopInterval=function stopInterval(id){var intervalId=this.intervalFunctions[id];if(intervalId){clearInterval(intervalId);delete this.intervalFunctions[id]}};ClientController.prototype.stopAllIntervals=function stopAllIntervals(){for(var key in this.intervalFunctions){var intervalId=this.intervalFunctions[key];clearInterval(intervalId)}this.intervalFunctions={}};ClientController.prototype.checkMinSize=function checkMinSize(){var $body=$("body");if($body.hasClass("needs-min-size")){var actualNoPortrait=$body.hasClass("no-portrait");var newNoPortrait=false;if(this.isSCC){newNoPortrait=this.compareBreakpoint(cc.cnst.breakpoints.bp_xs_scc)<=0}else{if(!this.isICC){newNoPortrait=this.compareBreakpoint(cc.cnst.breakpoints.bp_s)<=0}}if(actualNoPortrait!=newNoPortrait){$body.toggleClass("no-portrait",newNoPortrait);if(newNoPortrait){$("video").each(function(){this.pause()})}}}cc.triggerEvent({type:"visualisationSizeChanged"})};ClientController.prototype.prefixRelativeUrlWithWebPath=function prefixRelativeUrlWithWebPath(urlString){var result=urlString;if(!this.isAbsoluteUrl(urlString)){result=this.webRoot+urlString}return result};ClientController.prototype.isAbsoluteUrl=function isAbsoluteUrl(urlString){var isAbsolute=util.startsWith(urlString,"http://")||util.startsWith(urlString,"https://");return isAbsolute};ClientController.prototype.lockUI=function lockUI(){$("body").addClass("uiLocked")};ClientController.prototype.getVisualisationHandler=function(isWebGL){var visSection=this.getSection(cc.cnst.s_vis);var vHandler=isWebGL&&visSection.vPreloadHandler||visSection.vHandler;return vHandler};ClientController.prototype.findFirstVisibleConfigContentContainer=function(){var contentContainer=null;$("#s_conf > section > .content").each(function(index,element){if(!util.isNone(element)){contentContainer=element;return false}});return contentContainer};ClientController.prototype.hasAdditionalServices=function(){return $("html").hasClass("has-additionalservices")};ClientController.prototype.isConfigInitialized=function(){return $("body").hasClass("evt-initial-conf-done")};ClientController.prototype.checkCmpConsent=function($parent,url){var checked=true;if(typeof ucTexts!="undefined"){checked=checkCmpConsent($parent,url)}return checked};ClientController.prototype.csrfAjax=function(options,features){if(this.csrfToken){options.beforeSend=function(xhr){xhr.setRequestHeader(cc.cnst.csrfKey,cc.csrfToken)}}if(features&&features.sendAccessToken&&window.fetchToken){window.fetchToken().then(function(accessToken){if(accessToken){var existingBeforeSend=options.beforeSend;options.beforeSend=function(xhr){xhr.setRequestHeader("AuthToken",accessToken);existingBeforeSend&&existingBeforeSend(xhr)}}})["catch"](function(e){cc.traceError("csrfAjax with sendAccessToken",e.message)})["finally"](function(){$.ajax(options)})}else{$.ajax(options)}};ClientController.prototype.csrfFormSubmit=function(form,features){if(this.csrfToken){if(!form[this.cnst.csrfKey]){form[this.cnst.csrfKey]=util.getNode(form,"input",{name:this.cnst.csrfKey,type:"hidden"})}form[this.cnst.csrfKey].value=this.csrfToken}if(features&&features.sendAccessToken&&window.fetchToken){window.fetchToken().then(function(accessToken){form[cc.cnst.accessTokenKey].value=accessToken||""})["catch"](function(e){cc.traceError("csrfFormSubmit with sendAccessToken",e.message)})["finally"](function(){form.submit()})}else{form.submit()}};ClientController.prototype.isFlHandlerActive=function(){return this.flHandler&&this.flHandler.getWinRef()!=null};ClientController.prototype.evalDataObjectsOnHold=function evalDataObjectsOnHold(dataObjectsOnHold){if(this.curVisLevel==cc.cnst.visCat.webgl){try{var sectionInstance=this.getSection(cc.cnst.s_vis);var dataObjects=dataObjectsOnHold[cc.cnst.s_vis];sectionInstance.evalData("changeView",dataObjects)}catch(ex){cc.traceError("evalDataObjectsOnHold()",ex.message)}}};ClientController.prototype.isCustomColor=function isCustomColor(componentId){var customColors=["F88","F89","F98","F99","I98","I99"];return customColors.indexOf(componentId)>-1};var Flaghandler=(function(){var flagMap={};var lockHistory=[];var lockHistoryCounter=0;var lockHistoryMax=20;var DEFAULT_NAMESPACE="default";function _getHistoryCounter(){if(lockHistoryCounter==lockHistoryMax){lockHistoryCounter=0}return lockHistoryCounter++}function _getFlagString(ident,namespace){return": "+ident+":"+namespace}function _lock(ident,namespace){if(namespace==undefined){namespace=DEFAULT_NAMESPACE}if(flagMap[ident]==undefined){flagMap[ident]={flagList:[]}}flagMap[ident].flagList[flagMap[ident].flagList.length]={id:namespace,value:true};lockHistory[_getHistoryCounter()]="add lock flag"+_getFlagString(ident,namespace)}function _unlock(ident,namespace){if(namespace==undefined){namespace=DEFAULT_NAMESPACE}if(flagMap[ident]){for(var i=0;i<flagMap[ident].flagList.length;i++){var flagEntry=flagMap[ident].flagList[i];var successful=false;if(flagEntry!=undefined){if(flagEntry.id==namespace){flagMap[ident].flagList.splice(i,1);lockHistory[_getHistoryCounter()]="remove flag"+_getFlagString(ident,namespace);successful=true}}}if(!successful){lockHistory[_getHistoryCounter()]="remove flag failed (flag not found)"+_getFlagString(ident,namespace)}}}function _getState(ident){if(flagMap[ident]){if(flagMap[ident].flagList.length>0){return true}else{return false}}else{flagMap[ident]={flagList:[]}}return false}function _clearFlag(ident){if(flagMap[ident]){flagMap[ident].flagList=[];lockHistory[_getHistoryCounter()]="clear flag"+_getFlagString(ident,"clear")}}function _postHistroy(){console.log("### Lockhandler - History ###");for(var i=lockHistoryCounter;i<lockHistoryCounter+lockHistoryMax;i++){if(lockHistory[i%lockHistoryMax]){console.log("   "+lockHistory[i%lockHistoryMax])}}console.log("### History END ###")}function _postCurrentFlagStates(){var keys=Object.keys(cc.cnst.flags);for(var i=0;i<keys.length;i++){var flagKey=cc.cnst.flags[keys[i]];var flag=flagMap[flagKey];if(flag.flagList.length>0){console.log("Flag: "+flagKey+" Count: "+flag.flagList.length);for(var j=0;j<flag.flagList.length;j++){console.log("    Namespace: "+flag.flagList[j].id)}}else{console.log("Flag: "+flagKey+" is not set.")}}}function _clearHistory(){lockHistoryCounter=0;lockHistory=[]}return{lock:function(ident,namespace){return _lock(ident,namespace)},unlock:function(ident,namespace){return _unlock(ident,namespace)},getState:function(ident){return _getState(ident)},clearFlag:function(ident){_clearFlag(ident)},postHistory:_postHistroy,postCurrentFlagStates:_postCurrentFlagStates,clearHistory:_clearHistory}})();var ClientMessage=(function(){function ClientMessage(args){this.args=args}ClientMessage.prototype.open=function open(){var dOs=this.getDataObjectsOpen(this.args);cc.handleServerEventJson({objects:dOs,serverEvent:"",visLevel:cc.curVisLevel})};ClientMessage.prototype.close=function close(){var dOs=this.getDataObjectsClose(this.args);cc.handleServerEventJson({objects:dOs,serverEvent:"",visLevel:cc.curVisLevel})};ClientMessage.prototype.getDataObjectsOpen=function getDataObjectsOpen(args){var _this=this;var toButtonDomainValue=function(buttonDesc){var buttonDV=$.extend(util.newEmptyDomainValue(),{id:buttonDesc.id,value:buttonDesc.text});buttonDV.aux[cc.cnst.aux_action]={fn:function(event){var eventData={message:_this,button:buttonDesc};var actionFn=util.getClientActionFunction(buttonDesc.action);actionFn(event,eventData)}};return buttonDV};var objects=[];var openDObj=$.extend(util.newEmptyDataObject(),{id:args.id,type:cc.cnst.dtp_dlg});objects.push(openDObj);var titleDObj=$.extend(util.newEmptyDataObject(),{id:"dialogtitle",desc:args.title||"",type:cc.cnst.dtp_hdl});objects.push(titleDObj);var dialogMessageDObj=$.extend(util.newEmptyDataObject(),{id:"dialogmessage",desc:args.text,type:cc.cnst.dtp_txtLst});objects.push(dialogMessageDObj);if(args.headerButtons&&args.headerButtons.length>0){var headerButtonsDObj=$.extend(util.newEmptyDataObject(),{id:"dialogheaderbuttons",type:cc.cnst.dtp_actionLst});headerButtonsDObj.aux[cc.cnst.aux_parent]="header";for(var i=0;i<args.headerButtons.length;i++){headerButtonsDObj.dV.push(toButtonDomainValue(args.headerButtons[i]))}objects.push(headerButtonsDObj)}if(args.footerButtons&&args.footerButtons.length>0){var footerButtonsDObj=$.extend(util.newEmptyDataObject(),{id:"dialogbuttons",type:cc.cnst.dtp_actionLst});footerButtonsDObj.aux[cc.cnst.aux_parent]="footer";for(var i=0;i<args.footerButtons.length;i++){footerButtonsDObj.dV.push(toButtonDomainValue(args.footerButtons[i]))}objects.push(footerButtonsDObj)}for(var i=0;i<objects.length;i++){objects[i].tL.push(args.id)}return objects};ClientMessage.prototype.getDataObjectsClose=function getDataObjectsClose(args){var objects=[];var closeDObj=$.extend(util.newEmptyDataObject(),{id:args.id,type:cc.cnst.dtp_dlg,visible:false});objects.push(closeDObj);for(var i=0;i<objects.length;i++){objects[i].tL.push(args.id)}return objects};return ClientMessage})();ClientController.sectionMap={};ClientController.newSecondScreenController=function newSecondScreenController(sourceCC,cnst){var cc=new ClientController(sourceCC.webRoot,cnst,sourceCC.session,sourceCC.isICC,sourceCC.isP,sourceCC.isSCC,sourceCC.isE);cc.browser=sourceCC.browser;cc.eventQueue=sourceCC.eventQueue;cc.getViewMapping=function(serverViewId){var viewMapping=ClientController.prototype.getViewMapping.call(this,serverViewId);if(viewMapping){if(viewMapping.clientViewId==this.cnst.clientViews.config){viewMapping={clientViewId:this.cnst.clientViews.config,url:cc.cnst.appUrl_configDSM}}$("#s_vis").toggleClass("no-display",viewMapping.clientViewId!=this.cnst.clientViews.config||serverViewId=="SCCExpertView");if(viewMapping.clientViewId!=this.cnst.clientViews.config){$("#ui").removeClass("config");util.recRemove($("#visContainer")[0])}}return viewMapping};cc.handleServerEvent=function(sEvt,dOs,visLevel){var allowedSectionIds=[this.cnst.s_model_selection,this.cnst.s_exterieur,this.cnst.s_interieur,this.cnst.s_vis,"furtherInformationsDialog_show","f11","shiftWindow"];if(!this.visualisationBlocked){this.curVisLevel=visLevel}var data={};for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(dObj.id==this.cnst.toggleVis){this.visualisationBlocked=!dObj.selected;$("#ui").toggleClass("visBlocked",this.visualisationBlocked);if(this.visualisationBlocked){this.curVisLevel=this.cnst.visCat.noImg}else{this.curVisLevel=visLevel}}var targets=dObj.tL;for(var j=0;j<targets.length;j++){var sKey=targets[j]||"default";if(allowedSectionIds.indexOf(sKey)!=-1){if(dObj.type==this.cnst.dtp_dlg){var key=dObj.tL[0];if(this.sectionMap[key]==null){$("#ui").addClass("config");var cO=window["Dlg_"+key];if(cO){this.sectionMap[key]=new cO(key)}else{this.sectionMap[key]=new DialogSection(key)}}else{if(dObj.visible==false){this.sectionMap[key].evalData(sEvt,[dObj]);delete this.sectionMap[key];continue}}}var t=data[sKey]||[];t[t.length]=dObj;data[sKey]=t}}}for(var sKey in data){var pKey=(data[sKey][0]&&data[sKey][0].aux[this.cnst.aux_parent])||null;if(!this.sectionMap[sKey]&&pKey&&this.anchor[pKey]){this.getSection(sKey,this.anchor[pKey]);data[sKey][0].aux[this.cnst.aux_parent]=null}var s=this.getSection(sKey);s.evalData(sEvt,data[sKey])}this.triggerEvent({type:"handleServerEventEnd"},"cc.handleServerEvent")};cc.handleConfig=function handleConfig(state,cId){if(state){var idList=mainCC.flHandler.triggeringConfPanelIds;for(var i=0;i<idList.length;i++){var compId=idList[i];$("#ui").toggleClass(compId,state&&cId==compId)}}$("#ui").toggleClass("on",state)};cc.getVisualisationHandler=function(isWebGL){var currentVisualisationHandler=this.getSection(cc.cnst.s_vis).vHandler;if(isWebGL||!(currentVisualisationHandler instanceof VisualisationHandler_2D)){currentVisualisationHandler=sourceCC.getVisualisationHandler(isWebGL)}return currentVisualisationHandler};cc.evalDataObjectsOnHold=function evalDataObjectsOnHold(dataObjectsOnHold){this.curVisLevel=mainCC.curVisLevel;if(dataObjectsOnHold){for(var sKey in dataObjectsOnHold){var dataObjects=dataObjectsOnHold[sKey];var s=null;if(sKey==cc.cnst.s_vis){s=mainCC.getSection(sKey);cc.traceError("evalDataObjectsOnHold()","dataObjectsOnHold["+sKey+"]: "+dataObjects.length);s.evalData("changeView",dataObjects)}s=cc.getSection(sKey);cc.traceError("evalDataObjectsOnHold()","dataObjectsOnHold["+sKey+"]: "+dataObjects.length);s.evalData("changeView",dataObjects)}}};cc.traceError=function(k,v,s){mainCC.traceError(k,v,(s||mainCC.getWinIdent(window))+" (2.Screen)")};cc.traceInfo=function(k,v,s){mainCC.traceInfo(k,v,(s||mainCC.getWinIdent(window))+" (2.Screen)")};cc.tracePluginCmd=function(k,v,s){mainCC.tracePluginCmd(k,v,(s||mainCC.getWinIdent(window))+" (2.Screen)")};return cc};(function(){$(document).on("coloratorReady",function(){var url=cc.prefixRelativeUrlWithWebPath(cc.cnst.colorator.action_ready);cc.csrfAjax({url:url})})})();function DdmSupplier(){this.hasStopped=true;this.lastNavigation=null;this.lastPage="none";this.controlList=[];this.controlEventMapping={showArDialog:"PAGConfigurator_ARButton_Click",arDialog_show_Load:"PAGConfigurator_ARDialog_Load",appButton:"PAGConfigurator_ARStart_Click",conflict_Load:"PAGConfigurator_BuildabilityConflict_Load",optionconflict:"PAGConfigurator_BuildabilityConflictAddProductFeature_Click",buttonOKconflict:"PAGConfigurator_BuildabilityConflictSubmitChanges_Click",buttonOKsave:"PAGConfigurator_ButtonSave_Click",buttonSaveiFlagDialog:"PAGConfigurator_ButtonSave_Click",summary_Load:"PAGConfigurator_ConfigurationSummary_Pageload","button0PVA-2034":"PAGConfigurator_ConfirmNewConfiguration_Click",startConfig:"PAGConfigurator_ContinueYourConfiguration_Click",dealerContact:"PAGConfigurator_DealerContact_Click",showPriceDialog:"PAGConfigurator_FinancialProduct_Click",downpayment:"PAGConfigurator_FinancialProductDownPayment_Click",duration:"PAGConfigurator_FinancialProductDuration_Click",optionleasingDialog:"PAGConfigurator_FinancialProductFeature_Click",leasing_Load:"PAGConfigurator_FinancialProductLayer_Load",annual_mileage:"PAGConfigurator_FinancialProductMileage_Click",buttonOKleasingDialog:"PAGConfigurator_FinancialProductSubmit_Click",LEASING:"PAGConfigurator_FinancialProductType_Click",THREEWAYLOAN:"PAGConfigurator_FinancialProductType_Click",showRates:"PAGConfigurator_ChangePriceToMonthly_Click",showOptionPrices:"PAGConfigurator_ChangePriceToTotal_Click",subHdl_fold:"PAGConfigurator_Fold_Click",btnfullscreen2D:"PAGConfigurator_Gallery_Load",vis2d_swiper:"PAGConfigurator_Gallery_Load",zoom:"PAGConfigurator_Gallery_Load",generalPage:"PAGConfigurator_General_Pageload",s_burgermenu:"PAGConfigurator_HamburgerMenu_Click",buttonLoad:"PAGConfigurator_LoadPorscheCode_Click",loadConfigButton:"PAGConfigurator_LoadPorscheCode_Click",showLoadDialog:"PAGConfigurator_LoadPorscheCode_Click",navigation_contact:"PAGConfigurator_MeatBallsMenu_Click",AA:"PAGConfigurator_Navigation_Click",AI:"PAGConfigurator_Navigation_Click",crossSelling:"PAGConfigurator_Navigation_Click",individual:"PAGConfigurator_Navigation_Click",models:"PAGConfigurator_Navigation_Click",tequipment:"PAGConfigurator_Navigation_Click",myPorsche:"PAGConfigurator_Navigation_Click",dialog:"PAGConfigurator_Overlay_Load",buttonCancels_reco:"PAGConfigurator_OverlayClose_Click",closeDlg:"PAGConfigurator_OverlayClose_Click",createPorscheCode:"PAGConfigurator_PorscheCode_Click",showSavePorscheCodeDialog:"PAGConfigurator_PorscheCode_Click",loginSectionButton:"PAGConfigurator_PorscheIDLogin_Click",print_button:"PAGConfigurator_PrintConfiguration_Click",printButton:"PAGConfigurator_PrintConfiguration_Click",option:"PAGConfigurator_ProductFeature_Click",info:"PAGConfigurator_ProductFeatureInfobox_Click",addImpression:"PAGConfigurator_ProductImpression_Load",saveAsButton:"PAGConfigurator_SaveConfiguration_Click",showSaveDialog:"PAGConfigurator_SaveConfiguration_Click",search_x_button:"PAGConfigurator_Search_Click",shareButton:"PAGConfigurator_ShareConfiguration_Click",baidu:"PAGConfigurator_SocialShare_Click",delicious:"PAGConfigurator_SocialShare_Click",digg:"PAGConfigurator_SocialShare_Click",facebook:"PAGConfigurator_SocialShare_Click",foursquare:"PAGConfigurator_SocialShare_Click",gmail:"PAGConfigurator_SocialShare_Click",googlePlus:"PAGConfigurator_SocialShare_Click",hatenaBookmark:"PAGConfigurator_SocialShare_Click",iGoogle:"PAGConfigurator_SocialShare_Click",instagram:"PAGConfigurator_SocialShare_Click",kaixin:"PAGConfigurator_SocialShare_Click",linkedin:"PAGConfigurator_SocialShare_Click",mail:"PAGConfigurator_SocialShare_Click",pinterest:"PAGConfigurator_SocialShare_Click",qq:"PAGConfigurator_SocialShare_Click",qqShare:"PAGConfigurator_SocialShare_Click",renren:"PAGConfigurator_SocialShare_Click",skyrock:"PAGConfigurator_SocialShare_Click",sohu:"PAGConfigurator_SocialShare_Click",tecent:"PAGConfigurator_SocialShare_Click",tumblr:"PAGConfigurator_SocialShare_Click",twitter:"PAGConfigurator_SocialShare_Click",vkontakte:"PAGConfigurator_SocialShare_Click",wechat:"PAGConfigurator_SocialShare_Click",weibo:"PAGConfigurator_SocialShare_Click",yahoo:"PAGConfigurator_SocialShare_Click",youku:"PAGConfigurator_SocialShare_Click",youtube:"PAGConfigurator_SocialShare_Click",dealerContactDialog:"PAGConfigurator_SubmitPorscheCode_Click",subHdl_unfold:"PAGConfigurator_UnFold_Click",camera:"PAGConfigurator_VisualizationControl_Click",env:"PAGConfigurator_VisualizationControl_Click",fixCameras:"PAGConfigurator_VisualizationControl_Click",hotspot:"PAGConfigurator_VisualizationControl_Click",sound:"PAGConfigurator_VisualizationControl_Click",top:"PAGConfigurator_VisualizationControl_Click",view:"PAGConfigurator_VisualizationControl_Click",vL_2D:"PAGConfigurator_VisualizationControl_Click",vL_3D:"PAGConfigurator_VisualizationControl_Click",showAiRecommendations_Load:"PAGConfigurator_RecommendationIcon_Load",showAiRecommendations:"PAGConfigurator_RecommendationIcon_Click",confirmAddedRecoItem_Load:"PAGConfigurator_ConfirmRecommendationItem_Load",crossSellingProduct:"PAGConfigurator_Accessories_Click",showMatchingStockCars_Load:"PAGConfigurator_MatchingStock_Load",showMatchingStockCar:"PAGConfigurator_MatchingStock_Click",preconf_Load:"PAGConfigurator_PreConfigOverlay_Load",preconf_Select:"PAGConfigurator_PreConfigChange_Click",preconf_ToggleDetails:"PAGConfigurator_PreConfigAccordion_Click",preconf_Accept:"PAGConfigurator_PreConfigAccept_Click",preconf_Refuse:"PAGConfigurator_PreConfigRefuse_Click"};this.definitionFilename="20201001V37-SV_PAG-DataLayer_Configurator-Testing-Feedback-XCC-5197.xlsx";this.eventDataMapping={PAGConfigurator_General_Pageload:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_ConfigurationSummary_Pageload:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_Overlay_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_Gallery_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_BuildabilityConflict_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_ARDialog_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_Navigation_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_DealerContact_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_Fold_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_UnFold_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ShareConfiguration_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_PrintConfiguration_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_SaveConfiguration_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_LoadPorscheCode_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_VisualizationControl_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ButtonSave_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_PorscheIDLogin_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProduct_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductType_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductDownPayment_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING",downpaymentValue:"NUMBER",downpaymentPercentage:"NUMBER"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductDuration_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING",financingDuration:"NUMBER"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductMileage_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING",mileageNumber:"NUMBER",mileageUnit:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductSubmit_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING",cashPrice:"NUMBER",totalSum:"NUMBER",downpaymentValue:"NUMBER",downpaymentPercentage:"NUMBER",paymentMonthly:"NUMBER",paymentFinal:"NUMBER",interestEffective:"NUMBER",interestDebt:"NUMBER",financingDuration:"NUMBER",mileageNumber:"NUMBER",mileageUnit:"STRING",additionalProducts:"ARRAY"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductFeature_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING",additionalProducts:"ARRAY"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_FinancialProductLayer_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},financialProduct:{productName:"STRING",productCategory:"STRING",cashPrice:"NUMBER",totalSum:"NUMBER",downpaymentValue:"NUMBER",downpaymentPercentage:"NUMBER",paymentMonthly:"NUMBER",paymentFinal:"NUMBER",interestEffective:"NUMBER",interestDebt:"NUMBER",financingDuration:"NUMBER",mileageNumber:"NUMBER",mileageUnit:"STRING",additionalProducts:"ARRAY"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_OverlayClose_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ARButton_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ARStart_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ProductFeatureInfobox_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ProductFeature_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_PorscheCode_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_BuildabilityConflictAddProductFeature_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_BuildabilityConflictSubmitChanges_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ConfirmNewConfiguration_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_SubmitPorscheCode_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_MeatBallsMenu_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_HamburgerMenu_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_SocialShare_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ProductImpression_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsImpression:"ARRAY",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_Search_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ContinueYourConfiguration_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_RecommendationIcon_Load:{context:{eventAction:"STRING",applicationId:"STRING",moduleId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING",testGroup:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},personalization:{modelVersion:"STRING",featureFlag:"STRING"}},PAGConfigurator_RecommendationIcon_Click:{context:{eventAction:"STRING",applicationId:"STRING",moduleId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING",testGroup:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},personalization:{modelVersion:"STRING",featureFlag:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ConfirmRecommendationItem_Load:{context:{eventAction:"STRING",applicationId:"STRING",moduleId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING",testGroup:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},personalization:{modelVersion:"STRING",featureFlag:"STRING",predictedScore:"NUMBER"}},PAGConfigurator_Accessories_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING",targetType:"STRING",targetElement:"STRING"}},PAGConfigurator_ChangePriceToMonthly_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_ChangePriceToTotal_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_MatchingStock_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},personalization:{predictedScore:"NUMBER"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",targetUrl:"STRING"}},PAGConfigurator_MatchingStock_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsImpression:"ARRAY",porscheCode:"STRING"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_PreConfigOverlay_Load:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeCode:"STRING",modelRangeName:"STRING",modelSeriesCode:"STRING",modelSeriesName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",extrasCurrentOptionsImpression:"ARRAY",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"}},PAGConfigurator_PreConfigChange_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeCode:"STRING",modelRangeName:"STRING",modelSeriesCode:"STRING",modelSeriesName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",clickElementPosition:"STRING",targetUrl:"STRING"}},PAGConfigurator_PreConfigAccordion_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",clickElementPosition:"STRING",targetUrl:"STRING"}},PAGConfigurator_PreConfigAccept_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeCode:"STRING",modelRangeName:"STRING",modelSeriesCode:"STRING",modelSeriesName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",clickElementPosition:"STRING",targetUrl:"STRING"}},PAGConfigurator_PreConfigRefuse_Click:{context:{eventAction:"STRING",applicationId:"STRING",language:"STRING",country:"STRING",currency:"STRING",environment:"STRING",timestamp:"STRING",server:"STRING"},visitor:{deviceBrowserHeight:"STRING",deviceBrowserWidth:"STRING",deviceBrowserBreakpoint:"STRING",deviceBrowserOrientation:"STRING",deviceType:"STRING",useragent:"STRING"},car:{type:"STRING",modelRangeCode:"STRING",modelRangeName:"STRING",modelSeriesCode:"STRING",modelSeriesName:"STRING",modelCode:"STRING",modelName:"STRING",modelModelYear:"STRING",exteriorColorCode:"STRING",exteriorColorName:"STRING",interiorColorCode:"STRING",interiorColorName:"STRING",wheelsCode:"STRING",wheelsName:"STRING",extrasCount:"NUMBER",extrasCurrentOptionsList:"ARRAY",extrasCurrentOptionsCodes:"OBJECT",priceTotalBasic:"NUMBER",priceTotalAdditional:"NUMBER",priceTotalTotal:"NUMBER",porscheCode:"STRING"},process:{processName:"STRING",processType:"STRING",processStart:"BOOLEAN",processStepName:"STRING",processStepNumber:"NUMBER",processEnd:"BOOLEAN"},pageExperience:{pageId:"STRING",pageName:"STRING",sectionName:"STRING",contentId:"STRING"},componentClick:{clickElementType:"STRING",clickElementId:"STRING",clickElementName:"STRING",clickElementPosition:"STRING",targetUrl:"STRING"}}};this.data={}}DdmSupplier.prototype.getAssignedDataType=function getAssignedDataType(ddmEventId,trackingDataId){var result=null;var ddmEvent=this.eventDataMapping[ddmEventId];if(ddmEvent){var idParts=trackingDataId.split(".");for(var i=1;i<idParts.length&&ddmEvent;i++){var idPart=idParts[i];ddmEvent=ddmEvent[idPart]}if(typeof ddmEvent==="string"){result=ddmEvent}}return result};DdmSupplier.prototype.trace=function(_col1,_col2,_col3){if(cc.traceHandler){_col1=this.lastPage+"|"+_col1;setTimeout(function(){cc.traceHandler.traceTracking(_col1,_col2||"",_col3||"")},1)}};DdmSupplier.prototype.trackEventData=function trackEventData(cObj,culprit){if(this.hasStopped){return false}this.lastNavigation=null;var arr=cObj.id.split(util.keyDlm);var sectionId=arr.length>1?arr[0]:"";var id=cObj.getAttribute(cc.cnst.attribute_trackingId)||arr[arr.length-1];var controlImp=this.controlList[id];var ddmEvent=this.controlEventMapping[id]||this.controlEventMapping[cObj.id]||this.controlEventMapping[id+sectionId.split(" ")[0]]||(cc.cntrls[cObj.id]&&$(cObj).hasClass("info")?this.controlEventMapping.info:null);if(ddmEvent){if(id=="info"&&arr.length>3){arr.splice(2,1);var cntrlImpKey=arr.join(util.keyDlm);controlImp=this.controlList[cntrlImpKey]}if(controlImp){if(controlImp.sectionName=="leasingDialog"&&cObj.parentNode.className.indexOf("keyboard-wrapper")>-1){this.setFinancingData(controlImp.clickElementId,arr[0])}this.setClickEvent(controlImp.clickElementId,controlImp.clickElementName,"interaction",undefined,cObj.id,controlImp.sectionName,undefined,undefined);var isInfo=$(cObj).hasClass("info")||id==="info";if(isInfo){var optionId=$(cObj).closest("[data-option-id]").attr("data-option-id");if(optionId){var product=null;if("vs_table_reco"===sectionId){product=this.productList.s_reco[optionId]}else{if("conflict"===sectionId){product=this.productList.conflict[optionId]}}if(!product){product=this.productList[optionId]}this.data["pagData.car.extrasCurrentOptionsCodes"]=product}}}else{if(id=="s_burgermenu"){this.setClickEvent(id,undefined,"interaction",undefined,id,id,undefined,undefined)}else{if(id=="crossSellingProduct"){var buttonName;var url;var moreElement=cObj.getElementsByClassName("more");if(moreElement.length>0){buttonName=moreElement[0].innerText;url=moreElement[0].getAttribute("href")}var element=cObj.getAttribute(cc.cnst.attribute_headline);this.setClickEvent(id,buttonName,"button",url,cObj.id,sectionId,undefined,element)}else{this.setClickEvent(id,undefined,"interaction",undefined,cObj.id,sectionId,undefined,undefined)}}}}else{if(cc.cntrls[cObj.id]){var imp=cc.cntrls[cObj.id].track;if(imp){if(imp.CategoryCode=="leasingDialog"){ddmEvent=this.controlEventMapping["option"+imp.CategoryCode];this.setClickEvent(id,imp.OptionName,"interaction",undefined,cObj.id,imp.CategoryCode,undefined,undefined)}else{ddmEvent=this.controlEventMapping["option"+sectionId]?this.controlEventMapping["option"+sectionId]:this.controlEventMapping.option;this.setClickEvent(id,imp.OptionName,"interaction",undefined,cObj.id,imp.CategoryCode,imp,undefined)}}else{if(controlImp){if(arr[0]==cc.cnst.s_reco){ddmEvent="PAGConfigurator_ProductFeature_Click";var optionId=$(cObj).closest("[data-option-id]").attr("data-option-id");var imp=this.productList[cc.cnst.s_reco][optionId];if(imp){this.setClickEvent(id,imp.OptionName,"interaction",undefined,cObj.id,imp.CategoryCode,imp,undefined)}}else{var $accordion=$(cObj).closest(".config-category");var ddmSuffix=$accordion.hasClass("accordion-open")?"_fold":$accordion.hasClass("accordion-closed")?"_unfold":null;if(ddmSuffix){ddmEvent=this.controlEventMapping["subHdl"+ddmSuffix];this.setClickEvent(controlImp.clickElementId,controlImp.clickElementName,"interaction",undefined,cObj.id,controlImp.sectionName,undefined,undefined)}}}}}}if(ddmEvent){var additionalTrackingData=null;var fetchTrackingData=$(cObj).data("fetchTrackingData");if($.isFunction(fetchTrackingData)){additionalTrackingData=fetchTrackingData.call(cObj)}this.pushData(ddmEvent,additionalTrackingData)}};DdmSupplier.prototype.stuffProcessFields=function stuffProcessFields(page){var controlImp=this.controlList[page];if(page=="myPorsche"){page="summary"}if(this.data["pagData.process.processStepName"]!=page){this.data["pagData.process.processStart"]=!this.data["pagData.process.processStepName"];this.data["pagData.process.processStepName"]=page;if(controlImp){this.data["pagData.process.processStepNumber"]=controlImp?controlImp.idx:undefined;this.data["pagData.process.processEnd"]=!cc.isColorator&&(page=="summary"||controlImp.idx>this.controlList.myPorsche.idx);this.setPageExperience(page,controlImp.sectionName,controlImp.contentId)}this.pushData(this.controlEventMapping[page+"_Load"]||this.controlEventMapping.generalPage)}};DdmSupplier.prototype.setFinancingData=function setFinancingData(key,value){switch(key){case"annual_mileage":this.data["pagData.financialProduct.mileageNumber"]=this.flattenPrice(value);break;case"duration":this.data["pagData.financialProduct.financingDuration"]=this.flattenPrice(value);break;case"downpayment":this.data["pagData.financialProduct.downpaymentValue"]=this.flattenPrice(value);break;case"monthly_rate":this.data["pagData.financialProduct.paymentMonthly"]=this.flattenPrice(value);break}};DdmSupplier.prototype.pushLoadEvent=function pushLoadEvent(pageName,sectionName,contentId,additionalTrackingData){var ddmEvent=this.controlEventMapping[contentId+"_Load"];if(ddmEvent){this.setPageExperience(pageName,sectionName,contentId);this.pushData(ddmEvent,additionalTrackingData)}};DdmSupplier.prototype.setPageExperience=function setPageExperience(pageName,sectionName,contentId){this.data["pagData.pageExperience.pageName"]=pageName;this.data["pagData.pageExperience.sectionName"]=sectionName;this.data["pagData.pageExperience.contentId"]=contentId};DdmSupplier.prototype.pushData=function pushData(ddmEvent,additionalTrackingData){var cleanUpTrackingData=additionalTrackingData||{};this.trace(ddmEvent||" --- ");this.data["pagData.context.eventAction"]=ddmEvent;if(additionalTrackingData){this.data=$.extend(this.data,additionalTrackingData);cleanUpTrackingData=additionalTrackingData}var dataStructure=JSON.parse(JSON.stringify(this.eventDataMapping[ddmEvent]));this.stuffDataStructure(dataStructure,"pagData",0);var jsonCode=JSON.stringify(dataStructure);if(this.isComplete(jsonCode)){var pagData=window.pagData=window.pagData||[];pagData.push(dataStructure)}this.setClickEvent();this.resetKeys(cleanUpTrackingData)};DdmSupplier.prototype.setClickEvent=function setClickEvent(id,name,type,url,cntrlId,section,imp,element){this.data["pagData.componentClick.clickElementId"]=id;this.data["pagData.componentClick.clickElementName"]=name;this.data["pagData.componentClick.clickElementType"]=type;this.data["pagData.componentClick.targetUrl"]=url;this.data["pagData.pageExperience.sectionName"]=section;this.data["pagData.pageExperience.contentId"]=cntrlId;if(imp){this.data["pagData.personalization.predictedScore"]=imp.PredictiveScore}if(!imp||imp.Price!=0||imp.IsRecommendation){this.data["pagData.car.extrasCurrentOptionsCodes"]=imp}if(id=="crossSellingProduct"){this.data["pagData.componentClick.targetType"]="outbound";this.data["pagData.componentClick.targetElement"]=element}};DdmSupplier.prototype.stuffDataStructure=function stuffDataStructure(node,path,level){for(var key in node){var child=node[key];var childPath=path+"."+key;if(typeof child!="string"){this.stuffDataStructure(child,childPath,level+1)}else{var value=node[key]=this.fetchValue(childPath)}if(level==0&&child){this.trace(key,JSON.stringify(child))}}};DdmSupplier.prototype.fetchValue=function fetchValue(path){var value=this.data[path];var _this=this;if(typeof value=="undefined"){switch(path){case"pagData.context.language":case"pagData.context.country":case"pagData.context.currency":case"pagData.car.modelRangeName":case"pagData.car.modelCode":case"pagData.car.modelName":case"pagData.car.modelModelYear":case"pagData.car.extrasCurrentOptionsImpression":case"pagData.car.priceTotalBasic":case"pagData.car.priceTotalAdditional":case"pagData.car.priceTotalTotal":case"pagData.pageExperience.contentId":case"pagData.componentClick.clickElementType":case"pagData.componentClick.clickElementId":case"pagData.componentClick.clickElementName":case"pagData.componentClick.targetUrl":break;case"pagData.context.applicationId":value=this.data["pagData.context.applicationId"]=cc.isICC?"icc":undefined;break;case"pagData.context.environment":value=cc.isP?"P":cc.isE?"E":"K";this.data["pagData.context.environment"]=value;break;case"pagData.context.timestamp":value=new Date().toISOString();break;case"pagData.context.server":value=window.location.host;this.data["pagData.context.server"]=value;break;case"pagData.context.moduleId":value=cc.isICC?"icc":"";value=value+" recommendation";this.data["pagData.context.moduleId"]=value;break;case"pagData.visitor.deviceBrowserHeight":value=String(screen.availHeight);this.data["pagData.visitor.deviceBrowserHeight"]=value;break;case"pagData.visitor.deviceBrowserWidth":value=String(screen.availWidth);this.data["pagData.visitor.deviceBrowserWidth"]=value;break;case"pagData.visitor.deviceBrowserBreakpoint":var w=$(window).width();value=w>2400?"2401":w>1759?"1760":w>1000?"1001":w>760?"761":"400";this.data["pagData.visitor.deviceBrowserBreakpoint"]=value;break;case"pagData.visitor.deviceBrowserOrientation":value=(window.orientation?Math.abs(window.orientation)==90:screen.availWidth-screen.availHeight>0)?"l":"p";this.data["pagData.visitor.deviceBrowserOrientation"]=value;break;case"pagData.visitor.deviceType":value=(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)?"mobile":"desktop";this.data["pagData.visitor.deviceType"]=value;break;case"pagData.visitor.useragent":value=navigator.userAgent;this.data["pagData.visitor.useragent"]=value;break;case"pagData.visitor.testGroup":if(typeof iccRecoHelper!=="undefined"){value=iccRecoHelper.getTestGroup()}this.data["pagData.visitor.testGroup"]=value;break;case"pagData.car.exteriorColorCode":case"pagData.car.exteriorColorName":case"pagData.car.interiorColorCode":case"pagData.car.interiorColorName":case"pagData.car.wheelsCode":case"pagData.car.wheelsName":case"pagData.car.extrasCount":case"pagData.car.extrasCurrentOptionsList":case"pagData.car.extrasCurrentOptionsCodes":if(this.lastProducts){var updateSuccessful=this.updateLastSelectedOptions(this.lastProducts);if(updateSuccessful){this.lastProducts=null}}value=this.data[path];break;case"pagData.car.type":value=this.data["pagData.car.type"]="configuration";break;case"pagData.car.porscheCode":value=this.porscheCode?this.porscheCode.desc:undefined;break;case"pagData.process.processName":value=this.data["pagData.process.processName"]="icc";break;case"pagData.process.processType":value=this.data["pagData.process.processType"]="configuration";break;case"pagData.pageExperience.pageId":value=this.data["pagData.pageExperience.pageId"]=window.location.host+window.location.pathname;break;case"pagData.pageExperience.sectionName":var dialog=cc.getLastDialog();if(dialog){value=cc.sectionMap[dialog.id].trackingId}break;case"pagData.pageExperience.pageName":if(cc.isColorator){value="colorator"}else{var dialog=cc.getLastDialog();value=dialog&&cc.sectionMap[dialog.id].trackingId?cc.sectionMap[dialog.id].trackingId:this.data["pagData.process.processStepName"]}break;case"pagData.financialProduct.productName":case"pagData.financialProduct.productCategory":var $selectedRbLabel=$(".selected .radiobutton~label",cc.sectionMap.leasingDialog.sP);if($selectedRbLabel.length>0){this.data["pagData.financialProduct.productName"]=$selectedRbLabel.html();this.data["pagData.financialProduct.productCategory"]=$selectedRbLabel.attr("for").split(util.keyDlm).pop();value=this.data[path]}break;case"pagData.financialProduct.additionalProducts":var arr=[];$(".checkbox-wrapper.selected",cc.sectionMap.leasingDialog.sP).each(function(index,element){var imp=_this.productList.leasingDialog[element.id.split(util.keyDlm).pop()];if(imp){arr[arr.length]=imp}});if(arr.length>0){value=arr}break}}if(value===""){value=undefined}return value};DdmSupplier.prototype.isComplete=function isComplete(jsonCode){return jsonCode&&(jsonCode.indexOf("STRING")==-1||jsonCode.indexOf("ARRAY")==-1||jsonCode.indexOf("BOOLEAN")==-1||jsonCode.indexOf("NUMBER")==-1||jsonCode.indexOf("OBJECT")==-1)};DdmSupplier.prototype.reportPage=function reportPage(key,category,val,$arr,aux){var page=null;if(this.hasStopped){return false}if(aux&&aux.component){var optionId=aux.component;this.data["pagData.car.extrasCurrentOptionsCodes"]=this.productList[optionId]}if(category!=null){if(category==DdmSupplier.PAGE_CAT_DIALOG){if(val=="leasingDialog"){this.resetSublist("leasingDialog","pfc_additionalServices");this.resetFinancing();this.setPageExperience(page,val,val)}else{if(key=="conflict"){this.resetSublist("conflict","conflict")}page=key}}else{if(category==DdmSupplier.PAGE_CAT_SEARCH){if(val==cc.sectionMap[cc.cnst.s_search].lastTerm&&$arr){var sVal="search_"+val;if(this.regSearchProduct(sVal,$arr)){this.impLists[key]=this.loadedLists[sVal];delete this.loadedLists[sVal];page=key+"/searchresult/?query="+val}}if(!page){key=null}}else{if(category==DdmSupplier.PAGE_CAT_RECO){page=key;this.resetSublist("s_reco","s_reco")}}}if(page){var ddmEvent=this.controlEventMapping[page+"_Load"]||this.controlEventMapping.dialog;this.setPageExperience(page,val,val);this.pushData(ddmEvent)}}else{if(key!=this.cList){this.lastPage=this.view=key;this.stuffProcessFields(key)}else{return false}}if(category==null||category==DdmSupplier.PAGE_CAT_SEARCH||(category==DdmSupplier.PAGE_CAT_RECO)){this.reportImpression(key)}this.setPageExperience()};DdmSupplier.prototype.reportImpression=function reportImpression(list,arr){if(this.hasStopped){return false}if(list!="conflict"&&list!="searchResult"&&list!="leasingDialog"&&list!="s_reco"){this.cList=list}if(list=="myPorsche"){}else{if(list=="leasingDialog"){this.pushData("PAGConfigurator_FinancialProductLayer_Load")}else{if(arr||(arr=this.impLists[list])){this.trackImpression(list,arr)}}}};DdmSupplier.prototype.trackImpression=function(list,arr){try{if(arr.length>0){this.data["pagData.car.extrasCurrentOptionsImpression"]=arr;this.pushData(this.controlEventMapping.addImpression)}}catch(ex){cc.traceError("trackImpression()",ex.message,"DdmSupplier")}};DdmSupplier.prototype.addSublist=function(subkey){if(this.hasStopped){return false}var subList=this.loadedLists[subkey];if(subList){var list=subList[0].CategoryCode;this.impLists[list]=(this.impLists[list]||[]).concat(subList);delete this.loadedLists[subkey];if(list==this.cList){this.reportImpression(list,subList)}else{this.reportPage(list,null)}}};DdmSupplier.prototype.reportChange=function(key,subkey,logicIdent){if(this.hasStopped){return false}if(this.cList!=key){this.reportPage(key,null)}};DdmSupplier.prototype.reportNavigation=function(action,key,subkey){};DdmSupplier.prototype.regProduct=function(id,name,group,list,price,cId,isHighlight){if(this.hasStopped){return false}if(!cId||!cc.cntrls[cId]){return false}name=util.getUnicodeMessage(name);price=this.flattenPrice(price);var data=null;var imp=null;var originalImp=null;if(!group){group=list}if(list=="s_reco"||list=="recommendation"||list=="conflict"||list=="searchResult"||list=="leasingDialog"){if(!this.productList[list]){this.resetSublist(list,group)}imp=this.productList[list][id];originalImp=this.productList[id]}else{imp=this.productList[id]}if(!imp){var isOpen=cc.initiallyOpenConfListIds[group];var subList=isOpen?this.impLists[list]:this.loadedLists[group];if(!subList){if(isOpen){subList=this.impLists[list]=[]}else{subList=this.loadedLists[group]=[]}}if(typeof this.cntIdx[group]=="undefined"){this.cntIdx[group]=0}var categoryName=this.controlList[list]?this.controlList[list].clickElementName:list;var groupName=this.controlList[group+"_subHdl"]?this.controlList[group+"_subHdl"].clickElementName:group;imp={Type:(group=="ILP"?"package":"single"),CategoryCode:originalImp?originalImp.CategoryCode:list,CategoryName:originalImp?originalImp.CategoryName:categoryName,GroupCode:originalImp?originalImp.GroupCode:group,GroupName:originalImp?originalImp.GroupName:groupName,OptionCode:id,OptionName:name,OptionPosition:++this.cntIdx[group],IsRecommendation:false,Price:price};subList[subList.length]=imp;if(list=="s_reco"||list=="recommendation"||list=="conflict"||list=="searchResult"||list=="leasingDialog"){this.productList[list][id]=imp}else{this.productList[id]=imp}data=imp}else{data=imp}if(cId){cc.cntrls[cId].track=data}};DdmSupplier.prototype.regControl=function regControl(id,name,cntrlId,section,idx){if(this.hasStopped){return false}var ddmEvent=this.controlEventMapping[id];var controlImp={clickElementId:id,clickElementName:this.flattenText(name),contentId:cntrlId,sectionName:section,idx:idx||null};this.controlList[id]=controlImp};DdmSupplier.prototype.flattenText=function(s){return s&&s.replace(/([:,.{}[\]])/g,"")};DdmSupplier.prototype.flattenPrice=function(s){var numberString=0;if(s){numberString=util.getUnicodeMessage(s);numberString=cc.parseLocaleNumber(numberString)}return numberString};DdmSupplier.prototype.resetSublist=function(list,group){this.productList[list]=[];this.cntIdx[group]=0;delete this.impLists[list];if(list=="conflict"||list=="leasingDialog"||list=="s_reco"){var _this=this;$(document).on("handleServerEventEnd.handleSublistImpressions",function(e){_this.reportImpression(list);$(document).off("handleServerEventEnd.handleSublistImpressions")})}};DdmSupplier.prototype.setCurrentView=function(v){this.view=v};DdmSupplier.prototype.updateCcaData=function(coll){for(var key in coll){var item=coll[key];var price=item?this.flattenPrice(item[0]):0;if(item.length==2){price+=this.flattenPrice(item[1])}this.data[key]=price}};DdmSupplier.prototype.updateLastSelectedOptions=function(selectedOptionsData){if(this.hasStopped){return false}var confSection=$("#s_conf")[0];var selectedOptions=selectedOptionsData.dV;var extrasList=[];var optionCount=0;var configSectionAlreadyLoaded=false;for(var i=0;i<selectedOptions.length;i++){var domVal=selectedOptions[i];if(!domVal.aux[cc.cnst.aux_disabled]){var $items=$("[id$='"+domVal.id+"']",confSection);var cObj=$items.filter("li")[0]||$items.filter(".checkbox")[0]||$items.filter(".radiobutton")[0];if(cObj&&cc.cntrls[cObj.id]&&cObj.parentNode.id.indexOf("AVA")==-1){var imp=cc.cntrls[cObj.id].track;if(imp){configSectionAlreadyLoaded=true;switch(imp.GroupCode){case"IAF":this.data["pagData.car.exteriorColorCode"]=imp.OptionCode;this.data["pagData.car.exteriorColorName"]=imp.OptionName;break;case"submenu_interior_and_material":this.data["pagData.car.interiorColorCode"]=imp.OptionCode;this.data["pagData.car.interiorColorName"]=imp.OptionName;break;case"IRA":this.data["pagData.car.wheelsCode"]=imp.OptionCode;this.data["pagData.car.wheelsName"]=imp.OptionName;break}if(imp.Price!=0){extrasList[extrasList.length]=imp;if(domVal.aux[cc.cnst.aux_number]){optionCount+=parseInt(domVal.aux[cc.cnst.aux_number])}else{optionCount++}}}}}}this.data["pagData.car.extrasCurrentOptionsList"]=extrasList;this.data["pagData.car.extrasCount"]=optionCount;return configSectionAlreadyLoaded};DdmSupplier.prototype.resetFinancing=function(){delete this.data["pagData.financialProduct.productName"];delete this.data["pagData.financialProduct.productCategory"];delete this.data["pagData.financialProduct.cashPrice"];delete this.data["pagData.financialProduct.totalSum"];delete this.data["pagData.financialProduct.downpaymentValue"];delete this.data["pagData.financialProduct.downpaymentPercentage"];delete this.data["pagData.financialProduct.paymentMonthly"];delete this.data["pagData.financialProduct.paymentFinal"];delete this.data["pagData.financialProduct.interestEffective"];delete this.data["pagData.financialProduct.interestDebt"];delete this.data["pagData.financialProduct.financingDuration"];delete this.data["pagData.financialProduct.mileageNumber"];delete this.data["pagData.financialProduct.mileageUnit"];delete this.data["pagData.financialProduct.additionalProducts"]};DdmSupplier.prototype.resetKeys=function resetKeys(cleanUpTrackingData){for(var key in cleanUpTrackingData){delete this.data[key]}};DdmSupplier.prototype.checkConsistency=function(){var firstRun=true;for(var evt in this.eventDataMapping){var isEventDefined=false;for(var cntrl in this.controlEventMapping){var linkedEvent=this.controlEventMapping[cntrl];if(linkedEvent==evt){isEventDefined=true;if(!firstRun){break}}if(firstRun&&!this.eventDataMapping[linkedEvent]){cc.traceError("checkConsistency() "," --- No definition to DDM event '"+linkedEvent+"'! --- --- --- --- ",this.id)}}firstRun=false;if(!isEventDefined){cc.traceError("checkConsistency() "," --- No linked control or key to '"+evt+"'! --- --- --- --- ",this.id)}}};DdmSupplier.prototype.init=function(){var dObj=this.initialDO;this.initialDO=null;if(!this.productList){this.checkConsistency();var _this=this;$(document).on("mainNavigationChange",function(e){_this.reportPage(e.key,null)})}this.hasStopped=!dObj.selected;this.cList=null;this.productList={};this.impLists={};this.loadedLists={};this.cntIdx={};if(this.hasStopped){this.trace("Init","No tracking!")}else{for(var i=0;i<dObj.dV.length;i++){this.data[dObj.dV[i].id]=dObj.dV[i].value}}};DdmSupplier.PAGE_CAT_DIALOG=1;DdmSupplier.PAGE_CAT_MESSAGE=2;DdmSupplier.PAGE_CAT_SEARCH=4;DdmSupplier.PAGE_CAT_RECO=5;var AbstractSection=(function(){this.scrollDirection=null;this.$lastWaypoint=null;function AbstractSection(){}AbstractSection.prototype.reset=function reset(){};AbstractSection.prototype.evalData=evalData;AbstractSection.prototype.evalImg=function(sP,dObj,cObj){var pN={id:util.getId(this.sP.id,dObj.id)};if(dObj.imgLst.length>0){if(dObj.aux[cc.cnst.aux_cssClass]){pN.css=dObj.aux[cc.cnst.aux_cssClass]}var img=dObj.imgLst[0];if(img.bgPos){if(cObj==null){pN.css="bgImg";cObj=util.addNode(sP,"DIV",pN)}else{util.applyAttrList(cObj,pN)}if(img.width){cObj.style.width=img.width}if(img.height){cObj.style.height=img.height}cObj.style.backgroundImage="url("+cc.webRoot+img.src+")";cObj.style.backgroundPosition=img.bgPos}else{if(!util.startsWith(img.src,"data:image")){pN.src=cc.prefixRelativeUrlWithWebPath(img.src)}else{pN.src=img.src}if(cObj==null){cObj=util.addNode(sP,"IMG",pN)}else{util.applyAttrList(cObj,pN)}}}};AbstractSection.prototype.evalView=evalPanel;AbstractSection.prototype.evalTabControl=function evalTabControl(sP,dObj,cObj){var tabTitleListId=util.getId(this.id,dObj.id,"tabTitleList");var tabPageListId=util.getId(this.id,dObj.id,"tabPageList");var tabTitleListNode=cObj||util.getNode(sP,"ul",{id:tabTitleListId});util.addClass("tab-title-list",tabTitleListNode);var tabPageListNode=util.getNode(tabTitleListNode.parentNode,null,{id:tabPageListId});util.addClass("tab-page-list",tabPageListNode);for(var i=0;i<dObj.dV.length;i++){this.evalTabPage({tabTitleListNode:tabTitleListNode,tabPageListNode:tabPageListNode,dObj:dObj,dV:dObj.dV[i]})}return{tabTitleListNode:tabTitleListNode,tabPageListNode:tabPageListNode}};AbstractSection.prototype.evalTabPage=function evalTabPage(args){var tabTitleListNode=args.tabTitleListNode;var tabPageListNode=args.tabPageListNode;var dObj=args.dObj;var dV=args.dV;var tabTitleId=util.getId(this.id,dObj.id,dV.id);var tabPageId=util.getId(this.id,dV.id);var tabTitleNode=document.getElementById(tabTitleId);var tabPageNode=document.getElementById(tabPageId);if(!tabTitleNode){tabTitleNode=util.addNode(tabTitleListNode,"li",{id:tabTitleId,css:"tab-title "+dV.id});util.addNode(tabTitleNode,"a").innerHTML=dV.value||dV.id;util.attachTextTooltip(tabTitleNode,dV.aux[cc.cnst.aux_tt]);tabPageNode=util.addNode(tabPageListNode,null,{id:tabPageId,css:"tab-page "+dV.id})}else{var objects=tabTitleNode.getElementsByTagName("a");if(objects.length!=0){objects[0].innerHTML=dV.value||dV.id}}$(tabTitleNode).toggleClass("active",dV.selected);$(tabPageNode).toggleClass("active",dV.selected);var actionArgs=$.extend({},args);actionArgs.tabTitleNode=tabTitleNode;actionArgs.tabPageNode=tabPageNode;this.evalTabPageActions(actionArgs);return{tabTitleNode:tabTitleNode,tabPageNode:tabPageNode}};AbstractSection.prototype.evalTabPageActions=function evalTabPageActions(args){var tabTitleListNode=args.tabTitleListNode;var tabPageListNode=args.tabPageListNode;var tabTitleNode=args.tabTitleNode;var tabPageNode=args.tabPageNode;var dV=args.dV;if(dV.aux[cc.cnst.aux_action]){util.getClientAction(tabTitleNode.id,"click",{ce:dV.aux[cc.cnst.aux_action]})}else{util.getClientAction(tabTitleNode.id,"click",{fn:function(){if(util.hasClass("active",tabTitleNode)){return}$(".tab-title",tabTitleListNode).removeClass("active");$(".tab-page",tabPageListNode).removeClass("active");$(tabTitleNode).addClass("active");$(tabPageNode).addClass("active");tabPageListNode.parentNode.scrollTop=0}})}};AbstractSection.prototype.evalInput=evalInput;AbstractSection.prototype.evalCheckbox=function(sP,dObj,cObj){var result={checkboxWrapperNode:null,checkboxNode:cObj,checkboxLabelNode:null};var dId=util.getId(sP.id,dObj.id);var isInitial=cObj==null;if(!cObj){var wrp=result.checkboxWrapperNode=util.addNode(sP,"div",{id:dId,css:"checkbox-wrapper"});cObj=result.checkboxNode=util.addNode(wrp,"span",{css:"checkbox"});if(dObj.desc){var label=result.checkboxLabelNode=util.addNode(wrp,"label",{"for":util.getId(sP.id,dObj.id)});label.innerHTML=dObj.desc}}if(dObj.selected){util.addClass("selected",wrp)}else{util.removeClass("selected",wrp)}if(dObj.aux[cc.cnst.aux_disabled]=="true"){util.addClass("no-click",cObj)}else{if(dObj.aux[cc.cnst.aux_action]){util.getClientAction(dId,"click",{ce:dObj.aux[cc.cnst.aux_action]})}else{if(this.aux.form&&isInitial){var _checkBox=util.addNode(wrp,"input",{type:"checkbox",name:dObj.id,css:"visNone",value:"1"});if(dObj.selected){_checkBox.checked="checked"}util.getClientAction(dId,"click",{fn:function(){var wasTicked=util.hasClass("selected",this);if(wasTicked){util.removeClass("selected",this)}else{util.addClass("selected",this)}_checkBox.checked=!wasTicked}})}else{util.getClientAction(dId,"click",{fn:function(){if(util.hasClass("selected",this)){util.removeClass("selected",this)}else{util.addClass("selected",this)}}})}}}return result};AbstractSection.prototype.evalRadioButton=function evalRadioButton(sP,dObj,cObj){var result={radiobuttonWrapperNode:null,radiobuttonNode:null};for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dObj.id,dV.id);var isReadonly=dObj.aux[cc.cnst.aux_readonly]=="1"||dV.aux[cc.cnst.aux_readonly]=="1";var wrp=document.getElementById(dVId);if(!wrp){wrp=util.addNode(sP,"div",{id:dVId,css:"radiobutton-wrapper"});util.addNode(wrp,"span",{css:"radiobutton"});if(dV.value){var label=util.addNode(wrp,"label",{"for":dVId});label.innerHTML=dV.value}}result.radiobuttonWrapperNode=wrp;result.radiobuttonNode=$(wrp).find(".radiobutton").toggleClass("no-click",isReadonly)[0];$(wrp).toggleClass("selected",dV.selected).toggleClass("disabled",isReadonly);if(!isReadonly){if(dV.aux[cc.cnst.aux_action]){util.getClientAction(dVId,"click",{ce:dV.aux[cc.cnst.aux_action]})}else{util.getClientAction(dVId,"click",{fn:function(cEvt){$(".radiobutton-wrapper.selected",this.parentNode).removeClass("selected");if(!$(this).hasClass("disabled")){util.addClass("selected",this)}}})}if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl(dV.id,dV.value,dVId,this.id)}}}return result};AbstractSection.prototype.evalSelect=function(sP,dObj,cObj){var result={select2ContainerNode:null,selectNode:null};var pnl=null;if(!cObj){if(dObj.desc||dObj.aux[cc.cnst.aux_title]){pnl=util.addNode(sP,"div",{css:"select-wrapper"});var label=util.addNode(pnl,"label",{"for":util.getId(sP.id,dObj.id)});label.innerHTML=dObj.desc?dObj.desc:dObj.aux[cc.cnst.aux_title];if(dObj.aux[cc.cnst.aux_cssClass]){util.addClass(dObj.aux[cc.cnst.aux_cssClass],pnl)}else{util.addClass("default-style",pnl)}}else{pnl=sP}var pN={id:util.getId(sP.id,dObj.id),name:dObj.id};if(dObj.aux[cc.cnst.aux_filter]){pN.css=cc.cnst.aux_filter}cObj=util.addNode(pnl,"select",pN);this.evalSelectActions({dObj:dObj,action:dObj.aux[cc.cnst.aux_action],selectNode:cObj})}else{cObj.options.length=0}var domValues=dObj.dV;if(domValues.length>0){cObj.disabled=false;if(dObj.aux[cc.cnst.aux_placeholder]){cObj.setAttribute("placeholder",dObj.aux[cc.cnst.aux_placeholder]);cObj.options[0]=document.createElement("OPTION")}for(var j=0;j<domValues.length;j++){var domVal=domValues[j];var opt=document.createElement("OPTION");opt.value=domVal.id;opt.text=util.convertHTMLEntitiesToUnicode(domVal.value);opt.selected=domVal.selected;opt.aux=domVal.aux;cObj.options[cObj.options.length]=opt}}else{cObj.disabled=true}if(dObj.aux[cc.cnst.aux_error]){util.addClass("error",cObj)}util.addClass(dObj.id,cObj);var $cObj=this.bindSelect2({selectNode:cObj});result.selectNode=cObj;result.select2ContainerNode=$cObj.select2("container")[0];if(dObj.aux[cc.cnst.aux_readonly]=="1"){cObj.readOnly="readonly"}if(dObj.aux[cc.cnst.aux_disabled]=="true"){cObj.disabled="disabled";util.addClass("no-click",cObj)}return result};AbstractSection.prototype.bindSelect2=function bindSelect2(args){var $cObj=$(args.selectNode);var options={minimumResultsForSearch:-1,adaptContainerCssClass:function(className){return"error"==className?className:className+"-container"},adaptDropdownCssClass:function(className){return"error"==className?className:className+"-dropdown"}};if($cObj.hasClass("filter")){options.minimumResultsForSearch=0}if($cObj.attr("placeholder")){options.placeholder=$cObj.attr("placeholder");options.allowClear=true}$cObj.select2(options);if(!args.selectNode.disabled){$cObj.on("select2-opening",function(e){cc.deactivatePageScrolling("select2",false,this.id)}).on("select2-open",function(e){var $dropDownList=$(this).select2("dropdown");cc.padPanel($dropDownList)}).on("select2-close",function(e){cc.activatePageScrolling("select2",null,this.id)})}return $cObj};AbstractSection.prototype.evalSelectActions=function evalSelectActions(args){var cObj=args.selectNode;var action=args.action;if(action){var _action=action;var onchange=function(evt){var selectedActual=evt.added;var value=selectedActual.element[0].value;var completeAction=_action+value;if(util.isSpringAction(completeAction)){cc.fireEvent(completeAction)}else{cc.fireEvent("selectItem",completeAction)}};$(cObj).on("change",onchange)}var onchange=function(evt){var selectedActual=evt.added;if(selectedActual.element.length<=0){return}if(!selectedActual.element[0].aux){return}var action=selectedActual.element[0].aux[cc.cnst.aux_action];if(action){if(util.isSpringAction(action)){cc.fireEvent(action)}else{cc.fireEvent("selectItem",action)}}};$(cObj).on("change",onchange)};AbstractSection.prototype.evalKeyboard=function evalKeyboard(sP,dObj,cObj){var result={};if(!cObj){var pnl=cObj=sP;if(dObj.desc||dObj.aux[cc.cnst.aux_title]){pnl=cObj=util.addNode(sP,"div",{id:util.getId("keyboard"+dObj.desc,dObj.id),css:"keyboard-wrapper"});util.addClass("keyboard-wrapper",pnl);this.evalKeyboardActions({dObj:dObj,action:dObj.aux[cc.cnst.aux_action],wrapper:pnl})}for(var i=0;i<dObj.dV.length;i++){var key=dObj.dV[i].value;var pN={id:util.getId(key,dObj.id),name:dObj.id};var keyDiv=util.addNode(pnl,"div",pN);keyDiv.innerHTML=key;if(dObj.dV[i].selected){util.addClass("selected",keyDiv);if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.setFinancingData(dObj.id,key)}}}if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl(dObj.id,dObj.desc||dObj.aux[cc.cnst.aux_title],pnl.id,this.id)}}if(dObj.aux[cc.cnst.aux_disabled]){this.evalDisabled(cObj,dObj)}if(dObj.aux[cc.cnst.aux_error]){util.addClass("error",cObj)}return result};AbstractSection.prototype.evalKeyboardActions=function evalKeyboardActions(args){var domVals=args.dObj.dV;var cObj=args.wrapper;var action=args.action;if(action){$(cObj).on("click",function(event){var selIdx=0;for(var i=0;i<event.target.parentNode.childNodes.length;i++){if(event.target.id===event.target.parentNode.childNodes[i].id){selIdx=i;break}}var valId=domVals[selIdx].id;cc.fireEvent("selectItem",action+valId,{x:event.clientX,y:event.clientY})})}};AbstractSection.prototype.evalSlider=function evalSlider(sP,dObj,cObj){var result={sliderContainerNode:null,sliderNode:null};var transferOffset=function transferOffset(sourceEl,targetEl){var uncomputedLeft=sourceEl.style.left;$(targetEl).css("transform","translateX(-"+uncomputedLeft+")")};if(!cObj){var pnl=sP;if(dObj.desc||dObj.aux[cc.cnst.aux_title]){pnl=util.addNode(sP,"div",{css:"slider-wrapper"});var label=util.addNode(pnl,"label",{"for":util.getId(sP.id,dObj.id)});label.innerHTML=dObj.desc?dObj.desc:dObj.aux[cc.cnst.aux_title];util.addClass(dObj.aux[cc.cnst.aux_cssClass],pnl)}var pN={id:util.getId(sP.id,dObj.id),name:dObj.id};cObj=util.addNode(pnl,"div",pN);this.evalSliderActions({dObj:dObj,action:dObj.aux[cc.cnst.aux_action],sliderNode:cObj});$(cObj).on("slide.transferOffset",function(event,ui){var source=$(this).find(".ui-slider-pip-"+ui.value)[0];transferOffset(source,ui.handle)})}var minIdx=0;var maxIdx=dObj.dV.length-1;var selIdx=0;var labels=[];for(var i=0;i<dObj.dV.length;i++){labels[i]=dObj.dV[i].value;if(dObj.dV[i].selected){selIdx=i}}var $cObj=$(cObj);$cObj.slider({range:"min",min:minIdx,max:maxIdx,value:selIdx});$cObj.slider("pips",{labels:labels,rest:"label"});if(dObj.aux[cc.cnst.aux_disabled]){$cObj.slider("disable")}if(dObj.aux[cc.cnst.aux_error]){util.addClass("error",cObj)}$cObj.find(".ui-slider-pip").each(function(){transferOffset(this,$(this).find(".ui-slider-label")[0])});transferOffset($cObj.find(".ui-slider-pip-selected")[0],$cObj.find(".ui-slider-handle")[0]);result.sliderNode=cObj;result.sliderContainerNode=cObj.parentNode;return result};AbstractSection.prototype.evalSliderActions=function evalSliderActions(args){var domVals=args.dObj.dV;var cObj=args.sliderNode;var action=args.action;if(action){$(cObj).on("slidechange",function(event,ui){var selIdx=ui.value;var valId=domVals[selIdx].id;cc.fireEvent("selectItem",action+valId)})}if(cc.cnst.ga&&cc.ddmSupplier){if(!this.aux.sliderValues){this.aux.sliderValues={}}this.aux.sliderValues[args.dObj.id]=domVals}};AbstractSection.prototype.evalEditList=function(sP,dObj,cObj){var pnl=null;if(!cObj){if(dObj.aux[cc.cnst.aux_title]){pnl=util.addNode(sP,"div",{css:"select-wrapper"});var label=util.addNode(pnl,"label",{"for":util.getId(sP.id,dObj.id)});label.innerHTML=dObj.aux[cc.cnst.aux_title];if(dObj.aux[cc.cnst.aux_cssClass]){util.addClass(dObj.aux[cc.cnst.aux_cssClass],pnl)}else{util.addClass("default-style",pnl)}}else{pnl=sP}cObj=util.addNode(pnl,"input",{id:util.getId(sP.id,dObj.id),name:dObj.id,type:"hidden"})}var entries=[];var domValues=dObj.dV;for(var j=0;j<domValues.length;j++){entries.push({id:j,text:util.convertHTMLEntitiesToUnicode(domValues[j].value)})}var $cObj=$(cObj);$cObj.select2({minimumInputLength:0,data:entries,multiple:false,createSearchChoice:function(term,data){if($(data).filter(function(){return this.text.localeCompare(term)===0}).length===0){return{id:term,text:term}}}})};AbstractSection.prototype.evalLinkListItem=function(sP,dObj,cObj){var list=cObj?[cObj]:$("*[id$='"+dObj.id+"']",this.sP);for(var i=0;i<list.length;i++){cObj=list[i];this.fillButton(cObj,$.extend(util.newEmptyDomainValue(),{value:dObj.desc,aux:dObj.aux}))}};AbstractSection.prototype.evalLinkList=function(sP,dObj,cObj){if(cObj==null){cObj=util.getNode(sP,"ul",{id:util.getId(this.id,dObj.id)})}util.addClass(dObj.aux[cc.cnst.aux_cssClass],cObj);for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dObj.id,dV.id);var control=util.getNode(cObj,"li",{id:dVId,css:"button_"+dV.id});this.fillButton(control,dV);this.extendEvalLinkList(dObj,dV,control);if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl(dV.id,dV.value,dVId,this.id)}}return cObj};AbstractSection.prototype.fillButton=function(control,dV){var hasAction=dV.aux[cc.cnst.aux_action]!=null||dV.aux[cc.cnst.aux_directAction]!=null||dV.aux[cc.cnst.aux_weblink]!=null;util.addClass(dV.aux[cc.cnst.aux_cssClass],control);if(dV.aux[cc.cnst.aux_trackingId]){control.setAttribute(cc.cnst.attribute_trackingId,dV.aux[cc.cnst.aux_trackingId])}var childAsArray=control.getElementsByTagName("a");if(childAsArray.length>0){if(!hasAction){util.recRemove(control,false);cc.cntrls[control.id]["click"]=null}}else{childAsArray=control.getElementsByTagName("span");if(childAsArray.length>0&&hasAction){util.recRemove(control,false)}}if(childAsArray.length==0){util.addNode(control,hasAction?"a":"span").innerHTML=dV.value;util.attachTextTooltip(control,dV.aux[cc.cnst.aux_tt])}else{control.childNodes[0].innerHTML=dV.value}this.evalAction(control,dV);if(dV.aux[cc.cnst.aux_disabled]){this.evalDisabled(control,dV)}return control};AbstractSection.prototype.evalAction=function(control,dV){if(dV.aux[cc.cnst.aux_action]){var _action=dV.aux[cc.cnst.aux_action];if(dV.aux[cc.cnst.aux_type]=="submit"){var $forms=$(control).closest("form");if($forms.length>0){var actionSettings={dV:dV,type:dV.aux[cc.cnst.aux_type],form:$forms[0]};var params=DialogSection.prototype.getClientActionParams.call(this,dV.aux[cc.cnst.aux_action],actionSettings);util.getClientAction(control.id,"click",params)}}else{if((_action[_action.length-1]=="=")&&!this.isDialog){var _id=_action.split("&");_id=_id[_id.length-1];var _inp=document.getElementById(util.getId(this.id,_id.substr(0,_id.length-1)));if(_inp){util.getClientAction(control.id,"click",{fn:function(cEvt){cc.fireEvent("selectItem",_action+_inp.value,(cEvt?{x:cEvt.clientX,y:cEvt.clientY}:null))}})}}else{var args={popupWindowName:dV.aux[cc.cnst.aux_popupWindowName],responseType:dV.aux[cc.cnst.aux_responseType],action:_action};var clickHandler=(function(args){return function(cEvt){if(args.popupWindowName){cc.openEmptyWindow(args.popupWindowName)}var posEvt=cEvt?{x:cEvt.clientX,y:cEvt.clientY}:null;if(args.responseType==cc.cnst.mediaType.app_json){cc.fireEvent("ajaxCall",args.action,posEvt)}else{cc.fireEvent("selectItem",args.action,posEvt)}}})(args);util.getClientAction(control.id,"click",{fn:clickHandler})}}}else{if(dV.aux[cc.cnst.aux_directAction]){util.getClientAction(control.id,"click",{fn:(function(_code){return function(){try{eval(_code)}catch(ex){cc.traceError("evalAction()",ex.message+": "+_code)}}})(dV.aux[cc.cnst.aux_directAction])})}else{if(dV.aux[cc.cnst.aux_weblink]){$("a",control).attr("href",dV.aux[cc.cnst.aux_weblink]);if(dV.aux[cc.cnst.aux_target]){$("a",control).attr("target",dV.aux[cc.cnst.aux_target])}}else{var customActionFn=this.getCustomAction(null,dV);if($.isFunction(customActionFn)){util.getClientAction(control.id,"click",{fn:customActionFn})}}}}this.checkVisibilities(control,dV)};AbstractSection.prototype.evalDisabled=function(control,dV){if(dV.aux[cc.cnst.aux_disabled]=="true"){$(control).addClass("disabled")}else{$(control).removeClass("disabled")}};AbstractSection.prototype.evalTextArea=function(sP,dObj,cObj){var result={textareaNode:null};if(dObj.dV.length==0){var pN={id:util.getId(this.id,dObj.id),name:dObj.id};if(dObj.aux[cc.cnst.aux_disabled]){pN.disabled="disabled"}if(dObj.aux[cc.cnst.aux_maxlen]){pN.maxLength=dObj.aux[cc.cnst.aux_maxlen]}if(dObj.aux[cc.cnst.aux_readonly]=="1"){pN.readOnly="readonly"}var l=dObj.aux[cc.cnst.aux_title];if(l){var label=result.inputLabelNode=util.addNode(sP,"label",{"for":util.getId(this.id,dObj.id)});label.innerHTML=l}(result.textareaNode=util.getNode(sP,"textarea",pN)).innerHTML=dObj.desc}else{for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dObj.id,dV.id);var pN={id:dVId,name:dV.id};if(dV.aux[cc.cnst.aux_disabled]){pN.disabled="disabled"}if(dV.aux[cc.cnst.aux_maxlen]){pN.maxLength=dV.aux[cc.cnst.aux_maxlen]}if(dV.aux[cc.cnst.aux_readonly]=="1"){pN.readOnly="readonly"}util.getNode(sP,"textarea",pN).innerHTML=dV.value}}return result};AbstractSection.prototype.evalTextList=function(sP,dObj,cObj){if(dObj.id==cc.cnst.cca_txt){return}var result={labelNode:null,textNode:cObj};if(cObj==null){var attrs={css:"text"};if(dObj.id){attrs.id=util.getId(this.id,dObj.id)}cObj=result.textNode=util.getNode(sP,"div",attrs)}else{util.recRemove(cObj,false)}if(dObj.aux[cc.cnst.aux_cssClass]){util.addClass(dObj.aux[cc.cnst.aux_cssClass],cObj)}if(dObj.aux[cc.cnst.aux_title]){var label=result.labelNode=util.addNode(cObj,"label",{});label.innerHTML=dObj.aux[cc.cnst.aux_title];cObj=result.textNode=util.addNode(cObj,"div",{})}$(cObj).dataAttr(dObj.aux);if(dObj.dV.length==0){util.addClass(util.adjustTextOrientation(dObj.desc),cObj);cObj.innerHTML=dObj.desc;util.attachTextTooltip(cObj,dObj.aux[cc.cnst.aux_tt])}else{for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var customCssClass=dV.aux[cc.cnst.aux_cssClass]||"";if(dV.aux[cc.cnst.aux_title]){var line=util.addNode(cObj,"div",{css:"line "+customCssClass});util.addNode(line,"label",{}).innerHTML=dV.aux[cc.cnst.aux_title];var valueNode=util.addNode(line,"p",{});valueNode.innerHTML=dV.value;util.attachTextTooltip(valueNode,dV.aux[cc.cnst.aux_tt])}else{var valueNode=util.addNode(cObj,"p",{css:customCssClass});valueNode.innerHTML=dV.value;util.attachTextTooltip(valueNode,dV.aux[cc.cnst.aux_tt])}}}return result};AbstractSection.prototype.evalSubheadline=function evalSubheadline(sP,dObj,cObj){if(cObj==null){cObj=util.getNode(sP,"div",{id:util.getId(this.id,dObj.id),css:"subheadline"})}cObj.innerHTML=dObj.desc};AbstractSection.prototype.evalSection=function(sP,dObj,cObj){if(cc.sectionMap[dObj.id]==null||!cc.sectionMap[dObj.id].sP){var uiType=dObj.aux[cc.cnst.aux_dtp];if(uiType){var sectionConstructorFn=window[uiType];cc.getSection(dObj.id,sP,sectionConstructorFn)}else{cc.getSection(dObj.id,sP)}}else{this.traceError("evalSection()","Section already exists: "+dObj.id)}};AbstractSection.prototype.evalIFrame=function(sP,dObj,cObj){var pN={id:util.getId(this.sP.id,dObj.id)};pN.src=dObj.aux[cc.cnst.aux_url]?dObj.aux[cc.cnst.aux_url]:"about:blank";cObj=util.getNode(sP,"iframe",pN);return cObj};AbstractSection.prototype.flushOut=function(){if(this.sP){util.recRemove(this.sP)}};AbstractSection.prototype.destroy=function(){if(this.sP){$(".video-js",this.sP).each(function(){var v=this.id?this:this.parentNode;if(v.id){videojs(v.id).dispose();cc.traceError("destroy()","Video: "+v.id+"/ "+v.tagName)}else{cc.traceError("destroy()","Video skipped: "+v.tagName+" - "+v.className)}});for(var item in videojs.cache){cc.traceError("destroy()","delete cache item: "+item+": "+videojs.cache[item]);delete videojs.cache[item]}$(".swiper-container",this.sP).each(function(){var swiper=$(this).data("swiper");var s=swiper.destroy();cc.traceError("destroy()","Swiper: "+this.id+" -> "+swiper.id+(s?": "+s:""))});util.recRemove(this.sP,true)}};AbstractSection.prototype.traceError=function traceError(k,v){cc.traceError(k,v,this.id)};AbstractSection.prototype.traceInfo=function traceError(k,v){cc.traceInfo(k,v,this.id)};AbstractSection.prototype.extendEvalLinkList=function extendEvalLinkList(dObj,dV,child_actionElement){};AbstractSection.prototype.evalDialog=function(sP,dObj,cObj){};AbstractSection.prototype.registerOn=function(evt,f){if(typeof cc!="undefined"&&typeof cc.registerOn=="function"){cc.registerOn(evt,f,this)}else{this.regEvents[evt]=f;$(document).on(evt,f)}};AbstractSection.prototype.triggerEvent=function(p){cc.triggerEvent(p,this.id)};AbstractSection.prototype.evalDelete=function evalDelete(sP,dObj,cObj){var node=null;if(sP&&sP.id==dObj.desc){node=sP}else{node=$("#"+dObj.desc,sP)[0]}var clearContentOnly=dObj.aux[cc.cnst.aux_clear]=="1";util.recRemove(node,!clearContentOnly)};AbstractSection.prototype.evalFlags=function evalFlags(sP,dObj,cObj){for(var key in dObj.aux){var value=dObj.aux[key];if(value=="0"){$(sP).removeClass(key)}else{if(value=="1"){$(sP).addClass(key)}}}};AbstractSection.prototype.evalForm=function evalForm(sP,dObj,cObj){if(cObj==null){var dId=util.getId(this.id,dObj.id);var pN={id:dId,target:"",method:"POST",name:dId,action:null};if(dObj.aux[cc.cnst.aux_cssClass]){pN.css=dObj.aux[cc.cnst.aux_cssClass]}var form=cObj=this.aux.form=util.getNode(sP,"form",pN);form.onsubmit=nop;if(dObj.desc){var s=dObj.aux[cc.cnst.aux_action];if(s!=null){child=util.addNode(form,"a");util.registerCE(pN.id,"click",{ce:dObj.aux[cc.cnst.aux_action]})}}if(dObj.aux[cc.cnst.aux_weblink]){form.action=dObj.aux[cc.cnst.aux_weblink];form.target=dObj.aux[cc.cnst.aux_target]}else{util.addNode(form,"input",{name:"RT",type:"hidden"});util.addNode(form,"input",{name:"key",value:"offer",type:"hidden"});util.addNode(form,"input",{name:"value",type:"hidden"})}}else{util.getChildNodeByIdx(cObj,0).innerHTML=dObj.desc}return cObj};AbstractSection.prototype.evalTableHeader=evalTableRow;AbstractSection.prototype.evalTableRow=evalTableRow;AbstractSection.prototype.evalCheckboxGroup=function evalCheckboxGroup(sP,dObj,cObj){var $cObj=null;var $title=null;var isInitial=cObj==null;if(cObj){$cObj=$(cObj)}else{$cObj=$("#"+sP.id+"_mainGroup_wrapper");if($cObj.length==0){$cObj=$("<div>",{id:sP.id+"_mainGroup_wrapper"}).addClass("mainGroup-wrapper").appendTo($(sP))}}var $maingroup=$("#"+sP.id+"_"+dObj.id);if($maingroup.length==0){$maingroup=$("<div>",{id:sP.id+"_"+dObj.id}).addClass("mainGroup checkboxgroup").appendTo($cObj)}if(dObj.aux[cc.cnst.aux_cssClass]){$maingroup.addClass(dObj.aux[cc.cnst.aux_cssClass])}if($title==null&&""!=dObj.desc){$title=$("<div>",{html:dObj.desc}).addClass("checkboxgroup-title").appendTo($maingroup)}else{$maingroup.addClass("no-title")}for(var k=0;k<dObj.dV.length;k++){var domVal=dObj.dV[k];var domValId=domVal.id;var $item=$("<div>",{id:domValId}).addClass("checkbox-wrapper").appendTo($maingroup);var $box=$("<span>").addClass("checkbox").appendTo($item);var $text=$("<span>",{html:domVal.value}).addClass("checkbox-text").appendTo($item);if(domVal.aux[cc.cnst.aux_selected]){$item.addClass("selected")}if(domVal.aux[cc.cnst.aux_disabled]){$item.addClass("disabled")}else{if(domVal.aux[cc.cnst.aux_action]){util.getClientAction(domValId,"click",{ce:domVal.aux[cc.cnst.aux_action]})}else{if(this.aux.form&&isInitial){var paramNameForm=domVal.id;var persistenceCheckbox=util.addNode($item[0],"input",{type:"checkbox",name:paramNameForm,value:"1"});if(domVal.aux[cc.cnst.aux_selected]){persistenceCheckbox.checked="checked"}util.getClientAction(domValId,"click",{fn:function(){var $checkboxWrapper=$(this);var $persistenceCheckbox=$checkboxWrapper.find("input[type=checkbox]");var isSelected=$checkboxWrapper.hasClass("selected");$checkboxWrapper.toggleClass("selected",!isSelected);$persistenceCheckbox.prop("checked",!isSelected)}})}else{util.getClientAction(domValId,"click",{fn:function(){if(util.hasClass("selected",this)){util.removeClass("selected",this)}else{util.addClass("selected",this)}}})}}}}};AbstractSection.prototype.evalLink=function evalLink(sP,dObj,cObj){if(cObj==null){cObj=$("<div>",{id:util.getId(sP.id,dObj.id)}).addClass("link-wrapper").appendTo($(sP))[0]}if(dObj.desc&&""!=dObj.desc){$("<div>",{html:dObj.desc}).addClass("link-desc").appendTo($(cObj))}if(dObj.aux.url){$("<a>",{href:dObj.aux.url,html:dObj.aux.url}).addClass("link").appendTo($(cObj))}};function evalData(sEvt,dOs){var dV=null;if(typeof this.sP=="undefined"){return false}for(var i=0;i<dOs.length;i++){var dObj=dOs[i];var pKey=(dObj.aux[cc.cnst.aux_parent]&&util.getId(this.id,dObj.aux[cc.cnst.aux_parent]))||null;var sP=cc.getAnchorCntrl(this.id,dObj.aux[cc.cnst.aux_parent])||(pKey&&document.getElementById(pKey))||null;if(!sP&&this.isDialog){sP=dObj.type==cc.cnst.dtp_dlg?this.sP:this.view}else{if(!sP){sP=this.sP}}var cObj=null;try{cObj=document.getElementById(util.getId(this.id,dObj.id));if(!cObj){cObj=document.getElementById(util.getId(sP.id,dObj.id))}if(cObj){cObj.style.display=dObj.visible?"":"none"}this.forwardEval(sP,dObj,cObj)}catch(ex){this.traceError("evalData()",ex);if(ex.stack){this.traceError("evalData()",ex.stack)}}}}AbstractSection.prototype.forwardEval=function forwardEval(sP,dObj,cObj){switch(dObj.type){case cc.cnst.dtp_actionLst:this.evalLinkList(sP,dObj,cObj);break;case cc.cnst.dtp_actionLstItem:this.evalLinkListItem(sP,dObj,cObj);break;case cc.cnst.dtp_chk:this.evalCheckbox(sP,dObj,cObj);break;case cc.cnst.dtp_chkGroup:this.evalCheckboxGroup(sP,dObj,cObj);break;case cc.cnst.dtp_cmd:switch(dObj.id){case"Reset":this.flushOut();break}break;case cc.cnst.dtp_combobox:this.evalSelect(sP,dObj,cObj);break;case cc.cnst.dtp_slider:this.evalSlider(sP,dObj,cObj);break;case cc.cnst.dtp_keyboard:this.evalKeyboard(sP,dObj,cObj);break;case cc.cnst.dtp_list:this.evalSelect(sP,dObj,cObj);break;case cc.cnst.dtp_editlist:this.evalEditList(sP,dObj,cObj);break;case cc.cnst.dtp_delete:this.evalDelete(sP,dObj,cObj);break;case cc.cnst.dtp_dlg:this.evalDialog(sP,dObj,cObj);break;case cc.cnst.dtp_flags:this.evalFlags(sP,dObj,cObj);break;case cc.cnst.dtp_form:this.evalForm(sP,dObj,cObj);break;case cc.cnst.dtp_group:this.evalView(sP,dObj,cObj);break;case cc.cnst.dtp_hdl:this.evalHeadline(sP,dObj,cObj);break;case cc.cnst.dtp_subhdl:this.evalSubheadline(sP,dObj,cObj);break;case cc.cnst.dtp_iframe:this.evalIFrame(sP,dObj,cObj);break;case cc.cnst.dtp_img:this.evalImg(sP,dObj,cObj);break;case cc.cnst.dtp_inp:this.evalInput(sP,dObj,cObj);break;case cc.cnst.dtp_password:this.evalInput(sP,dObj,cObj);break;case cc.cnst.dtp_search:this.evalInput(sP,dObj,cObj);break;case cc.cnst.dtp_rb:this.evalRadioButton(sP,dObj,cObj);break;case cc.cnst.dtp_section:this.evalSection(sP,dObj,cObj);break;case cc.cnst.dtp_selectable:this.evalSelectable(sP,dObj,cObj);break;case cc.cnst.dtp_tabHdr:this.evalTableHeader(sP,dObj,cObj);break;case cc.cnst.dtp_tabRow:this.evalTableRow(sP,dObj,cObj);break;case cc.cnst.dtp_txtarea:this.evalTextArea(sP,dObj,cObj);break;case cc.cnst.dtp_lbl:this.evalTextList(sP,dObj,cObj);break;case cc.cnst.dtp_txtLst:this.evalTextList(sP,dObj,cObj);break;case cc.cnst.dtp_tabControl:this.evalTabControl(sP,dObj,cObj);break;case cc.cnst.dtp_lnk:this.evalLink(sP,dObj,cObj);break;case cc.cnst.dtp_upd:if(this.evalUpdate){this.evalUpdate(sP,dObj,cObj)}else{for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId((sP.id||this.id),dV.id);cObj=document.getElementById(dVId);if(cObj){var $cObj=$(cObj);var $shorttext=$(".shorttext",cObj);var $comment=$(".short-comment",$shorttext);$cObj.toggleClass("packet-content",dV.aux[cc.cnst.aux_packetContent]!=null);$cObj.toggleClass("packet-containment",dV.aux[cc.cnst.aux_packetContainment]!=null);$cObj.toggleClass("packet-upgrade",dV.aux[cc.cnst.aux_packetUpgrade]!=null);$cObj.find(".packet-info").remove();if(dV.aux[cc.cnst.aux_packetInfo]!=null){var $exclusiveInfo=$shorttext.find(".exclusiveInfo");var $packetInfo=$("<span>").addClass("packet-info").html(dV.aux[cc.cnst.aux_packetInfo]);if($exclusiveInfo.length>0){$packetInfo.insertBefore($exclusiveInfo)}else{$packetInfo.appendTo($shorttext)}}$cObj.addClass("opt");if(dV.selected){$cObj.addClass("checked")}else{$cObj.removeClass("checked").removeClass("details-on");if($comment.length>0){$comment.remove()}}if(dV.aux[cc.cnst.aux_price]){$(".pBox",cObj)[0].firstChild.innerHTML=dV.aux[cc.cnst.aux_price]}if(dV.aux[cc.cnst.aux_leasingRate]&&($(".pBox",cObj)[0].children.length>1)){$(".pBox",cObj)[0].children[1].innerHTML=dV.aux[cc.cnst.aux_leasingRate]}if(dV.aux[cc.cnst.aux_comment]&&dV.selected){if($comment.length==0){$comment=$("<div>").addClass("short-comment").appendTo($shorttext)}if(dV.aux[cc.cnst.aux_color]){var $comment_color=$(".comment-color",$comment);if($comment_color.length==0){$comment_color=$("<span>").addClass("comment-color").appendTo($comment)}$comment_color.css("background-color",dV.aux[cc.cnst.aux_color])}var $comment_text=$(".comment-text",$comment);if($comment_text.length==0){$comment_text=$("<span>").addClass("comment-text").appendTo($comment)}$comment_text.html(dV.aux[cc.cnst.aux_comment])}else{$(".short-comment",$shorttext).remove()}if(dV.aux[cc.cnst.aux_dropdownNumberOf]){this.evalSelectNumberOf(sP,cObj,dV.id,dV.aux[cc.cnst.aux_dropdownNumberOf],dV.aux[cc.cnst.aux_number],dV.selected)}if(dV.aux[cc.cnst.aux_img]){var $ciflag=$(".iflag, .cflag",cObj);if($ciflag){var ciflagId=$ciflag.attr("id");$ciflag.removeClass().addClass(dV.aux[cc.cnst.aux_img]);util.attachTextTooltip($ciflag,dV.aux[cc.cnst.aux_tt]);util.getClientAction(ciflagId,"click",{ce:dV.aux[cc.cnst.aux_action]})}}}}}break;case cc.cnst.dtp_view:this.evalView(sP,dObj,cObj);break;case cc.cnst.dtp_data:if(typeof this.evalDisplayTypeDataDo!="undefined"){this.evalDisplayTypeDataDo(sP,dObj,cObj);break}default:this.traceError("evalData()","Not evaluated: "+dObj.type+" ("+dObj.id+")");this.evalDefault(sP,dObj,cObj);break}if(cObj&&dObj.aux[cc.cnst.aux_trackingId]){cObj.setAttribute(cc.cnst.attribute_trackingId,dObj.aux[cc.cnst.aux_trackingId])}};AbstractSection.prototype.evalDefault=function evalDefault(sP,dObj,cObj){var dV=null;if(!cObj){cObj=util.getNode(sP,null,{id:util.getId(sP.id,dObj.id)});if(dObj.dV&&dObj.dV.length>0){for(var j=0;j<dObj.dV.length;j++){dV=dObj.dV[j];var dVId=[sP.id,dObj.id,dV.id].join(util.keyDlm);var child=document.getElementById(dVId);if(!child){child=util.addNode(util.addNode(cObj,"div"),dV.aux[cc.cnst.aux_action]!=null?"a":"span",{id:dVId})}child.innerHTML=dV.value;util.getClientAction(dVId,"click",{ce:dV.aux[cc.cnst.aux_action]})}}else{cObj.innerHTML=(dObj.desc||dObj.id||"-")+"("+dObj.type+")"}}else{}};function evalPanel(sP,dObj,cObj){var dV=null,child=null;if(cObj==null){var dId=util.getId(this.id,dObj.id);if(sP.id){dId=util.getId(sP.id,dObj.id)}var pN={id:dId,css:(dObj.type==cc.cnst.dtp_dlg?"view":"pnl")};if(dObj.aux[cc.cnst.aux_cssClass]){pN.css+=" "+dObj.aux[cc.cnst.aux_cssClass]}cObj=util.addNode(sP,null,pN);cc.addAnchorCntrl(this.id,dObj.id,cObj);if(dObj.desc){var s=dObj.aux[cc.cnst.aux_action];if(s!=null){child=util.addNode(cObj,"a");util.getClientAction(pN.id,"click",{ce:dObj.aux[cc.cnst.aux_action]})}else{child=util.addNode(cObj,"span")}child.innerHTML=dObj.desc}if(dObj.dV.length>0){cObj=util.getNode(sP,"ul",{css:"btnLst"});for(var j=0;j<dObj.dV.length;j++){dV=dObj.dV[j];var dVId=[sP.id,dObj.id,dV.id].join(util.keyDlm);var child=document.getElementById(dVId);if(!child){child=util.addNode(util.addNode(cObj,"li"),"a",{id:dVId})}child.innerHTML=dV.value||dV.id;util.getClientAction(dVId,"click",{ce:dV.aux[cc.cnst.aux_action]})}}}}function evalInput(sP,dObj,cObj){var result={inputNode:null,inputLabelNode:null};var wrapper=sP;var mainType=dObj.type==cc.cnst.dtp_password?"password":dObj.type==cc.cnst.dtp_search?cc.cnst.dtp_search:"text";var specificType=dObj.aux[cc.cnst.aux_dtp];var pN={};var parentForm=this.aux.form;var l=dObj.aux[cc.cnst.aux_title];if(cObj){if(l||mainType==cc.cnst.dtp_search){wrapper=cObj.parentNode;util.recRemove(wrapper,false)}}if(l||mainType==cc.cnst.dtp_search){if(dObj.aux[cc.cnst.aux_wrapper]){if(dObj.aux[cc.cnst.aux_cssClass]){pN.css=dObj.aux[cc.cnst.aux_cssClass]}if(wrapper===sP){wrapper=util.addNode(sP,"div",pN)}else{util.applyAttrList(wrapper,pN)}}if(l){var label=result.inputLabelNode=util.addNode(wrapper,"label",{"for":util.getId(this.id,dObj.id)});label.innerHTML=l}if(mainType==cc.cnst.dtp_search){var button=util.addNode(wrapper,"span",{id:dObj.id+"_x_button",css:"search-button"+(dObj.aux[cc.cnst.aux_disabled]?" disabled":"")});var dV=util.newEmptyDomainValue();dV.aux[cc.cnst.aux_action]=dObj.aux[cc.cnst.aux_action];dV.aux[cc.cnst.aux_type]="submit";this.evalAction(button,dV)}}pN={id:util.getId(sP.id||this.id,dObj.id)};pN.type=mainType;pN.value=util.convertHTMLEntitiesToUnicode(dObj.desc);if(dObj.aux[cc.cnst.aux_maxlen]){pN.maxLength=dObj.aux[cc.cnst.aux_maxlen]}if(dObj.aux[cc.cnst.aux_readonly]=="1"){pN.readOnly="readonly"}if(dObj.aux[cc.cnst.aux_disabled]=="true"){pN.disabled="disabled"}if(parentForm){pN.name=dObj.id;if(cc.cnst.ga&&dObj.aux[cc.cnst.ga.trackable]){pN["data-trackable"]=dObj.aux[cc.cnst.ga.trackable]}}cObj=result.inputNode=util.addNode(wrapper,"input",pN);if($(cObj).is(":first")){cc.requiresFocus=cObj}if(!dObj.visible){util.addClass("no-display",cObj)}if(dObj.aux[cc.cnst.aux_error]){util.addClass("error",cObj)}if(specificType==cc.cnst.dtp_date){var isoDateRegex=/\d\d\d\d-[01]\d-[0123]\d/;var pattern=dObj.aux[cc.cnst.aux_pattern]||"mm/dd/yy";var minDateStr=dObj.aux[cc.cnst.aux_min];var maxDateStr=dObj.aux[cc.cnst.aux_max];var minDate=minDateStr&&isoDateRegex.test(minDateStr)?new Date(minDateStr):null;var maxDate=maxDateStr&&isoDateRegex.test(maxDateStr)?new Date(maxDateStr):null;if(cc.cnst.isECC){$(cObj).datepicker({prevText:"Zur&uuml;ck",prevStatus:"",nextText:"Vor",nextStatus:"",monthNames:["Januar","Februar","M&auml;rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","M&auml;r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],minDate:minDate,maxDate:maxDate,dateFormat:pattern,changeYear:true,firstDay:1,yearRange:"2000:2030"})}else{$(cObj).datepicker({minDate:minDate,maxDate:maxDate,dateFormat:pattern,changeYear:true,yearRange:"2000:2030"})}}else{if(specificType){$(cObj).on("keydown",function(event){return util.validateAgainstMask(event,this.value,specificType)})}else{if(mainType==cc.cnst.dtp_search){util.attachEvt(cObj,"keyup",function(e){if(e.keyCode===13){cc.cntrls[dObj.id+"_x_button"]["click"]()}})}}}return result}function evalTableRow(sP,dObj,cObj){var result={tableNode:null,rowNode:null};try{switch(dObj.type){case cc.cnst.dtp_tabHdr:if(cObj){util.recRemove(cObj.parentNode,true)}var inDialog=$(sP).closest(".dialog").length>0;var cssClass=inDialog?"options":"table-container";if(!util.hasClass(cssClass,sP)){sP=result.tableNode=this.aux.lastTable=util.getNode(sP,"div",{css:"sortable "+cssClass});if(typeof this.selectItem!="undefined"){util.addClass("selectable",sP)}}this.aux.colDefinitions=[];this.aux.colIdx=[];if(dObj.dV.length>0){for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];if(dV.aux[cc.cnst.aux_width]=="-1"){continue}this.aux.colDefinitions[j]={displayType:dV.aux[cc.cnst.aux_dtp],id:dV.id,align:dV.aux[cc.cnst.aux_align],width:dV.aux[cc.cnst.aux_width],title:dV.value+(dV.value.indexOf(":")>0?"":":"),grow:dV.aux[cc.cnst.aux_grow]}}}case cc.cnst.dtp_tabRow:var isHeader=dObj.type==cc.cnst.dtp_tabHdr;if(!isHeader&&this.aux.lastTable){sP=result.tableNode=this.aux.lastTable}var inDialog=$(sP).closest(".dialog").length>0;var cssClass=inDialog?"opt":"row-container";if(dObj.aux[cc.cnst.aux_cssClass]){cssClass=cssClass+" "+dObj.aux[cc.cnst.aux_cssClass]}var dId=util.getId((sP.id||this.id),dObj.id);var cObj=result.rowNode=document.getElementById(dId);if(!cObj){cObj=result.rowNode=util.addNode(sP,null,{id:dId,css:cssClass});if(isHeader){util.addClass("tblhdr",cObj)}if(dObj.selected){util.addClass("selected",cObj)}if(dObj.aux[cc.cnst.aux_type]){util.addClass(dObj.aux[cc.cnst.aux_type],cObj)}if(util.hasClass("selectable",sP)){util.getNode(cObj,null,{css:"cell radiobutton"});if(!isHeader){util.getClientAction(dId,"click",{fn:this.selectItem(cObj)})}if(dObj.selected){this.selectItem(cObj).call()}cObj=util.getNode(cObj,null,{css:"box"})}for(var j=0;j<dObj.dV.length;j++){var args={tableNode:sP,rowNode:cObj,dObj:dObj,dV:dObj.dV[j],isHeader:isHeader,colDefinition:this.aux.colDefinitions[j]};this.evalTableCell(args)}}else{cObj.className=cssClass+(dObj.selected?" checked":"")}break}}catch(ex){this.traceError("evalTableRow()",ex.stack)}return result}AbstractSection.prototype.evalTableCell=function evalTableCell(args){var rowNode=args.rowNode;var dObj=args.dObj;var dV=args.dV;var isHeader=args.isHeader;var colDefinition=args.colDefinition;if(!colDefinition){return}var pN={css:"cell"};if("1"===colDefinition.grow||!colDefinition.width){util.joinClass(pN,"grow")}if(colDefinition.align){util.joinClass(pN,"col"+colDefinition.align)}if(dV.id){util.joinClass(pN,"col-id-"+dV.id)}if(dV.aux[cc.cnst.aux_disabled]){util.joinClass(pN,"disabled")}if(dV.aux[cc.cnst.aux_error]){util.joinClass(pN,"error")}if(dV.aux[cc.cnst.aux_cssClass]){util.joinClass(pN,dV.aux[cc.cnst.aux_cssClass])}if(isHeader&&this.sortTable&&dV.aux[cc.cnst.aux_action]&&dV.aux[cc.cnst.aux_img]){var dVId=util.getId(this.id,dObj.id,dV.id);util.joinClass(pN,"sort "+dV.aux[cc.cnst.aux_img]);pN.id=dVId;util.getClientAction(dVId,"click",{fn:this.sortTable(dV.aux[cc.cnst.aux_action])})}var cell=util.getNode(rowNode,null,pN);if(colDefinition.width){var w=""+colDefinition.width;if(util.getCSSUnit(w)!=""){cell.style.width=w}else{cell.style.width=w+"px"}}if(dV.aux[cc.cnst.aux_directAction]){$(cell).click({directAction:dV.aux[cc.cnst.aux_directAction]},function(evt){eval(evt.data.directAction)})}if(!isHeader){cell.setAttribute("data-title",util.convertHTMLEntitiesToUnicode(colDefinition.title))}var dtp=dV.aux[cc.cnst.aux_dtp]||colDefinition.displayType||cc.cnst.dtp_txt;var cellArgs=$.extend({},args);cellArgs.cellNode=cell;if(dV.aux.color){this.evalColorTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_chk){this.evalCheckboxTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_inp){this.evalInputTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_inpArea){this.evalInputTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_inpPrice){this.evalPriceInputTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_inpPriceGreater0){this.evalPriceInputTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_sortable){this.evalSortableTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_delete){this.evalDeleteTableCell(cellArgs)}else{if(dtp==cc.cnst.dtp_combobox){this.evalSelectTableCell(cellArgs)}else{this.evalDefaultTableCell(cellArgs)}}}}}}}}}return cellArgs};AbstractSection.prototype.evalColorTableCell=function evalColorTableCell(args){this.evalColor(args.cellNode,args.dObj,args.dV)};AbstractSection.prototype.evalCheckboxTableCell=function evalCheckboxTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var child=util.addNode(cellNode,"span",{id:dVId,css:cc.cnst.dtp_chk});$(cellNode).toggleClass("checked",dV.selected);if(dV.aux[cc.cnst.aux_disabled]){$(child).addClass("disabled")}else{var actionArgs=$.extend({},args);actionArgs.checkboxNode=child;this.evalCheckboxTableCellActions(actionArgs)}};AbstractSection.prototype.evalCheckboxTableCellActions=function evalCheckboxTableCellActions(args){var checkboxNode=args.checkboxNode;var dV=args.dV;if(dV.aux[cc.cnst.aux_action]){util.getClientAction(checkboxNode.id,"click",{ce:dV.aux[cc.cnst.aux_action]})}else{util.getClientAction(checkboxNode.id,"click",{fn:function(){$(this.parentNode).toggleClass("checked")}})}};AbstractSection.prototype.evalInputTableCell=function evalInputTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var pN={id:dVId,type:"text",value:util.convertHTMLEntitiesToUnicode(dV.value)};if(dV.aux[cc.cnst.aux_maxlen]){pN.maxLength=dV.aux[cc.cnst.aux_maxlen]}if(dV.aux[cc.cnst.aux_disabled]){pN.disabled="disabled"}if(dV.aux[cc.cnst.aux_readonly]=="1"){pN.readOnly="readonly"}if(dV.aux.uitype&&dV.aux.uitype===cc.cnst.dtp_inpArea){var child=util.addNode(cellNode,"textArea",pN)}else{var child=util.addNode(cellNode,"input",pN)}var actionArgs=$.extend({},args);actionArgs.inputNode=child;this.evalInputTableCellActions(actionArgs)};AbstractSection.prototype.evalInputTableCellActions=function evalInputTableCellActions(args){};AbstractSection.prototype.evalPriceInputTableCell=function evalPriceInputTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var pN={id:dVId,type:"text",value:dV.value};if(dV.aux[cc.cnst.aux_maxlen]){pN.maxLength=dV.aux[cc.cnst.aux_maxlen]}if(dV.aux[cc.cnst.aux_disabled]){pN.disabled="disabled"}if(dV.aux[cc.cnst.aux_readonly]=="1"){pN.readOnly="readonly"}var child=util.addNode(cellNode,"input",pN);var actionArgs=$.extend({},args);actionArgs.inputNode=child;this.evalPriceInputTableCellActions(actionArgs)};AbstractSection.prototype.evalPriceInputTableCellActions=function evalPriceInputTableCellActions(args){var inputNode=args.inputNode;$(inputNode).on("keydown",function(event){return util.validateAgainstMask(event,this.value,args.dV.aux[cc.cnst.aux_dtp])})};AbstractSection.prototype.evalSortableTableCell=function evalSortableTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var child=util.addNode(cellNode,"span",{id:dVId,css:cc.cnst.dtp_sortable});child.innerHTML=dV.value;if(dV.aux[cc.cnst.aux_disabled]){$(child).addClass("disabled")}else{var actionArgs=$.extend({},args);actionArgs.sortableNode=child;this.evalSortableTableCellActions(actionArgs)}};AbstractSection.prototype.evalSortableTableCellActions=function evalSortableTableCellActions(args){var tableNode=args.tableNode;$(tableNode).sortable({axis:"y",cursor:"move",handle:".sortable",cancel:".tblhdr",items:".row-container:not(.tblhdr),.opt:not(.tblhdr)"})};AbstractSection.prototype.evalDeleteTableCell=function evalDeleteTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var child=util.addNode(cellNode,"span",{id:dVId,css:cc.cnst.dtp_delete});child.innerHTML=dV.value;if(dV.aux[cc.cnst.aux_disabled]){$(child).addClass("disabled")}else{var actionArgs=$.extend({},args);actionArgs.deleteNode=child;this.evalDeleteTableCellActions(actionArgs)}};AbstractSection.prototype.evalDeleteTableCellActions=function evalDeleteTableCellActions(args){var deleteNode=args.deleteNode;var rowNode=args.rowNode;var dV=args.dV;if(dV.aux[cc.cnst.aux_action]){util.getClientAction(deleteNode.id,"click",{ce:dV.aux[cc.cnst.aux_action]})}else{util.getClientAction(deleteNode.id,"click",{fn:function(){util.recRemove($(rowNode)[0],true)}})}};AbstractSection.prototype.evalSelectTableCell=function evalSelectTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var selectWrapperNode=util.addNode(cellNode,"div",{css:"select-wrapper"});if(dV.value||dV.aux[cc.cnst.aux_title]){var label=util.addNode(selectWrapperNode,"label",{"for":dVId});label.innerHTML=dV.desc?dV.desc:dV.aux[cc.cnst.aux_title]}if(dV.aux[cc.cnst.aux_error]){util.addClass("error",selectWrapperNode)}var selectNode=util.addNode(selectWrapperNode,"select",{id:dVId});var selectedKey=dV.aux.selectedValue;for(var i=0;;i++){var key=dV.aux["key"+i];var val=dV.aux["value"+i];if(typeof key=="undefined"||key==null){break}var opt=document.createElement("OPTION");opt.value=key;opt.text=util.convertHTMLEntitiesToUnicode(val);opt.selected=key==selectedKey;selectNode.options[selectNode.options.length]=opt}if(dV.aux[cc.cnst.aux_disabled]){selectNode.disabled=true}this.bindSelect2({selectNode:selectNode});if(dV.aux[cc.cnst.aux_disabled]){util.addClass("disabled",selectWrapperNode)}else{var actionArgs=$.extend({},args);actionArgs.selectNode=selectNode;this.evalSelectTableCellActions(actionArgs)}};AbstractSection.prototype.evalSelectTableCellActions=function evalSelectTableCellActions(args){var _action=args.dV.aux[cc.cnst.aux_action];if(_action){var onchange=function(evt){var selectedActual=evt.added;var value=selectedActual.element[0].value;cc.fireEvent("selectItem",_action+value)};$(args.selectNode).on("change",onchange)}};AbstractSection.prototype.evalDefaultTableCell=function evalDefaultTableCell(args){var cellNode=args.cellNode;var dObj=args.dObj;var dV=args.dV;var dVId=util.getId(this.id,dObj.id,dV.id);var child=util.addNode(cellNode,"span",{id:dVId});child.innerHTML=dV.value;if(dV.aux[cc.cnst.aux_disabled]){$(child).addClass("disabled")}else{var actionArgs=$.extend({},args);actionArgs.textNode=child;this.evalDefaultTableCellActions(actionArgs)}};AbstractSection.prototype.evalDefaultTableCellActions=function evalDefaultTableCellActions(args){};AbstractSection.prototype.evalColor=function evalColor(parent,dObj,dV){var colors=dV&&dV.aux.color?dV.aux.color.split(","):[];var tileEl=util.addNode(parent,"div",{css:"tile-color tile-color"+colors.length});if(colors.length>0){var compId=dV.id.split("_")[1];var isCustomColor=cc.isCustomColor(compId);for(var i=0;i<colors.length;i++){var splitted=colors[i].split("_");var color=splitted[0];var isCustom=splitted[1]==="custom"||isCustomColor;var colorEl=util.addNode(tileEl,"span");colorEl.style.backgroundColor=color;if(isCustom){util.addClass("custom-color",colorEl)}}}else{util.addClass("error-no-color",tileEl)}return{element:tileEl,colors:colors}};AbstractSection.prototype.evalHeadline=function evalHeadline(sP,dObj,cObj){util.getNode(sP,"",{id:util.getId(this.id,dObj.id),className:"headline"}).innerHTML=dObj.desc};AbstractSection.prototype.checkVisibilities=function checkVisibilities(btn,dV){var $btn=$(btn);if(dV.aux[cc.cnst.aux_visConfig]&&dV.aux[cc.cnst.aux_visConfig]=="false"){$btn.addClass("hideOnConfiguration")}if(dV.aux[cc.cnst.aux_visModelselect]&&dV.aux[cc.cnst.aux_visModelselect]=="false"){$btn.addClass("hideOnModelselect")}this.checkParentVisibility($btn,"hideOnConfiguration");this.checkParentVisibility($btn,"hideOnModelselect")};AbstractSection.prototype.checkParentVisibility=function checkParentVisibility($btn,className){if($btn.hasClass("calculationButton_header")||$btn.hasClass("printButton_header")||$btn.hasClass("showPrintDialogNoWf_header")||$btn.hasClass("toggleConfigMode_header")||$btn.hasClass("backToVMS_header")){if(!$btn.hasClass(className)){$btn.parent().removeClass(className)}}else{if(!$btn.hasClass("groupHeader")){var $parent=$btn.parent().parent();if($parent!=null&&$parent.hasClass(className)){if($btn.parent().children("."+className).length!=$btn.parent().children().length){$parent.removeClass(className)}}}}};AbstractSection.prototype.checkVisibilityPipes=function checkVisibilityPipes($curGroup,className){$curGroup=$curGroup.parent().children().last();while($curGroup.hasClass(className)&&($curGroup.prev().length>0)){$curGroup=$curGroup.prev()}if($curGroup.hasClass(className)){return}$curGroup.addClass(className+"Pipe")};AbstractSection.prototype.evalSelectNumberOf=function evalSelectNumberOf(sP,parent,ident,action,selected,customizable){var cId=util.getId(sP.id,ident,"select");var selectEl=document.getElementById(cId);if(!selectEl){var pnl=util.addNode(parent,"div",{css:"select-wrapper numberOf"});var label=util.addNode(pnl,"label",{"for":util.getId(sP.id,ident)});label.innerHTML=cc.cnst.dropdownNumberOfTitle+" ";selectEl=util.addNode(pnl,"select",{id:cId,name:ident});this.evalSelectActions({action:action,selectNode:selectEl})}else{selectEl.options.length=0}selectEl.disabled=!action;for(var i=1;i<11;i++){var opt=document.createElement("OPTION");opt.value=i;opt.text=i;opt.selected=i==selected;selectEl.options[selectEl.options.length]=opt}util.addClass(ident,selectEl);var $selectEl=$(selectEl);if(customizable){$selectEl=this.bindSelect2({selectNode:selectEl})}return $selectEl};AbstractSection.prototype.bindMonthYearDatepicker=function bindMonthYearDatepicker(args){var $monthYearInput=$(args.inputNode);var monthYearFormat=args.monthYearFormat;var dateParser=args.dateParser;var updateDatepickerDate=function updateDatepickerDate(input,newDate){var thisCalendar=$(input);var actualDate=thisCalendar.datepicker("getDate");if(newDate&&(!actualDate||newDate.getTime()!=actualDate.getTime())){var caretPos=util.getCaretPosition(input);thisCalendar.datepicker("setDate",newDate);util.setCaretPosition(input,caretPos)}};$monthYearInput.datepicker("destroy");$monthYearInput.datepicker({changeMonth:false,changeYear:true,showButtonPanel:true,dateFormat:monthYearFormat,showAnim:"",onClose:function(dateText,datePickerInstance){$(datePickerInstance.dpDiv).removeClass("no-calendar");var isDonePressed=$(datePickerInstance.dpDiv).find(".ui-datepicker-close").hasClass("ui-state-hover");if(isDonePressed){var _input=this;var newDate=new Date(datePickerInstance.selectedYear,datePickerInstance.selectedMonth,1);_input.value=$.datepicker.formatDate(monthYearFormat,newDate)}},beforeShow:function(input,datePickerInstance){$(datePickerInstance.dpDiv).addClass("no-calendar");var newDate=dateParser.parseDate(input.value);return{defaultDate:newDate}}}).keyup(function(){var _input=this;var newDate=dateParser.parseDate(_input.value);updateDatepickerDate(_input,newDate)})};AbstractSection.prototype.getCustomAction=function getCustomAction(dObj,dV){return null};return AbstractSection})();var Section=(function(){function Section(id,ref){this.id=id;this.isVisual=false;this.sP=ref||null;this.anchor={};this.aux={};this.regEvents={}}Section.prototype=new AbstractSection();Section.$super=AbstractSection.prototype;Section.prototype.reset=function reset(){Section.$super.reset.call(this);this.sP=null;this.anchor={};this.aux={}};return Section})();var cntrls={};var nonBubbleEvts={keydown:true,activate:true,focus:true,mouseover:true,mouseout:true};var last_y=0;function addFormEvents(){util.attachEvt(null,"focusin",catchEvent);util.attachEvt(null,"click",catchEvent);util.attachEvt(null,"dblclick",nop);util.attachEvt(null,"blur",catchEvent);util.attachEvt(null,"keydown",catchEvent);if(cc.isTouchable){util.attachEvt(null,"touchstart",catchEvent);util.attachEvt(null,"touchmove",catchEvent)}cc.cntrls=cntrls}function nop(){return false}var cEF=null,nEF=null;var evtEvalEnabled=true;function catchEvent(cEvt){var rV=true;try{var cE=null;if(cEvt==null){cEvt=self.event}var culprit=cE=cEvt.target||cEvt.srcElement;if(cEvt.type=="focusin"){cc.nextFocus=cE;return}if(cc.belongsToSecondScreen()){if(cEvt.type=="keyup"&&(cEvt.which==37||cEvt.which==39)){checkPosition()}else{if(cEvt.type=="keydown"&&cc.dialogWin.shiftWindow&&cEvt.which==27){checkPosition(true)}}return true}while(!cE.id&&cE.parentNode&&cE.parentNode!=cE){if(cE.tagName=="BODY"||cE.tagName=="HTML"){if(cEvt.type=="keydown"){break}else{return false}}else{cE=cE.parentNode}}cc.traceInfo("catchEvent()",cEvt.type+": "+cE.id);var dlg=cc.getLastDialog();if(cc.activeUserView&&!(cEvt.type=="blur"||cE===cc.activeUserView.obj||cE.compareDocumentPosition(cc.activeUserView.obj)&Node.DOCUMENT_POSITION_CONTAINS)){if(dlg==null||dlg.compareDocumentPosition(cc.activeUserView.obj)&Node.DOCUMENT_POSITION_CONTAINS){var result=cc.leaveActiveUserView();if(result&&!result.success){abortEvent(cEvt);return}}}if(dlg&&dlg.contains(culprit)&&!dlg.childNodes[0].contains(culprit)&&(cEvt.type=="click"||cEvt.type=="touchstart")){cc.traceError("catchEvent()","triggerCloseButton: "+cE.id+"!!!");cc.sectionMap[dlg.id].triggerCloseButton();abortEvent(cEvt);return}var openResultListId=null;if(util.hasClass("open-search-results",document.body)&&($(".search-enabled").has(culprit).length==0&&!util.hasClass("search-enabled",culprit)&&$(".dialog").has(culprit).length==0&&!util.hasClass("dialog",cE))){openResultListId=cc.cnst.s_search}if(util.hasClass("recommendationsVisible",document.body)&&($("#s_reco").has(culprit).length==0&&$("#recoGlasspane").has(culprit).length==0&&"s_reco"!=culprit.id&&$(".dialog").has(culprit).length==0&&!util.hasClass("dialog",cE))){openResultListId=cc.cnst.s_reco}if(openResultListId&&cE.id!=cc.gp.id){if(cEvt.type=="click"||cEvt.type=="touchstart"){var topCross=$("#"+util.getId(openResultListId,"buttonCancel"))[0];cntrls[topCross.id]["click"].call(topCross,null)}abortEvent(cEvt);return}var f=(cntrls[cE.id]&&cntrls[cE.id][cEvt.type])?cntrls[cE.id][cEvt.type]:null;var cancelBubble=f?true:false;var cTagName=cE.tagName?cE.tagName.toUpperCase():"";switch(cEvt.type){case"focus":cEF={id:cE.id,val:cE.value};break;case"blur":if(cEF&&cEF.id==cE.id&&(cEF.val!=cE.value||(cntrls[cE.id]&&cntrls[cE.id].notifyAlways!==false))){if(cc.isChrome){cc.nextFocus=cEvt.relatedTarget}if(f){f.call(cE,cEvt)}}else{cancelBubble=false}if(!cc.isChrome){cEF=null}break;case"change":if(f){f.call(cE,cEvt)}cE.blur();cEF=null;break;case"activate":nEF=cE;break;case"click":nEF=null;if(cTagName=="SELECT"){}else{if(cTagName=="INPUT"&&(cE.type=="text"||cE.type=="password")&&cE.readOnly!=true){}else{if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.trackEventData(cE,culprit)}if(f){f.call(cE,cEvt);if(cE===culprit&&cE.childNodes.length>0&&cE.childNodes[0].tagName=="A"&&unescape(cE.childNodes[0].href).indexOf("void 0")==-1){window.open(cE.childNodes[0].href,cE.childNodes[0].target)}else{if(culprit.href&&unescape(culprit.href).indexOf("void 0")==-1){cancelBubble=false}}}else{if(cc.isShowroom&&culprit.href&&culprit.href.indexOf("javascript")==-1&&culprit.href.indexOf(window.location.host)==-1){cancelBubble=true}}}}break;case"dblclick":break;case"mouseover":if(f){f.call(cE,cEvt)}break;case"mouseout":if(f){f.call(cE,cEvt)}break;case"keydown":var key=cEvt.keyCode||cEvt.which;cc.traceInfo("catchEvent()",cEvt.type+": "+(cEvt.shiftKey?"Shift + ":cEvt.altKey?"Alt + ":"")+key);if(f){cancelBubble=!f.call(cE,cEvt,key)}if(!cancelBubble&&cEvt.shiftKey){switch(key){case 113:cc.fireEvent(cc.cnst.action_togglePriceVisibility);cancelBubble=true;break;case 114:cc.fireEvent(cc.cnst.action_toggleVisualization);cancelBubble=true;break}}else{if(!cancelBubble&&cEvt.altKey){switch(key){case 80:if(dlg&&dlg.id=="print"){var printSection=cc.getSection(dlg.id);var printParams=printSection.getParamsForPrintTest();var printQuery="&"+$.param(printParams);cc.fireEvent(cc.cnst.action_printTest+printQuery,"")}cancelBubble=true;break;case 86:if(!cc.isColorator){cc.fireEvent(cc.cnst.action_showModelDataInformation,"")}cancelBubble=true;break;case 87:if(!cc.isColorator&&!(cc.isP&&cc.isICC)&&cc.getLastDialog()==null){cc.fireEvent(cc.cnst.action_showFullConsumptionData+"?debugMode=true","")}cancelBubble=true;break;case 88:cc.fireEvent("selectItem","key=offer&value=toggleKb");cancelBubble=true;break;case 89:cc.fireEvent(cc.cnst.action_togglePecsEnv,"");cancelBubble=true;break;case 75:cc.fireEvent(cc.cnst.action_showKnowledgebaseData,"");cancelBubble=true;break;case 74:alert(self.navigator.userAgent);cancelBubble=true;break;case 84:if(!cc.traceHandler||cc.traceHandler.getWindowRef()==null){var tLevel=prompt("Tracing level (1 - all, 4 - plugin, 8 - errors, 16 - tracking)","1");cc.startTracing(tLevel)}cancelBubble=true;break;case 37:case 39:alert("No valid command!");cancelBubble=true;break}}else{if(!cancelBubble){switch(key){case 13:var s,f,l;if(dlg&&cc.sectionMap[dlg.id].isDefaultBehaviorEnabled(cE,key)){var btn=((s=cc.sectionMap[dlg.id])&&(((f=s.aux.form)&&f.contains(cE)&&(l=$("ul li",f))&&l.length>0)||(s.footer&&(l=$(".dlgButton",s.footer))&&l.length>0))&&l[0])||null;if(btn){cntrls[btn.id]["click"].call(btn,null)}cancelBubble=true}break;case 8:break;case 9:if(!((cTagName=="INPUT"||cTagName=="TEXTAREA")&&(!dlg||dlg.contains(cE)))){cEvt.keyCode=0;cancelBubble=true}break;case 27:if(dlg&&cc.sectionMap[dlg.id].isDefaultBehaviorEnabled(cE,key)){if($(".vjs-fullscreen").length==0){cc.sectionMap[dlg.id].triggerCloseButton()}}break;case 38:case 40:break;case 112:case 116:cEvt.keyCode=0;cancelBubble=true;break}if(!cancelBubble&&dlg&&!dlg.contains(cE)&&(cE.className.indexOf("select2")==-1||!util.hasClass(cc.cnst.aux_filter,cE.parentNode.parentNode))){cancelBubble=true}}}}break;case"touchstart":break;case"touchmove":if(!cc.browser.iOS){var scrolly=window.pageYOffset||window.scrollTop||0;var direction=cEvt.changedTouches[0].pageY>last_y?1:-1;cancelBubble=direction>0&&scrolly===0;last_y=cEvt.changedTouches[0].pageY}break;default:break}if(cancelBubble&&cE){cc.traceInfo("catchEvent()","CancelBubble "+cEvt.type+": "+(cE.id||cE.className));abortEvent(cEvt)}}catch(ex){cc.traceError("catchEvent()",ex.stack)}return rV}function abortEvent(cEvt){if(typeof cEvt.preventDefault!="undefined"){cEvt.preventDefault();cEvt.stopPropagation()}else{cEvt.keyCode=0}cEvt.returnValue=false;cEvt.cancelBubble=true}function enableEvents(x){evtEvalEnabled=x}function NavigationConfigEndSection(id,ref){Section.call(this,id,ref)}NavigationConfigEndSection.prototype=new Section();NavigationConfigEndSection.$super=Section.prototype;NavigationConfigEndSection.prototype.reset=function reset(){NavigationConfigEndSection.$super.reset.call(this)};(function(){ClientController.sectionMap[cc.cnst.s_navigation_config_end]=new NavigationConfigEndSection(cc.cnst.s_navigation_config_end)})();NavigationConfigEndSection.prototype.extendEvalLinkList=function extendEvalLinkList(dObj,dV,child_actionElement){if(dV.id=="showSelection"){var mainKey=ClientController.sectionMap[cc.cnst.s_summary].logicIdent;util.getClientAction(child_actionElement.id,"click",{fn:function(){cc.triggerEvent({type:"mainNavigationChange",key:mainKey})}})}else{if(dV.id=="showDealerFittedOptions"){var mainKey=ClientController.sectionMap[cc.cnst.s_dealerOptions].logicIdent;util.getClientAction(child_actionElement.id,"click",{fn:function(){cc.triggerEvent({type:"mainNavigationChange",key:mainKey})}})}else{if(dV.id=="showTequipment"){var mainKey=ClientController.sectionMap[cc.cnst.s_tequipment].logicIdent;util.getClientAction(child_actionElement.id,"click",{fn:function(){cc.triggerEvent({type:"mainNavigationChange",key:mainKey})}})}else{if(dV.id=="showAdditionalServices"){var mainKey=ClientController.sectionMap[cc.cnst.s_additionalServices].logicIdent;util.getClientAction(child_actionElement.id,"click",{fn:function(){cc.triggerEvent({type:"mainNavigationChange",key:mainKey})}})}else{if(dV.id=="startConfig"){util.getClientAction(child_actionElement.id,"click",{fn:function(){restart(true)}})}}}}}};function VisualisationSection(id,ref){Section.call(this,id,ref);this.isVisual=true;this.vHandler=null;this.visParentOld;this.msgDiv="";this.vL=null;this.vHelper=null;this.buttons=VisualisationSection.getButtons();this.initialized=false;this.image2dProperties=VisualisationSection.getImage2dProperties();this.image2dSlideNames=[];this.webGLRenderer=null;this.canvas=null}VisualisationSection.prototype=new Section();VisualisationSection.$super=Section.prototype;VisualisationSection.getButtons=function getButtons(){return{dualScreen:{id:"dualScreen",lastCmd:"",cmd:{on:"DsmOn",off:"DsmOff"},visible:false,enabled:true},vL_2D:{id:"vL_2D",lastCmd:"",cmd:{on:"vL_2D",off:""},visible:false,enabled:true},vL_3D:{id:"vL_3D",lastCmd:"",cmd:{on:"vL_3D",off:""},visible:false,enabled:true},view:{id:"view",lastCmd:cc.cnst.cmd_exterior,cmd:{"in":cc.cnst.cmd_interior,ex:cc.cnst.cmd_exterior},visible:false,enabled:false,publishState:true},top:{id:"top",lastCmd:"",cmd:{on:"",off:"roof_toggle"},visible:false,enabled:false},env:{id:"env",lastCmd:"environment_studio_on",cmd:{on:"environment_studio_on",off:"environment_night_on"},visible:false,enabled:false,publishState:true},camera:{id:"camera",lastCmd:"",cmd:{on:"",off:"cameraflight_toggle"},visible:false,enabled:false},hotspot:{id:"hotspot",lastCmd:"",cmd:{on:"",off:"hotspots_toggle"},visible:false,enabled:false},fixCameras:{id:"fixCameras",lastCmd:null,cmd:{on:"",off:""},visible:false,enabled:false},wallpaper:{id:"wallpaper",lastCmd:null,cmd:{on:"",off:""},visible:false,enabled:false},sound:{id:"sound",lastCmd:null,cmd:{on:"",off:""},visible:false,enabled:false},switchSize:{id:"switchSize",lastCmd:null,cmd:{on:"",off:""},visible:false,enabled:false},pluginDataInfo:{id:"pluginDataInfo",lastCmd:null,cmd:{on:"",off:""},visible:false,enabled:false,noClick:true},fullscreen2D:{id:"btnfullscreen2D",lastCmd:null,cmd:{on:"",off:""},visible:false,enabled:false},showArDialog:{id:"showArDialog",lastCmd:null,cmd:{on:"",off:""},visible:true,enabled:true}}};VisualisationSection.getImage2dProperties=function getImage2dProperties(){return{image2dSize:null,image2dToggleTop:false,image2dEnvironments:[]}};VisualisationSection.prototype.reset=function reset(){VisualisationSection.$super.reset.call(this);this.resetVisualisationHandler();this.visParentOld=null;this.msgDiv="";this.vL=null;this.buttons=VisualisationSection.getButtons();this.initialized=false;this.image2dProperties=VisualisationSection.getImage2dProperties();this.image2dSlideNames=[]};VisualisationSection.prototype.resetVisualisationHandler=function resetVisualisationHandler(){if(this.vHelper){this.vHelper.cleanUp();this.vHelper=null}if(this.vHandler){this.vHandler.cleanUp();this.vHandler=null}};VisualisationSection.prototype.clearDSM=function clearDSM(){WebGlCoreObject=window.webglCoreObjectWindowInstance;var button=this.buttons.dualScreen;if(button.lastCmd!=button.cmd.off){cc.getSection(cc.cnst.s_visCntrl).toggleBtn(button.id,button.cmd.off)}};VisualisationSection.prototype.evalData=function evalData(sEvt,dOs){var is2ndScreen=cc.belongsToSecondScreen();var is1stScreen=!is2ndScreen;if(cc.isVr===true){return}var init=false;if(!this.initialized&&is1stScreen){var _this=cc.getSection(cc.cnst.s_vis);util.getClientAction("switchSize","click",{fn:function(){_this.buttons.switchSize.tooltipState++;Waypoint.disableAll();$("#ui").toggleClass("small-vis");Waypoint.enableAll();Waypoint.refreshAll();_this.scrollToLastWaypoint();cc.triggerEvent({type:"visualisationSizeChanged"})}})}for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(dObj.type==cc.cnst.dtp_flags){var values=dObj.dV;if(dObj.id==="image2dProperties"){for(var j=0;j<values.length;j++){var value=values[j];this.traceInfo("Image2DProperties",value.id+" = "+value.value);if("image2dEnvironments"===value.id){this.image2dProperties.image2dEnvironments=value.value?JSON.parse(value.value):[]}else{if("image2dToggleTop"===value.id){this.image2dProperties.image2dToggleTop=value.value==="true"}else{this.image2dProperties[value.id]=value.value}}}}else{if(dObj.id==="image2dSortOrder"){for(var j=0;j<values.length;j++){this.image2dSlideNames[j]=values[j].id}}}}}if(is1stScreen||cc.curVisLevel==cc.cnst.visCat.twoD||this.vL==cc.cnst.visCat.twoD){var _this=this;for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(dObj.type==cc.cnst.dtp_actionLst&&is1stScreen){for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var bId=dV.id;var button=this.buttons[bId];if(button){button.title=dV.value;button.enabled=true;button.visible=true;button.tooltipState=0;if(["vL_2D","vL_3D","wallpaper","env","btnfullscreen2D","showArDialog"].indexOf(bId)>-1){button.tooltip=dV.value}else{if("pluginDataInfo"==bId){button.tooltip=this.createMultiTooltip(button,["",dV.value,dV.aux[cc.cnst.aux_tt_off]])}else{if("dualScreen"==bId&&cc.isFlHandlerActive()){button.lastCmd="DsmOn";button.tooltipState++}button.tooltip=this.createMultiTooltip(button,[dV.value,dV.aux[cc.cnst.aux_tt_off]])}}if(bId=="sound"){var ui=document.getElementById("ui");var $audio=$("<video>",{id:"audioFile"}).appendTo(ui);var $sound=$("<source>",{src:cc.webRoot+dV.aux[cc.cnst.aux_url],type:"audio/mpeg"}).appendTo($audio);util.getClientAction(bId,"click",{fn:function(){var audio=document.getElementById("audioFile");var visCtrl=document.getElementById(cc.cnst.s_visCntrl);if(util.hasClass("playing",visCtrl)){audio.pause();audio.currentTime=0}else{audio.play();util.addClass("playing",visCtrl)}_this.buttons.sound.tooltipState++}});$audio.bind("ended",function(){var visCtrl=document.getElementById(cc.cnst.s_visCntrl);util.removeClass("playing",visCtrl)});$audio.bind("pause",function(){var visCtrl=document.getElementById(cc.cnst.s_visCntrl);util.removeClass("playing",visCtrl)})}else{if(bId=="fixCameras"){util.getClientAction(bId,"click",{fn:function(){cc.getVisualisationHandler().toggleFixCameras()}})}else{if(bId==cc.cnst.id_showArDialog){$("#ui").addClass("arSupported");this.evalAction($("#"+bId)[0],dV)}}}}else{if(bId=="viewLevel"){var button3d=this.buttons.vL_3D;button3d.visible=true;button3d.title=dV.value;button3d.tooltip=dV.value;button3d.tooltipState=0;var button2d=this.buttons.vL_2D;button2d.visible=true;button2d.title=dV.aux[cc.cnst.aux_tt_off];button2d.tooltip=dV.aux[cc.cnst.aux_tt_off];button2d.tooltipState=0}}}init=true;break}if(dObj.aux[cc.cnst.aux_isInterieur]){this.changeView(dObj.aux[cc.cnst.aux_isInterieur]=="true")}}if(init){cc.getSection(cc.cnst.s_visCntrl).init(this.buttons)}try{this.updateVisualisationHandler(is1stScreen);if(this.vHandler!=null){this.traceInfo("evalData()","Pass data to vHandler ("+this.vHandler.constructor.name+"): "+sEvt+", "+dOs.length);this.vHandler.evalData(sEvt,dOs);if(this.vHelper){this.traceInfo("evalData()","Pass data to vHelper ("+this.vHelper.constructor.name+"):"+sEvt+", "+dOs.length);this.vHelper.evalData(sEvt,dOs)}if(this.vPreloadHandler!=null){this.traceInfo("evalData()","Pass data to vPreloadHandler ("+this.vPreloadHandler.constructor.name+"):"+sEvt+", "+dOs.length);this.vPreloadHandler.evalData(sEvt,dOs)}}}catch(ex){cc.traceError("evalData()",ex.message)}}};VisualisationSection.prototype.updateVisualisationHandler=function updateVisualisationHandler(is1stScreen){var isVis2d=cc.curVisLevel==cc.cnst.visCat.twoD;var isVHandlerInsufficient=this.vHandler&&(this.vL!=cc.curVisLevel||(cc.isFlHandlerActive()&&!this.vHandler.isFL));if(cc.curVisLevel==cc.cnst.visCat.webgl&&isVHandlerInsufficient&&!this.vPreloadHandler){if(is1stScreen){if(cc.isFlHandlerActive()){this.vPreloadHandler=cc.flHandler.getWinRef().getVHandlerWebGL(this);this.traceInfo("updateVisualisationHandler()","this.vHandler.isFL: "+this.vHandler.isFL);this.vPreloadHelper=new VisualisationHelper_WebGL(this)}else{this.vPreloadHandler=new VisualisationHandler_3D(this)}$("#"+cc.cnst.s_vis).addClass("preloading");if(cc.sectionMap[cc.cnst.s_webgl_disclaimer]){cc.sectionMap[cc.cnst.s_webgl_disclaimer].show()}this.traceInfo("updateVisualisationHandler()","Preload WebGL!")}}else{if(cc.curVisLevel!=cc.cnst.visCat.webgl||this.vHandler==null||!this.vPreloadHandler||this.vPreloadHandler.uCntrl.loaded||(!cc.isFlHandlerActive()&&this.vHandler.isFL)){var initVHandler=!this.vHandler&&(is1stScreen||isVis2d);if(this.vL!=cc.curVisLevel||initVHandler||(!cc.isFlHandlerActive()&&this.vHandler.isFL)){this.traceInfo("updateVisualisationHandler()","finishSwitchVisLevel-Call: "+this.vL+"!="+cc.curVisLevel+", initVHandler="+initVHandler);this.finishSwitchVisLevel(cc.curVisLevel,is1stScreen)}}}};VisualisationSection.prototype.finishSwitchVisLevel=function finishSwitchVisLevel(visLevel,is1stScreen){$("#ui").removeClass("noVisGif");var visContainer=document.getElementById(cc.cnst.visContainer);util.recRemove(visContainer);this.resetVisualisationHandler();switch(visLevel){case cc.cnst.visCat.twoD:case cc.cnst.visCat.ws:this.vHandler=new VisualisationHandler_2D(this);break;case cc.cnst.visCat.unity:if(is1stScreen){$("#s_conf").mouseenter(function(){if(!document.hasFocus()){return}if(!$("#ui").hasClass("expertMode")&&!$(document.activeElement).is("input")){$("body").focus()}});if(cc.isFlHandlerActive()){this.vHandler=cc.flHandler.getWinRef().getVHandlerUnity(this);this.vHelper=new VisualisationHelper_Unity(this)}else{this.vHandler=new VisualisationHandler_Unity(this)}}break;case cc.cnst.visCat.webgl:if(is1stScreen){if(this.vPreloadHandler){$("#"+cc.cnst.s_vis).removeClass("preloading");if(cc.sectionMap[cc.cnst.s_webgl_disclaimer]){cc.sectionMap[cc.cnst.s_webgl_disclaimer].triggerCloseButton()}this.vHandler=this.vPreloadHandler;this.vPreloadHandler=null;if(cc.isFlHandlerActive()){this.vHelper=this.vPreloadHelper}}else{if(cc.isFlHandlerActive()){this.vHandler=cc.flHandler.getWinRef().getVHandlerWebGL(this);this.vHelper=new VisualisationHelper_WebGL(this)}else{this.vHandler=new VisualisationHandler_3D(this)}}}break;case cc.cnst.visCat.noUnityInstalled:case cc.cnst.visCat.noImg:default:this.vHandler=null;$("#ui").addClass("noVisGif");break}this.vL=visLevel;$("#ui").toggleClass("vUnity",this.vL==cc.cnst.visCat.unity).toggleClass("vWebgl",this.vL==cc.cnst.visCat.webgl).toggleClass("v2D",this.vL==cc.cnst.visCat.twoD||this.vL==cc.cnst.visCat.ws).toggleClass("compact-visualisation-supported",this.vL!=cc.cnst.visCat.unity)};VisualisationSection.prototype.createMultiTooltip=function createMultiTooltip(buttonDef,tooltipArray){return function(){var idx=buttonDef.tooltipState%tooltipArray.length;return tooltipArray[idx]}};VisualisationSection.prototype.evalNoPluginMessage=function(dObj){var msgDiv=document.createElement("div");msgDiv.style="margin:20px 0 0 0;";for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var p=document.createElement("p");p.innerHTML=dV.value;msgDiv.appendChild(p)}var visObj=document.getElementById(cc.cnst.visContainer);visObj.appendChild(msgDiv)};VisualisationSection.prototype.changeView=function(isInterior){if(typeof isInterior=="undefined"){isInterior=this.buttons.view.lastCmd==cc.cnst.cmd_interior}var cmd=isInterior?this.buttons.view.cmd["in"]:this.buttons.view.cmd.ex;if(this.vHandler!=null){if(this.buttons.view.lastCmd!=cmd){if(this.buttons.camera.lastCmd==this.buttons.camera.cmd.off){this.buttons.camera.lastCmd=this.buttons.camera.cmd.on;this.buttons.camera.tooltipState++;cc.getSection(cc.cnst.s_visCntrl).changeBtn(this.buttons.camera.id,this.buttons.camera.cmd.on)}if(this.buttons.hotspot.lastCmd==this.buttons.hotspot.cmd.off){if(this.vHandler.hotspotsPreCommand!=""&&this.vHandler.hotspotsPreCommand!=cmd){this.changeState(this.buttons.hotspot.id)}}this.changeState(this.buttons.view.id,cmd)}}this.buttons.view.lastCmd=cmd};VisualisationSection.prototype.changeState=function(btn,cmd){var vHandler=cc.getVisualisationHandler();var pluginEnabled=(vHandler!=null&&vHandler.isLoaded());if(!cmd){var map=this.buttons[btn];cmd=map.lastCmd==map.cmd.on?map.cmd.off:map.cmd.on}this.traceInfo("changeState()",btn+": "+cmd);if(btn==this.buttons.camera.id){if(pluginEnabled){if(cmd==this.buttons.camera.cmd.off){if(this.vHandler.camFlightPreCommand&&this.vHandler.camFlightPreCommand!=""){this.changeView(this.vHandler.camFlightPreCommand==cc.cnst.cmd_interior)}}this.vHandler.doCall(this.buttons.camera.cmd.off)}}else{if(btn==this.buttons.hotspot.id){if(pluginEnabled){if(cmd==this.buttons.hotspot.cmd.off){if(this.vHandler.hotspotsPreCommand&&this.vHandler.hotspotsPreCommand!=""){this.changeView(this.vHandler.hotspotsPreCommand==cc.cnst.cmd_interior)}}this.vHandler.doCall(this.buttons.hotspot.cmd.off)}}else{if(btn==this.buttons.top.id){if(pluginEnabled){this.vHandler.doCall(this.buttons.top.cmd.off)}}else{if(btn=="vL_2D"||btn=="vL_3D"){cc.fireEvent("selectItem",cc.cnst.switchVisAction+(btn=="vL_2D"?cc.cnst.visCat.twoD:cc.cnst.visCat.unity))}else{if(btn==this.buttons.env.id&&typeof this.vHandler.switchEnvironment!="undefined"){this.vHandler.switchEnvironment(cmd)}else{if(btn=="dualScreen"){if(cmd===map.cmd.off){setTimeout(function(){cc.flHandler.clearDSM(false)},1)}else{if(cmd===map.cmd.on){cc.flHandler.create()}}}else{if(pluginEnabled){this.vHandler.doCall(cmd,btn)}}}}}}}cc.getSection(cc.cnst.s_visCntrl).changeBtn(btn,cmd);var button=this.buttons[btn];if(button.lastCmd!=cmd){button.lastCmd=cmd;button.tooltipState++}};VisualisationSection.prototype.show=function(cmd){if(this.vHandler!=null){this.vHandler.show(cmd)}};VisualisationSection.prototype.completed=function(){this.triggerEvent({type:"visualisationComplete"});cc.eventQueue.setNextFocus()};VisualisationSection.prototype.scrollToLastWaypoint=function(){if($lastWaypoint!=null){var top=$lastWaypoint.offset().top;if($lastWaypoint.hasClass("wp-bottom")){top=$(".wp-top",$lastWaypoint.parent()).offset().top}scrollTo(0,Math.round(top)+2)}};function unitySceneLoaded(result){var vHandler=cc.getVisualisationHandler();if(vHandler!=null){vHandler.unitySceneLoaded(result)}}function unityModelLoaded(){var vHandler=cc.getVisualisationHandler();if(vHandler!=null){vHandler.unityModelLoaded()}}function syncButtonStates(msg){var vHandler=cc.getVisualisationHandler();if(vHandler!=null){vHandler.syncButtonStates(msg)}}function showPluginVersionDialog(msg){var cmd=["pluginDataNotDownloaded","pluginDataOutOfDate"][msg];var btn="pluginDataInfo";cc.getSection(cc.cnst.s_visCntrl).changeBtn(btn,cmd);var button=cc.getSection(cc.cnst.s_vis).buttons[btn];button.lastCmd=cmd;button.tooltipState=msg+1}function controller_start(){}function controller_stop(){}function triggerFlash(value){if(!cc.isFlHandlerActive()){var vHandler=cc.getVisualisationHandler();if(vHandler!=null){vHandler.triggerFlash(value)}}}function triggerEnvironment(value){}function triggerNavigation(value){}(function(){var visSection=new VisualisationSection(cc.cnst.s_vis);ClientController.sectionMap[cc.cnst.s_vis]=visSection;function onMainNavigationChange(event){if(event.key!=cc.cnst.id_individual){visSection.changeView(event.key==cc.cnst.id_interior)}}function onConfigNavigationChange(event){if(event.key!=cc.cnst.id_individual){if(!$lastWaypoint||$lastWaypoint.hasClass("wp-top")){visSection.changeView(event.key==cc.cnst.id_interior)}}}function onVisualisationSizeChanged(event){if(visSection.vHandler&&typeof visSection.vHandler.resize!="undefined"){visSection.vHandler.resize()}}function onVisualisationComplete(){if(cc.isFlHandlerActive()){cc.flHandler.getWinRef().$("#ui").addClass("config")}}function onVisualisationChanged(event){var key=event.key;var buttonDef=visSection.buttons[key];if(buttonDef&&buttonDef.publishState){$("#ui").removeClass(key+"-"+event.oldState).addClass(key+"-"+event.newState)}}visSection.registerOn("mainNavigationChange",onMainNavigationChange);visSection.registerOn("configNavigationChange",onConfigNavigationChange);visSection.registerOn("animatedScrollEnd",onVisualisationSizeChanged);visSection.registerOn("visualisationSizeChanged",onVisualisationSizeChanged);visSection.registerOn("visualisationComplete",onVisualisationComplete);visSection.registerOn("visualisationChanged",onVisualisationChanged)})();VisualisationSection.getDetailAction=function(cmd){if(cmd){if(VisualisationSection.isCameraPackageCommand(cmd)){return VisualisationSection.getDetailActionCameraPackage(cmd)}return VisualisationSection.getDetailActionDirectCommand(cmd)}};VisualisationSection.isCameraPackageCommand=function(cmd){return/^set_/.test(cmd)};VisualisationSection.getDetailActionDirectCommand=function getDetailActionDirectCommand(cmd){return function(){cc.getSection(cc.cnst.s_vis).show(cmd)}};VisualisationSection.showDetails=function showDetails($optionContainer){$optionContainer.addClass("details-on");Waypoint.refreshAll()};VisualisationSection.hideDetails=function hideDetails($optionContainer){$optionContainer.removeClass("details-on");Waypoint.refreshAll()};VisualisationSection.toggleDetails=function toggleDetails($optionContainer){if($optionContainer.hasClass("details-on")){VisualisationSection.hideDetails($optionContainer)}else{VisualisationSection.showDetails($optionContainer)}};VisualisationSection.getDetailActionCameraPackage=function getDetailActionCameraPackage(cameraPackageName){return function(){var vHandler=cc.getVisualisationHandler();if(!vHandler.carlineDefinitions&&!vHandler.unityGuiSettings){return}var $optionContainer=$(this).closest(".seatTypes");if($optionContainer.length==0){$optionContainer=$(this).closest(".opt")}var $carSilhouetteContainer=$optionContainer.find(".cameraPackageContainer");var actualCameraPackageName=$(".car-silhouette",$carSilhouetteContainer).attr("data-camera-package-name");if(typeof(actualCameraPackageName)!="undefined"&&actualCameraPackageName!=null){VisualisationSection.toggleDetails($optionContainer);return}VisualisationSection.refreshCarSilhouette($carSilhouetteContainer,cameraPackageName,{onComplete:function(){VisualisationSection.showDetails($optionContainer)}})}};VisualisationSection.refreshCarSilhouette=function refreshCarSilhouette(carSilhouetteContainer,cameraPackageName,params){params=params||{};var vHandler=cc.getVisualisationHandler();if(!vHandler||!$.isFunction(vHandler.refreshCarSilhouette)){return}var $carSilhouetteContainer=$(carSilhouetteContainer);var $carSilhouette=$(".car-silhouette",$carSilhouetteContainer);if($carSilhouette.length==0){$carSilhouette=$("<figure>").addClass("car-silhouette").appendTo($carSilhouetteContainer)}vHandler.refreshCarSilhouette($carSilhouette,cameraPackageName,params)};function VisualisationHandler_2D(parentSection){this.screenResolutions=[{maxRes:400,width:640,height:360},{maxRes:1000,width:960,height:540},{maxRes:1300,width:1440,height:810},{maxRes:"inf",width:1920,height:1080}];this.pSection=parentSection;this.slideNames=this.getSlideNames();this.slideIndexInterior=this.slideNames.findIndex(this.isInteriorSlide);this.slideIndexExterior=this.slideNames.findIndex(this.isExteriorSlide);this.modelType="";this.modelYear="";this.optionCodes=[];this.isColoratorReady=false;this.firstShow=true;this.initialMTZ=null;this.swiper=null;this.topOpened=true;this.activeEnvironment=0;this.imageSize=this.detectImageSizeForDevice(parentSection.image2dProperties.image2dSize);this.initSwiper();this.initActions()}VisualisationHandler_2D.prototype.cleanUp=function cleanUp(){if(this.swiper){try{this.swiper.destroy()}catch(e){}}this.modelType="";this.modelYear="";this.optionCodes=[];this.isColoratorReady=false;this.firstShow=true;this.pSection=null;this.initialMTZ=null;this.swiper=null;this.topOpened=true;this.activeEnvironment=0};VisualisationHandler_2D.prototype.requestHDImage=function requestHDImage(){var _this=this;var cameraView=this.slideNames[this.swiper.activeLoopIndex];var requestPayload=this.newImageLinksRequestPayload();requestPayload.width=1920;requestPayload.height=1080;requestPayload.cameraView=cameraView;var onSuccess=function(data){var url=data[cameraView];var $container=$(".zoomContainer");_this.renderImage(url,$container)};this.requestImages(requestPayload,onSuccess)};VisualisationHandler_2D.prototype.changeZoomContainerImage=function changeZoomContainerImage(){var $zoomContainer=$(".zoomContainer");if($zoomContainer.length>0){$zoomContainer.find("img").remove();$zoomContainer.append($("#vis2d_swiper .swiper-slide-visible.swiper-slide-active img").clone())}};VisualisationHandler_2D.prototype.requestImages=function requestImages(payload,onSuccess){var query=$.param(payload);var url=cc.prefixRelativeUrlWithWebPath(cc.cnst.iris.action_links+"?"+query);var _this=this;cc.csrfAjax({url:url,dataType:"json",success:onSuccess,error:function(xhr,textStatus,errorThrown){_this.pSection.traceError("VisualisationHandler_2D.requestImages",errorThrown.message)}})};VisualisationHandler_2D.prototype.newImageLinksRequestPayload=function newImageLinksRequestPayload(){var result={modelYear:this.modelYear,modelId:this.modelType,configuration:this.optionCodes.sort().join(","),environment:this.pSection.image2dProperties.image2dEnvironments[this.activeEnvironment],width:this.imageSize.width,height:this.imageSize.height};if(this.pSection.image2dProperties.image2dToggleTop){result.topOpen=this.topOpened}return result};VisualisationHandler_2D.prototype.renderImage=function renderImage(url,$container,onLoad,onError){var $existingImg=$container.find("img");if(url){if($existingImg.length===0){$existingImg=$("<img>").appendTo($container)}else{$existingImg.off("load error")}var $refImg=$existingImg.first();if($.isFunction(onLoad)){$refImg.one("load",onLoad)}if($.isFunction(onError)){$refImg.one("error",onError)}$existingImg.attr("src",url);return true}else{$existingImg.remove()}return false};VisualisationHandler_2D.prototype.getSlideNames=function getSlideNames(){var slideNames=[];if(this.pSection&&this.pSection.image2dSlideNames&&this.pSection.image2dSlideNames.length){slideNames=this.pSection.image2dSlideNames}return slideNames};VisualisationHandler_2D.prototype.getCommandForSlide=function getCommandForSlide(slideName){return this.isInteriorSlide(slideName)?cc.cnst.cmd_interior:cc.cnst.cmd_exterior};VisualisationHandler_2D.prototype.isInteriorSlide=function isInteriorSlide(slideName){return util.startsWith(slideName,"intcam")};VisualisationHandler_2D.prototype.isExteriorSlide=function isExteriorSlide(slideName){return util.startsWith(slideName,"extcam")};VisualisationHandler_2D.prototype.initSwiper=function initSwiper(){var _this=this;var visMain=document.getElementById(cc.cnst.visContainer);var is2ndScreen=cc.belongsToSecondScreen();if(cc.isColorator){$("#"+cc.cnst.s_vis).removeClass("fixRatio")}var $swiperContainer=$("<div>",{id:"vis2d_swiper"}).addClass("swiper-container").appendTo(visMain);var $swiperWrapper=$("<div>").addClass("swiper-wrapper").appendTo($swiperContainer);for(var i=0;i<this.slideNames.length;i++){$("<div>").addClass("swiper-slide "+this.slideNames[i]).appendTo($swiperWrapper)}this.bindSwiper($swiperContainer);if(!is2ndScreen&&(!cc.isTouchable||cc.isShowroom)){var $arrow=null;var mySwiper=this.swiper;$arrow=$("<div>").addClass("arrow left").attr("id","vis2d_swiper_arrow_left").appendTo($swiperContainer);$arrow.click(function(){var oldInd=mySwiper.activeIndex;if(oldInd==0){var lastIndex=_this.slideNames.length-1;_this.swiper.swipeTo(lastIndex,0,false);setTimeout(function(){_this.swiper.swipeTo(lastIndex-1,900,true)},50)}else{_this.swiper.swipeTo(_this.swiper.activeIndex-2,900,true)}});$arrow=$("<div>").addClass("arrow right").attr("id","vis2d_swiper_arrow_right").appendTo($swiperContainer);$arrow.click(function(){var oldInd=mySwiper.activeIndex;var lastIndex=_this.slideNames.length+1;if(oldInd==lastIndex){_this.swiper.swipeTo(0,1,false);setTimeout(function(){_this.swiper.swipeTo(1,900,true)},50)}else{_this.swiper.swipeTo(_this.swiper.activeIndex,900,true)}});$swiperContainer.on("mouseover",function vis2d_swiper_mouseover(){$swiperContainer.addClass("showArrows")});$swiperContainer.on("mouseout",function vis2d_swiper_mouseover(){$swiperContainer.removeClass("showArrows")})}if(this.pSection.buttons.fullscreen2D.visible){util.getNode(visMain,"div",{id:"btn"+cc.cnst.fullscreen2D})}};VisualisationHandler_2D.prototype.bindSwiper=function bindSwiper($swiperContainer){var is2ndScreen=cc.belongsToSecondScreen();if(this.swiper){this.swiper.destroy()}Swiper.prototype.plugins.percentValues=function(swiper,params){var wrapperSize,initialized;function _init(){initialized=true;wrapperSize=swiper.h.getWidth(swiper.wrapper);$(swiper.wrapper).css("width",((swiper.slides.length*100)+"%"));$(swiper.wrapper).css("height","100%");var widthPercent=(100/swiper.slides.length)+"%";for(var i=0;i<swiper.slides.length;i++){var slide=swiper.slides[i];$(slide).css("width",widthPercent);$(slide).css("height","100%")}}function _exchangeTransfromFunction(){if(!initialized){return}swiper.setWrapperTranslate=_percentTranslate}function _percentTranslate(x,y,z){var es=this.wrapper.style;var coords={x:0,y:0,z:0};wrapperSize=swiper.h.getWidth(swiper.wrapper);coords.x=(100*x/wrapperSize);var translate=this.support.transforms3d?"translate3d("+coords.x+"%, "+coords.y+"px, "+coords.z+"px)":"translate("+coords.x+"%, "+coords.y+"px)";es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform=translate}return{onFirstInit:function(args){_init();_exchangeTransfromFunction()},onInit:function(args){_init();_exchangeTransfromFunction()}}};if(is2ndScreen){this.swiper=$swiperContainer.swiper({percentValues:true,autoResize:false,onlyExternal:true,speed:900,longSwipesRatio:0.3})}else{this.swiper=$swiperContainer.swiper({percentValues:true,autoResize:false,pagination:".paginationVis2d",paginationClickable:true,loop:true,onlyExternal:cc.isColorator&&!cc.isTouchable,speed:900,longSwipesRatio:0.3,onSlideChangeEnd:this.createOnSlideChangeEndCallback(),onSlideChangeStart:this.createOnSlideChangeStartCallback(),onSlideClick:this.createVisClick()});if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl("vis2d_swiper","Visualization","vis2d_swiper",this.pSection.id)}}if(this.pSection.buttons.view.lastCmd==cc.cnst.cmd_interior||cc.menuItemStart==cc.cnst.id_interior){this.swiper.swipeTo(this.slideIndexInterior,1)}if(cc.isColorator){$(window).on("mousedown mousemove",function(event){event.preventDefault()})}};VisualisationHandler_2D.prototype.initActions=function initActions(){var _this=this;util.getClientAction("btn"+cc.cnst.fullscreen2D,"click",{fn:function(){_this.showFullscreen()}});$(window).off("orientationchange.swiper");$(window).on("orientationchange.swiper",function(){setTimeout(function(){var dlgId="dlg"+cc.cnst.fullscreen2D;var fullscreenDialog=document.getElementById(dlgId);if(!fullscreenDialog){var isLandscape=window.orientation?Math.abs(window.orientation)==90:screen.availWidth-screen.availHeight>0;if(isLandscape&&cc.compareBreakpoint(cc.cnst.breakpoints.bp_xxs)==1&&cc.compareBreakpoint(cc.cnst.breakpoints.bp_xs)!=1){_this.showFullscreen()}}else{if(cc.compareBreakpoint(cc.cnst.breakpoints.bp_xxs)!=1){cc.sectionMap[dlgId].triggerCloseButton()}}setTimeout(function(){_this.resize()},700)},600)});$(window).off("resize.swiperVis2d");$(window).on("resize.swiperVis2d",function(e){_this.resize()});this.pSection.buttons.top.visible=this.pSection.image2dProperties.image2dToggleTop;this.pSection.buttons.env.visible=this.pSection.image2dProperties.image2dEnvironments.length==2;if(this.pSection.buttons.env.visible){this.pSection.buttons.env.lastCmd="environment_night_on"}cc.getSection(cc.cnst.s_visCntrl).init(this.pSection.buttons);this.topOpened=(this.pSection.buttons.top.lastCmd==this.pSection.buttons.top.cmd.on)};VisualisationHandler_2D.prototype.createOnSlideChangeEndCallback=function createOnSlideChangeEndCallback(){var _this=this;return function slideChangeEndCallback(swiper,direction){var visSection=cc.getSection(cc.cnst.s_vis);var btn=visSection.buttons.view.id;var curInd=swiper.activeLoopIndex;var slideName=_this.slideNames[curInd];var cmd=_this.getCommandForSlide(slideName);if(visSection.buttons[btn].lastCmd!=cmd){cc.getSection(cc.cnst.s_visCntrl).changeBtn(btn,cmd);var button=visSection.buttons[btn];button.lastCmd=cmd;button.tooltipState++}swiper.resizeFix()}};VisualisationHandler_2D.prototype.createOnSlideChangeStartCallback=function createOnSlideChangeStartCallback(){var _this=this;return function slideChangeStartCallback(swiper,direction){_this.changeZoomContainerImage();if(cc.isFlHandlerActive()){var vHandler=cc.flHandler.getVisualisationHandler();if(vHandler){vHandler.syncSwiperWith(swiper)}}}};VisualisationHandler_2D.prototype.syncSwiperWith=function syncSwiperWith(sourceSwiper){var index=sourceSwiper.activeLoopIndex;this.swiper.swipeTo(index)};VisualisationHandler_2D.prototype.evalData=function evalData(sEvt,dOs){if(this.initialMTZ==null||sEvt=="updateView"||sEvt=="changeView"){for(var i=0;i<dOs.length;i++){var dObj=dOs[i];switch(dObj.type){case cc.cnst.dtp_img:var changed=false;if(dObj.aux[cc.cnst.aux_pluginFile]){this.initialMTZ=dObj.aux[cc.cnst.aux_pluginFile]}if(dObj.aux[cc.cnst.aux_modelid]){if(this.modelType!=dObj.aux[cc.cnst.aux_modelid]){this.modelType=dObj.aux[cc.cnst.aux_modelid];changed=true}}if(dObj.aux[cc.cnst.aux_modelyear]){if(this.modelYear!=dObj.aux[cc.cnst.aux_modelyear]){this.modelYear=dObj.aux[cc.cnst.aux_modelyear].substring(2);changed=true}}var newOptCodes=[];for(var j=0;j<dObj.dV.length;j++){var dValue=dObj.dV[j];if(dValue){if((dValue.aux[cc.cnst.aux_disabled]&&dValue.aux[cc.cnst.aux_disabled]=="true")||dValue.aux[cc.cnst.aux_tequipment]){continue}var id=dValue.id;var code=id.substring(1);var individualColorId=dValue.aux[cc.cnst.aux_individualColorId];if(individualColorId){code+="_"+individualColorId.substring(1)}newOptCodes[newOptCodes.length]=code}}if($(this.optionCodes).not(newOptCodes).length>0||$(newOptCodes).not(this.optionCodes).length>0){this.optionCodes=newOptCodes;changed=true}if(changed){this.show()}break;case cc.cnst.dtp_upd:if(cc.traceHandler){var dValue=null;for(var j=0;j<dObj.dV.length;j++){if((dValue=dObj.dV[j])&&dValue.aux[cc.cnst.aux_3D]==null){this.pSection.traceError("evalData()","No visualisation command: "+dValue.id)}}}break;default:this.pSection.traceError("evalData()","Not evaluated: "+dObj.type+" ("+dObj.id+")");break}}}};VisualisationHandler_2D.prototype.show=function show(cmd){var _this=this;var requestPayload=this.newImageLinksRequestPayload();var onSuccess=function(data){if(cc.isColorator&&!_this.isColoratorReady){_this.isColoratorReady=true;cc.triggerEvent({type:"coloratorReady"})}var activeSlideName=_this.slideNames[_this.swiper.activeLoopIndex];var otherSlideNames=_this.slideNames.filter(function(slideName){return slideName!==activeSlideName});var onSlideHandled=function(){_this.resize()};var onSlideError=function(err){_this.pSection.traceError("VisualisationHandler_2D.show",err.message);onSlideHandled()};var onSuccessFirst=function(){onSlideHandled();loadOtherSlides()};var onErrorFirst=function(err){onSlideError(err);loadOtherSlides()};var loadOtherSlides=function(){for(var i=0;i<otherSlideNames.length;i++){var slideName=otherSlideNames[i];handleSlide(slideName,onSlideHandled,onSlideError)}};var handleSlide=function(slideName,onLoad,onError){var url=data[slideName];_this.pSection.traceInfo("VisualisationHandler_2D.show","trying to update "+slideName+" with image url: "+url);var $container=$("."+slideName);return _this.renderImage(url,$container,onLoad,onError)};var updateInitiated=handleSlide(activeSlideName,onSuccessFirst,onErrorFirst);if(!updateInitiated){onSuccessFirst()}};this.requestImages(requestPayload,onSuccess);if(this.firstShow){this.pSection.completed();this.firstShow=false}};VisualisationHandler_2D.prototype.doCall=function doCall(cmd,buttonName){if(cmd==this.pSection.buttons.top.cmd.off){this.topOpened=!this.topOpened;this.show();if(cc.isFlHandlerActive()){cc.flHandler.getVisualisationHandler().doCall(cmd,buttonName)}}else{if(this.pSection.buttons.env.id==buttonName){this.activeEnvironment=(this.activeEnvironment+1)%this.pSection.image2dProperties.image2dEnvironments.length;this.show();if(cc.isFlHandlerActive()){cc.flHandler.getVisualisationHandler().doCall(cmd,buttonName)}}else{var curInd=this.swiper.activeLoopIndex;var slideName=this.slideNames[curInd];if(this.getCommandForSlide(slideName)!=cmd){this.swiper.resizeFix();switch(cmd){case cc.cnst.cmd_interior:this.swiper.swipeTo(this.slideIndexInterior,1);break;case cc.cnst.cmd_exterior:this.swiper.swipeTo(this.slideIndexExterior,1);break;default:break}}}}};VisualisationHandler_2D.prototype.isLoaded=function isLoaded(){return true};VisualisationHandler_2D.prototype.resize=function resize(){if(this.swiper){this.swiper.resizeFix()}};VisualisationHandler_2D.prototype.detectImageSizeForDevice=function detectImageSizeForDevice(scaleFactor){var picWidth=window.screen.width>window.screen.height?window.screen.width:window.screen.height;var picHeight=window.screen.width>window.screen.height?window.screen.height:window.screen.width;for(var i=0;i<this.screenResolutions.length;i++){if((this.screenResolutions[i].maxRes=="inf")||(picWidth<=this.screenResolutions[i].maxRes)){picWidth=this.screenResolutions[i].width;picHeight=this.screenResolutions[i].height;break}}if(scaleFactor){picWidth=picWidth*scaleFactor;picHeight=picHeight*scaleFactor}return{width:picWidth,height:picHeight}};VisualisationHandler_2D.prototype.showFullscreen=function showFullscreen(){var dlgId="dlg"+cc.cnst.fullscreen2D;if(cc.sectionMap[dlgId]){return}var vis2dSwiper=$("#vis2d_swiper").data("swiper");var visObj=cc.getSection(cc.cnst.s_vis).sP;var visParentOld=visObj.parentNode;var visSiblingOld=visObj.nextSibling;cc.sectionMap[dlgId]=new DialogSection(dlgId);var visDialog=cc.getSection(dlgId);var dialogObj={id:dlgId,aux:{},dV:[],type:"dialog",visible:true};var gestureHandler,onCloseFunction;if(!cc.isShowroom){gestureHandler=new Hammer.Manager($("#visContainer")[0]);onCloseFunction=this.CreateZoomHandler(gestureHandler)}var auxAction={};auxAction[cc.cnst.aux_action]={fn:function(){visParentOld.insertBefore(visObj,visSiblingOld);dialogObj.visible=false;visDialog.evalData("",[dialogObj]);cc.unregisterSectionHandler(dlgId);$("html").removeClass(cc.cnst.fullscreen2D);if(gestureHandler){onCloseFunction();gestureHandler.destroy()}vis2dSwiper.resizeFix()}};var closeObj={id:"dialogheaderbuttons",aux:{parent:"header"},tL:[dlgId],type:cc.cnst.dtp_actionLst,visible:true,dV:[{id:"buttonCancel",aux:auxAction,value:"",visible:true}]};visDialog.evalData("",[dialogObj,closeObj]);visDialog.view.appendChild(visObj);$("html").addClass(cc.cnst.fullscreen2D);vis2dSwiper.resizeFix()};VisualisationHandler_2D.prototype.CreateZoomHandler=function(gestureHandler){var _this=cc.getVisualisationHandler();var $dialogContainer=$("#dlgfullscreen2D");var $zoomableContainer=$("#vis2d_swiper");var $swiper=$zoomableContainer.data("swiper");var $visContainer=$("#visContainer");var $zoomContainer=$(".zoomContainer");if($zoomContainer.length==0){$zoomContainer=$("<div>").addClass("zoomContainer");$visContainer.prepend($zoomContainer)}_this.changeZoomContainerImage();setTimeout(function(){setZoomContainerStartConditions()},150);var ZOOM_MAX=3;var ZOOM_MIN=1;var DISPLACEMENT_MAX=100;var currentZoom=1;var offsetX=0;var offsetY=0;var posX=0;var posY=0;var oriWidth=0;var oriHeight=0;var width=0;var height=0;var tempWidth=0;var tempHeight=0;var offsetTop=0;var offsetBelow=0;var frameHeight=0;var zoomCenterX;var zoomCenterY;var isDefined=false;var frameTop=0;var frameLeft=0;var debug=false;if(debug){var outputPos=$("#outputPos");var outputScale=$("#outputScale");var outputFree=$("#outputFree");if(outputPos.length==0){outputPos=$("<div id='outputPos'>");outputScale=$("<div id='outputScale'>");outputFree=$("<div id='outputFree'>");outputPos.css({color:"red","z-index":"999",position:"absolute",top:"10px",left:"0"});outputScale.css({color:"red","z-index":"999",position:"absolute",top:"30px",left:"0"});outputFree.css({color:"red","z-index":"999",position:"absolute",top:"50px",left:"0"});outputPos.insertAfter($dialogContainer);outputScale.insertAfter($dialogContainer);outputFree.insertAfter($dialogContainer)}}gestureHandler.add(new Hammer.Pan({threshold:0,pointers:0}));gestureHandler.add(new Hammer.Pinch({threshold:0})).recognizeWith(gestureHandler.get("pan"));var singleTap=new Hammer.Tap({event:"singletap"});var doubleTap=new Hammer.Tap({event:"doubletap",taps:2,interval:600,time:400,posThreshold:15,threshold:10});gestureHandler.add([doubleTap,singleTap]);doubleTap.recognizeWith(singleTap);var initZoomVariables=function(){if(isDefined==false){isDefined=true;oriWidth=$zoomableContainer.width();oriHeight=$zoomableContainer.height();frameLeft=$zoomableContainer.offset().left;frameTop=$zoomableContainer.offset().top;frameHeight=$("#dlgfullscreen2D").find(".dlgPane").height();offsetTop=$visContainer.offsetParent()[0].offsetTop;offsetBelow=frameHeight-offsetTop-oriHeight;width=oriWidth;height=oriHeight;tempWidth=oriWidth;tempHeight=oriHeight}};gestureHandler.on("panstart panmove",function(ev){if(currentZoom>ZOOM_MIN){posX=restrictPositionX(ev.deltaX+offsetX);posY=restrictPositionY(ev.deltaY+offsetY);UpdateDebugElements(ev);performTransformation()}});gestureHandler.on("panend",function(ev){saveZoomState()});gestureHandler.on("pinchstart",function(ev){initZoomVariables();zoomCenterX=(ev.center.x-frameLeft);zoomCenterY=(ev.center.y-frameTop)});gestureHandler.on("pinchmove",function(ev){zoomToPoint(ev.scale,zoomCenterX,zoomCenterY,ev.deltaX,ev.deltaY);if(currentZoom>ZOOM_MIN){if($dialogContainer.hasClass("zoomed")==false){$swiper.params.onlyExternal=true;_this.requestHDImage();$dialogContainer.addClass("zoomed");switchZoomVisibility(true)}}else{if(currentZoom<=ZOOM_MIN){resetVariables();switchZoomVisibility(false);setZoomContainerStartConditions();$swiper.resizeFix();return}}UpdateDebugElements(ev)});gestureHandler.on("pinchend",function(ev){saveZoomState()});gestureHandler.on("singletap",function(ev){var $target=$(ev.target);if($target.length>0&&ev.pointerType!="mouse"){if($target.hasClass("arrow")||$target.hasClass("swiper-pagination-switch")){$(ev.target).trigger("click")}}});gestureHandler.on("doubletap",function(ev){var $target=$(ev.target);if($target.length>0&&ev.pointerType!="mouse"&&!$target.hasClass("arrow")){if($dialogContainer.hasClass("zoomed")){$zoomContainer.on("transitionend.zommedOut",function(e){$zoomContainer.off("transitionend.zommedOut");$zoomContainer.removeClass("animate");switchZoomVisibility(false);$dialogContainer.removeClass("zoomed");enableSwiper(false);$swiper.resizeFix();saveZoomState()});$zoomContainer.addClass("animate");resetVariables();performTransformation()}else{initZoomVariables();_this.requestHDImage();$swiper.params.onlyExternal=true;$dialogContainer.addClass("zoomed");switchZoomVisibility(true);var clickX=(ev.center.x-frameLeft);var clickY=(ev.center.y-frameTop);$zoomContainer.on("transitionend.zommedIn",function(e){$zoomContainer.off("transitionend.zommedIn");$zoomContainer.removeClass("animate")});$zoomContainer.addClass("animate");zoomToPoint(ZOOM_MAX,clickX,clickY,ev.deltaX,ev.deltaY);saveZoomState()}UpdateDebugElements(ev,true)}});gestureHandler.on("hammer.input",function(ev){if(ev.isFinal){if(currentZoom==1){enableSwiper(true);if($dialogContainer.hasClass("zoomed")){$dialogContainer.removeClass("zoomed")}}if(currentZoom>ZOOM_MAX){$zoomContainer.on("transitionend.flipback",function(e){$zoomContainer.off("transitionend.flipback");$zoomContainer.removeClass("animate");saveZoomState();UpdateDebugElements(ev,true)});$zoomContainer.addClass("animate");var zoom=width/oriWidth;var backScale=ZOOM_MAX/zoom;zoomToPoint(backScale,zoomCenterX,zoomCenterY,ev.deltaX,ev.deltaY)}var flipX=false;var flipY=false;if(checkPositionX(posX)==false){if(posX+frameLeft>frameLeft){posX=0;flipX=true}if(posX+frameLeft+tempWidth<oriWidth+frameLeft){posX=oriWidth-tempWidth;flipX=true}}if(checkPositionY(posY)==false){if(posY+frameTop+offsetTop>frameTop){if(tempHeight<frameHeight){posY=0-offsetTop+((frameHeight-tempHeight)/2)}else{posY=0-offsetTop}flipY=true}if(posY+frameTop+tempHeight<oriHeight+frameTop+offsetBelow){if(tempHeight<frameHeight){posY=0-offsetTop+((frameHeight-tempHeight)/2)}else{posY=oriHeight-tempHeight+offsetBelow}flipY=true}}if(flipX||flipY){$zoomContainer.on("transitionend.flipbackXY",function(e){$zoomContainer.off("transitionend.flipbackXY");$zoomContainer.removeClass("animateFast");saveZoomState()});$zoomContainer.addClass("animateFast");performTransformation()}UpdateDebugElements(ev,true)}});var switchZoomVisibility=function(visible){if(visible&&visible==true){$zoomableContainer.css({display:"none"});$zoomContainer.css({display:"block"})}else{$zoomableContainer.css({display:""});$zoomContainer.css({display:"none"})}};var zoomToPoint=function(scale,x,y,deltaX,deltaY){tempWidth=width*scale;tempHeight=height*scale;currentZoom=tempWidth/oriWidth;posX=x-(x*scale)+(offsetX*scale)+deltaX;posY=y-(y*scale)+(offsetY*scale)+deltaY;posX=restrictPositionX(posX);posY=restrictPositionY(posY);performTransformation()};var saveZoomState=function(){width=tempWidth;height=tempHeight;offsetX=posX;offsetY=posY;currentZoom=width/oriWidth};var checkPositionX=function(x){if(x+frameLeft>frameLeft){return false}if(x+frameLeft+width<oriWidth+frameLeft){return false}return true};var restrictPositionX=function(x){var diff=0;if(x+frameLeft>frameLeft){diff=Math.abs(frameLeft-(x+frameLeft));return(x-diff)+slowdownMovement(diff)}if(x+frameLeft+tempWidth<oriWidth+frameLeft){diff=Math.abs(oriWidth+frameLeft-(x+frameLeft+tempWidth));return(x+diff)-slowdownMovement(diff)}return x};var checkPositionY=function(y){if(y+frameTop+offsetTop>frameTop){return false}if(y+frameTop+height<oriHeight+frameTop+offsetBelow){return false}return true};var restrictPositionY=function(y){var diff=0;if(y+frameTop+offsetTop>frameTop){if(tempHeight<frameHeight){diff=Math.abs(frameTop+((frameHeight-tempHeight)/2)-(y+frameTop+offsetTop))}else{diff=Math.abs(frameTop-(y+frameTop+offsetTop))}return(y-diff)+slowdownMovement(diff)}if(y+frameTop+tempHeight<oriHeight+frameTop+offsetBelow){if(tempHeight<frameHeight){diff=Math.abs(frameTop+((frameHeight-tempHeight)/2)-(y+frameTop+offsetTop))}else{diff=Math.abs(oriHeight+frameTop+offsetBelow-(y+frameTop+tempHeight))}return(y+diff)-slowdownMovement(diff)}return y};var slowdownMovement=function(differenceValue){var resultValue=DISPLACEMENT_MAX/(1+Math.exp(-0.012*(differenceValue-200)));return Math.min(differenceValue,resultValue)};var performTransformation=function(){$zoomContainer.css({left:(posX+"px")});$zoomContainer.css({top:(posY+"px")});$zoomContainer.css({width:(tempWidth+"px")});$zoomContainer.css({height:(tempHeight+"px")})};var resetVariables=function(){posX=0;posY=0;offsetX=0;offsetY=0;currentZoom=1;zoomCenterX=0;zoomCenterY=0;oriWidth=$zoomableContainer.width();oriHeight=$zoomableContainer.height();width=oriWidth;height=oriHeight;tempWidth=oriWidth;tempHeight=oriHeight};var setZoomContainerStartConditions=function(){$zoomContainer.css({left:"0px"});$zoomContainer.css({top:"0px"});$zoomContainer.css({width:$zoomableContainer.width()+"px"});$zoomContainer.css({height:$zoomableContainer.height()+"px"})};var UpdateDebugElements=function(ev,isFinal){if(debug){var color="green";if(isFinal){color="blue"}outputPos.css({color:color});outputScale.css({color:color});outputPos.html("dX: "+roundValue(ev.deltaX)+" dY: "+roundValue(ev.deltaY)+"| Off.X: "+roundValue(offsetX,1)+" Off.Y: "+roundValue(offsetY,1));outputScale.html("Cur.Scale:"+roundValue(ev.scale)+" Offset.Scale:"+roundValue(currentZoom))}};var roundValue=function(value,digits){var rounds=2;if(digits){rounds=digits}var digitValue=1;for(var i=0;i<rounds;i++){digitValue*=10}return(Math.round(value*digitValue)/digitValue).toString()};var enableSwiper=function(withDelay){if(withDelay!=undefined&&withDelay==true){setTimeout(function enableSwiper(){$swiper.params.onlyExternal=false},500)}else{$swiper.params.onlyExternal=false}};var destroyHandler=function(){switchZoomVisibility(false);enableSwiper(true);resetVariables();$zoomContainer.removeClass("animate");setZoomContainerStartConditions();isDefined=false};return destroyHandler};VisualisationHandler_2D.prototype.createVisClick=function(){if(cc.isColorator){return function(){}}else{var _this=this;return function(){_this.showFullscreen()}}};function VisualisationControlSection(id,ref){Section.call(this,id,ref)}VisualisationControlSection.prototype=new Section();VisualisationControlSection.$super=Section.prototype;VisualisationControlSection.prototype.reset=function reset(){VisualisationControlSection.$super.reset.call(this)};(function(){ClientController.sectionMap[cc.cnst.s_visCntrl]=new VisualisationControlSection(cc.cnst.s_visCntrl)})();VisualisationControlSection.prototype.init=function init(p){for(var key in p){var cObj=document.getElementById(key);if(!cObj){continue}if(p[key].visible){if(p[key].lastCmd!=null){this.changeBtn(key,p[key].lastCmd);if(!p[key].noClick){util.getClientAction(key,"click",{fn:this.createClickHandler(key)})}}else{this.changeBtn(key,"")}util.attachTextTooltip(cObj,p[key].tooltip);if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl(key,p[key].title,key,this.id)}}else{cObj.className="none"}}util.getClientAction("toggleVisualisationMenu","click",{fn:function(evt){$("#"+cc.cnst.s_vis).toggleClass("visualisation-menu-open")}});util.removeClass("unknown",this.sP)};VisualisationControlSection.prototype.createClickHandler=function createClickHandler(id){var _this=this;return function(){_this.toggleBtn(id)}};VisualisationControlSection.prototype.changeBtn=function changeBtn(key,value){var btn=document.getElementById(key);if(btn){var oldState=btn.className;var newState=value;if(oldState!=newState){btn.className=newState;this.triggerEvent({type:"visualisationChanged",key:key,oldState:oldState,newState:newState})}}};VisualisationControlSection.prototype.toggleBtn=function toggleBtn(key){var visSection=cc.getSection(cc.cnst.s_vis);if(key==visSection.buttons.view.id){var isInterior=visSection.buttons.view.lastCmd==cc.cnst.cmd_exterior;visSection.changeView(isInterior)}else{visSection.changeState(key)}};var ConfigurationSection=(function(){function ConfigurationSection(id,ref){Section.call(this,id,ref);this.contentContainer=null;this.headlines={};this.logicIdent=this.logicIdent||"";this.firstCategoryIdent=""}ConfigurationSection.prototype=new Section();ConfigurationSection.$super=Section.prototype;ConfigurationSection.resetStatic=function resetStatic(){};ConfigurationSection.prototype.reset=function reset(){ConfigurationSection.$super.reset.call(this);this.contentContainer=null;this.headlines={};this.logicIdent=this.logicIdent||"";this.firstCategoryIdent=""};ConfigurationSection.prototype.createCategory=function createCategory(parent,id){var containerId=[this.id,id].join(util.keyDlm);var pN={id:containerId};var wpIsActive=false;if(cc.initiallyOpenConfListIds[id]){pN.css="config-category accordion-open";wpIsActive=true}else{wpIsActive=false;pN.css="config-category accordion-closed"}var categorycontainer=document.getElementById(pN.id)||util.getNode(parent,"div",pN);var waypointElements=util.createWaypointElements(categorycontainer,{"data-ident":id,"data-active":wpIsActive});waypointElements.top.id="WP-"+id;var categorycontent=$(categorycontainer).children(".content")[0]||$("<div>").addClass("content").insertAfter(waypointElements.top)[0];return categorycontent};ConfigurationSection.prototype.init=function init(){if(this.sP){var wpEl=util.createWaypointElements(this.sP,{});this.contentContainer=$(this.sP).children(".content")[0]||$("<div>").addClass("content").insertAfter(wpEl.top)[0]}};ConfigurationSection.prototype.toggleAccordion=function toggleAccordion(category,open){var $categoryEl=$(category);var isOpen=$categoryEl.hasClass("accordion-open");$(".accordion-open").removeClass("accordion-open").addClass("accordion-closed");if(!isOpen){$categoryEl.removeClass("accordion-closed").addClass("accordion-open");resizeFrame()}if(cc.cnst.ga){var target=((target=$categoryEl.children()[0])&&target.attributes["data-ident"].value)||null;cc.ddmSupplier.reportNavigation("content",target);if(target&&(open===true||typeof(open)==="undefined")&&!isOpen){cc.ddmSupplier.addSublist(target)}}};ConfigurationSection.prototype.evalData=function evalData(sEvt,dOs){this.init();if(typeof this.sP=="undefined"){return false}var confSection=this;var accordionHandler=function(){confSection.toggleAccordion(this.parentElement.parentElement.parentElement)};for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(cc.cnst.dtp_category==dObj.type){if(dObj.dV.length>0){if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl(dObj.aux[cc.cnst.aux_parent],dObj.dV[0].value,this.sP.id,this.id,dObj.aux.parent=="AA"?1:2)}for(var j=1;j<dObj.dV.length;j++){var dV=dObj.dV[j];var titleId=dV.id+"_subHdl";this.firstCategoryIdent=this.firstCategoryIdent||dV.id;var containerId=[this.id,dV.id].join(util.keyDlm);var categorycontainer=document.getElementById(containerId);if(categorycontainer){if($(categorycontainer).children(".content").length>0){util.recRemove($(categorycontainer).children(".content")[0])}}var categoryContentElement=this.createCategory(this.contentContainer,dV.id);var categoryContainer=categoryContentElement.parentElement;var $title=$("#"+titleId,categoryContainer);if(!$title.length){var $wp_top=$(".wp-top",categoryContainer);var wrapperID=dV.id+"_wrapper";var $wrapper=$("<div>",{id:wrapperID,"class":"hdl_wrapper"}).insertAfter($wp_top);var $positionWrapper=$("<div>",{"class":"position_wrapper"}).prependTo($wrapper);$title=$("<div>",{id:titleId,"class":"configMenu_hdl"}).prependTo($positionWrapper);util.getClientAction(titleId,"click",{fn:accordionHandler});if(cc.cnst.ga&&cc.ddmSupplier){cc.ddmSupplier.regControl(titleId,dV.value,containerId,this.id)}}$title.html(dV.value)}}break}}this.processEvalData(sEvt,dOs)};ConfigurationSection.prototype.processEvalData=function processEvalData(sEvt,dOs){};ConfigurationSection.prototype.activate=function activate(subKey){this.triggerEvent({type:"configNavigationChange",key:this.logicIdent,subKey:subKey})};ConfigurationSection.prototype.evalInfoIcon=function evalInfoIcon(parent,dObj,dV){};ConfigurationSection.prototype.createOptionTooltipText=function createOptionTooltipText(textObj){};ConfigurationSection.prototype.buildTtSection=function buildTtSection(main_tt,suffix){this.aux.ttNode["text"+suffix]=util.getNode(main_tt,"div",{css:"tt_text tt_cell"});this.aux.ttNode["optCode"+suffix]=util.getNode(main_tt,"div",{css:"tt_optCode tt_cell"});this.aux.ttNode["price"+suffix]=util.getNode(main_tt,"div",{css:"tt_price tt_cell"});this.aux.ttNode["price_child_price"+suffix]=util.getNode(this.aux.ttNode["price"+suffix],"div",{css:"tt_price_child"});this.aux.ttNode["price_child_leasing"+suffix]=util.getNode(this.aux.ttNode["price"+suffix],"div",{css:"tt_leasing_child"})};return ConfigurationSection})();function ExterieurSection(id,ref){ConfigurationSection.call(this,id,ref);this.aux={ttNode:{},items:{}};this.logicIdent="AA";this.isVisual=true}ExterieurSection.prototype=new ConfigurationSection();ExterieurSection.$super=ConfigurationSection.prototype;ExterieurSection.prototype.reset=function reset(){ExterieurSection.$super.reset.call(this);this.aux={ttNode:{},items:{}}};ExterieurSection.prototype.processEvalData=function processEvalData(sEvt,dOs){var is2ndScreen=cc.belongsToSecondScreen();for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(is2ndScreen&&(dObj.type==cc.cnst.dtp_tabHdr||dObj.type==cc.cnst.dtp_tabRow)){continue}else{try{switch(dObj.type){case cc.cnst.dtp_aa:this.evalTiles(this.contentContainer,dObj,is2ndScreen);break;case cc.cnst.dtp_ar:this.evalExterieurWheels(this.contentContainer,dObj,is2ndScreen);break;case cc.cnst.dtp_tabHdr:var table=cc.sectionMap["vs_table_"+dObj.aux[cc.cnst.aux_parent]];if(table){table.evalRow(dObj)}break;case cc.cnst.dtp_tabRow:var table=cc.sectionMap["vs_table_"+dObj.aux[cc.cnst.aux_parent]];if(table){table.evalRow(dObj)}break;case cc.cnst.dtp_upd:this.updateExt(dObj);break}}catch(ex){this.traceError("evalData_exterieur()",dObj.id+"/ "+dObj.aux[cc.cnst.aux_parent]+": "+ex.stack)}}}if(this.logicIdent==cc.cnst.id_exterior||this.logicIdent==cc.cnst.id_interior){var $recommendationInfoContainer=$(".recommendContainer .recommendationInfo",this.sP);$recommendationInfoContainer.appendTo($recommendationInfoContainer.parent())}};ExterieurSection.prototype.updateExt=function updateExt(dObj){var itemData=null;if(this.aux.dVIds){$(".DSM_2ndScreen #s_interieur li.selected").removeClass("selected")}for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dV.id);if(this.aux.dVIds&&this.aux.dVIds[dVId]){dVId=this.aux.dVIds[dVId]}var child=document.getElementById(dVId);if(!child){continue}itemData=this.aux.items[dVId];if(itemData){this.updateItemData(itemData,dV);this.updateTooltip(itemData,child)}this.selectItem(child,dV,itemData)}if(itemData!=null){var $parent=$(".recommendContainer",this.sP);$parent.toggleClass("hideRecommendationFootnote",$(".colorRecommendation",$parent).length==0)}};ExterieurSection.prototype.evalTiles=function evalTiles(parentElement,dObj,is2ndScreen){if(dObj.dV.length>0){var configCategoryName=dObj.aux.parent;var contentContainer=this.createCategory(parentElement,configCategoryName);$(contentContainer).addClass("recommendContainer");var dObj_id=dObj.id.replace(/\s/g,"");if(!is2ndScreen){if(!$(".tt",contentContainer).length){this.aux.ttNode=[]}if(this.aux.ttNode[dObj.type]==null){this.aux.ttNode[dObj.type]=util.getNode(contentContainer,"div",{css:"tt"});var main_tt=util.getNode(this.aux.ttNode[dObj.type],"div",{css:"tt_row"});this.buildTtSection(main_tt,"_main")}if("AVA"==dObj_id){if(this.aux.ttNode.text_caprio==null){var caprio_tt=util.getNode(this.aux.ttNode[dObj.type],"div",{css:"caprioColors tt_row"});this.buildTtSection(caprio_tt,"_caprio")}}else{if("AFA"==dObj_id){if(this.aux.ttNode.text_film==null){var film_tt=util.getNode(this.aux.ttNode[dObj.type],"div",{css:"tt_row"});this.buildTtSection(film_tt,"_film")}}}}var cObj=util.getNode(contentContainer,"div",{id:(is2ndScreen&&this.aux.colors?"intColors":dObj_id),css:"extColor"});if(!is2ndScreen){util.getNode(cObj,"span",{id:"headline_"+dObj_id,css:"tile_headline"}).innerHTML=dObj.desc}else{if(this.aux.colors&&cObj.childNodes.length==0){this.aux.colors={}}}var tile_container=util.getNode(cObj,"ul",{id:(is2ndScreen&&this.aux.colors?"intColorList":"tiles_"+dObj_id),css:"tileColor"});for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dV.id);var child=document.getElementById(dVId);if(!child){var itemData=null,tt=null;if(!is2ndScreen){itemData=this.aux.items[dVId]={pId:dObj.id,group:cObj,text:{},lblSuffix:("AVA"==dObj_id?"_caprio":"AFA"==dObj_id?"_film":"_main")};itemData.text[cc.cnst.aux_tt_depr]=dV.aux[cc.cnst.aux_tt_depr];itemData.text[cc.cnst.aux_optionCode]=dV.aux[cc.cnst.aux_optionCode];itemData.text[cc.cnst.aux_price]=dV.aux[cc.cnst.aux_price];itemData.text[cc.cnst.aux_leasingRate]=dV.aux[cc.cnst.aux_leasingRate];if(dV.aux[cc.cnst.aux_action_furtherInfo]){itemData[cc.cnst.aux_action_furtherInfo]=dV.aux[cc.cnst.aux_action_furtherInfo]}tt=this.createOptionTooltipText(itemData.text)}if("AFA"==dObj_id){child=util.addNode(tile_container,"li",{id:dVId,"data-link-id":dV.id,"data-option-id":dV.id});util.attachTextTooltip(child,tt);var span=util.addNode(child,"span",{css:"film-option"});if(dV.aux[cc.cnst.aux_img]){span.style.backgroundImage="url('"+cc.webRoot+dV.aux[cc.cnst.aux_img]+"')";span.style.backgroundPosition=dV.aux[cc.cnst.aux_pos];span.style.height=dV.aux[cc.cnst.aux_height];span.style.width=dV.aux[cc.cnst.aux_width]}else{util.addClass("error-no-image",span)}}else{if(is2ndScreen&&this.aux.colors&&dV.aux.color){if(this.aux.colors[dV.aux.color]){this.aux.dVIds[dVId]=this.aux.colors[dV.aux.color];continue}else{this.aux.colors[dV.aux.color]=dVId}}var colors=dV.aux.color?dV.aux.color.split(","):[];child=util.addNode(tile_container,"li",{id:dVId,css:"tileColor_"+colors.length,"data-link-id":dV.id,"data-option-id":dV.id});if(dV.aux[cc.cnst.aux_price]){child.setAttribute("data-price",dV.aux[cc.cnst.aux_price])}if(dV.aux[cc.cnst.aux_leasingRate]){child.setAttribute("data-leasing-rate",dV.aux[cc.cnst.aux_leasingRate])}util.attachTextTooltip(child,tt);if(colors.length>0){var compId=dV.id;var isCustomColor=cc.isCustomColor(compId);for(var k=0;k<colors.length;k++){var splitted=colors[k].split("_");var color=splitted[0];var isCustom=splitted[1]==="custom"||isCustomColor;var colorEl=util.addNode(child,"span");colorEl.style.backgroundColor=color;if(isCustom){util.addClass("custom-color",colorEl)}}}else{util.addNode(child,"span",{css:"error-no-color"})}}}if(dV.aux[cc.cnst.aux_disabled]=="true"){util.addClass("disabled",child)}else{if(!is2ndScreen){util.getClientAction(dVId,"click",{ce:dV.aux[cc.cnst.aux_action]})}}if(!dV.aux[cc.cnst.aux_action]){util.addClass("no-click",child)}this.selectItem(child,dV,itemData);if(cc.cnst.ga){cc.ddmSupplier.regProduct(dV.id,dV.aux[cc.cnst.aux_desc]||dV.aux[cc.cnst.aux_tt_depr],dObj.aux[cc.cnst.aux_parent],this.logicIdent,dV.aux[cc.cnst.aux_price]||"",dVId)}}if(!is2ndScreen){var $recommendationInfoContainer=$(".recommendationInfo",contentContainer);if(!$recommendationInfoContainer.length&&dObj.aux[cc.cnst.aux_recommendationInfo]){$recommendationInfoContainer=$("<div>").addClass("recommendationInfo");$recommendationInfoContainer.html(dObj.aux[cc.cnst.aux_recommendationInfo]);$recommendationInfoContainer.appendTo(contentContainer)}var $parent=$(".recommendContainer",this.sP);$parent.toggleClass("hideRecommendationFootnote",$(".colorRecommendation",$parent).length==0)}}};ExterieurSection.prototype.evalExterieurWheels=function evalExterieurWheels(parentElement,dObj,is2ndScreen){if(dObj.dV.length>0){var dObj_id=dObj.id.replace(/\s/g,"");var configCategoryName=dObj.aux.parent;var contentContainer=this.createCategory(parentElement,configCategoryName);if(!is2ndScreen&&(this.aux.ttNode[dObj.type]==null||!$(".tt",contentContainer).length)){this.aux.ttNode[dObj.type]=util.getNode(contentContainer,"div",{css:"tt"});var main_tt=util.getNode(this.aux.ttNode[dObj.type],"div",{css:"tt_row"});this.buildTtSection(main_tt,"")}var cObj=util.getNode(contentContainer,"div",{id:dObj_id,css:"extWheels"});var tile_container=util.addNode(cObj,"ul",{css:"tileWheels"});for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dV.id);var child=document.getElementById(dVId);if(!child){var itemData=null,tt=null;if(!is2ndScreen){itemData=this.aux.items[dVId]={pId:dObj.id,group:cObj,text:{},lblSuffix:""};itemData.text[cc.cnst.aux_tt_depr]=dV.aux[cc.cnst.aux_tt_depr];itemData.text[cc.cnst.aux_price]=dV.aux[cc.cnst.aux_price];itemData.text[cc.cnst.aux_optionCode]=dV.aux[cc.cnst.aux_optionCode];itemData.text[cc.cnst.aux_leasingRate]=dV.aux[cc.cnst.aux_leasingRate];if(dV.aux[cc.cnst.aux_action_furtherInfo]){itemData[cc.cnst.aux_action_furtherInfo]=dV.aux[cc.cnst.aux_action_furtherInfo]}if(dV.aux[cc.cnst.aux_action_furtherInfoTyreLabel]){itemData[cc.cnst.aux_action_furtherInfoTyreLabel]=dV.aux[cc.cnst.aux_action_furtherInfoTyreLabel]}if(dV.aux[cc.cnst.aux_twikitWheelIcon]){itemData[cc.cnst.aux_twikitWheelIcon]=dV.aux[cc.cnst.aux_twikitWheelIcon]}tt=this.createOptionTooltipText(itemData.text)}var span=document.createElement("span");if(dV.aux[cc.cnst.aux_img]){util.addAutoScaledSpriteImageForAuxiliaries(span,dV.aux,{useTargetDirectly:true})}else{util.addClass("error-no-image",span)}util.addClass("wheel-option",span);if(dV.aux[cc.cnst.aux_cssClass]){util.addClass(dV.aux[cc.cnst.aux_cssClass],span)}util.attachTextTooltip(span,tt);child=util.addNode(tile_container,"li",{id:dVId,"data-link-id":dV.id,"data-option-id":dV.id});if(dV.aux[cc.cnst.aux_price]){child.setAttribute("data-price",dV.aux[cc.cnst.aux_price])}if(dV.aux[cc.cnst.aux_leasingRate]){child.setAttribute("data-leasing-rate",dV.aux[cc.cnst.aux_leasingRate])}child.appendChild(span)}if(!is2ndScreen){util.getClientAction(dVId,"click",{ce:dV.aux[cc.cnst.aux_action]})}if(!dV.aux[cc.cnst.aux_action]){util.addClass("no-click",child)}this.selectItem(child,dV,itemData);if(cc.cnst.ga){cc.ddmSupplier.regProduct(dV.id,dV.aux[cc.cnst.aux_tt_depr],dObj.aux[cc.cnst.aux_parent],this.logicIdent,dV.aux[cc.cnst.aux_price]||"",dVId)}}}};ExterieurSection.prototype.updateItemData=function updateItemData(itemData,dV){var auxKeys=[cc.cnst.aux_price,cc.cnst.aux_leasingRate];for(var i=0;i<auxKeys.length;i++){var key=auxKeys[i];if(dV.aux[key]){itemData.text[key]=dV.aux[key]}}};ExterieurSection.prototype.updateTooltip=function updateTooltip(itemData,child){var tt=this.createOptionTooltipText(itemData.text);util.attachTextTooltip(child,tt)};ExterieurSection.prototype.selectItem=function selectItem(child,dV,itemData){var $child=$(child);if(dV.aux.recommend){$child.toggleClass("colorRecommendation",(dV.aux.recommend=="true"))}if(dV.selected){$child.addClass("selected");if(itemData){var price=itemData.text[cc.cnst.aux_price];var leasingRate=itemData.text[cc.cnst.aux_leasingRate];var optionCode=itemData.text[cc.cnst.aux_optionCode];var lblSuffix=itemData.lblSuffix;var lbl=this.aux.ttNode["text"+lblSuffix];lbl.parentNode.setAttribute("data-option-id",dV.id);if(price&&leasingRate){this.aux.ttNode["price_child_price"+lblSuffix].innerHTML=price;this.aux.ttNode["price_child_leasing"+lblSuffix].innerHTML=leasingRate}else{if(leasingRate){price=leasingRate;this.aux.ttNode["price_child_leasing"+lblSuffix].innerHTML=leasingRate}else{this.aux.ttNode["price_child_price"+lblSuffix].innerHTML=price}}lbl.innerHTML=itemData.text[cc.cnst.aux_tt_depr];if(optionCode){this.aux.ttNode["optCode"+lblSuffix].innerHTML=optionCode}this.aux.ttNode["optCode"+lblSuffix].style.display=optionCode?"":"none";this.aux.ttNode["price"+lblSuffix].style.visibility=price?"visible":"hidden";if(!dV.aux[cc.cnst.aux_action_furtherInfo]){dV.aux[cc.cnst.aux_action_furtherInfo]=itemData[cc.cnst.aux_action_furtherInfo]}$(this.evalInfoIcon(lbl.parentNode,{id:itemData.pId},dV)).addClass("tt_cell");var tyreLabelAction=itemData[cc.cnst.aux_action_furtherInfoTyreLabel];if(tyreLabelAction){var dVTyreLabelIcon=util.deepCopy(dV);dVTyreLabelIcon.aux.iconName="tyreLabel";dVTyreLabelIcon.aux.furtherInfo=tyreLabelAction;$(this.evalInfoIcon(lbl.parentNode,{id:itemData.pId},dVTyreLabelIcon)).addClass("tt_cell")}var twikitWheelIcon=itemData[cc.cnst.aux_twikitWheelIcon];if(twikitWheelIcon){var dVTwikitWheelIcon=util.deepCopy(dV);dVTwikitWheelIcon.aux.iconName="twikitWheelIcon";var state="disabled";if(dV.aux[cc.cnst.aux_cssClass]){state="enabled"}dVTwikitWheelIcon.aux.furtherInfo=twikitWheelIcon;$(this.evalInfoIcon(lbl.parentNode,{id:itemData.pId},dVTwikitWheelIcon)).addClass("tt_cell").addClass(state)}}}else{if(itemData||!this.aux.dVIds){$child.removeClass("selected")}}};(function(){var exterieurSection=new ExterieurSection(cc.cnst.s_exterieur);ClientController.sectionMap[cc.cnst.s_exterieur]=exterieurSection;function onMainNavigationChange(event){exterieurSection.scrollIn(event.key,event.subKey,event.itemKey)}function changeConfigNavigation(event){exterieurSection.handelStickyHeadlines(event.key,event.subKey)}function onAnimatedScrollEnd(event){exterieurSection.handelStickyHeadlines(event.key,event.subKey)}exterieurSection.registerOn("mainNavigationChange",onMainNavigationChange);exterieurSection.registerOn("configNavigationChange",changeConfigNavigation);exterieurSection.registerOn("animatedScrollEnd",onAnimatedScrollEnd)})();function InterieurSection(id,ref){ConfigurationSection.call(this,id,ref);this.aux={tt:{},items:{},colors:{},dVIds:{}};this.logicIdent="AI";this.isVisual=true}InterieurSection.prototype=new ConfigurationSection();InterieurSection.$super=ConfigurationSection.prototype;InterieurSection.prototype.reset=function reset(){InterieurSection.$super.reset.call(this);this.aux={ttNode:{},items:{},colors:{},dVIds:{}}};InterieurSection.prototype.processEvalData=function processEvalData(sEvt,dOs){var is2ndScreen=cc.belongsToSecondScreen();for(var i=0;i<dOs.length;i++){var dObj=dOs[i];if(is2ndScreen&&dObj.type==cc.cnst.dtp_ac){continue}try{switch(dObj.type){case cc.cnst.dtp_ai:ExterieurSection.prototype.evalTiles.call(this,this.contentContainer,dObj,is2ndScreen);break;case cc.cnst.dtp_ac:this.evalSeat(this.contentContainer,dObj);break;case cc.cnst.dtp_tabHdr:case cc.cnst.dtp_tabRow:var table=cc.sectionMap["vs_table_"+dObj.aux[cc.cnst.aux_parent]];if(table){table.evalRow(dObj)}break;case cc.cnst.dtp_upd:if(is2ndScreen){ExterieurSection.prototype.updateExt.call(this,dObj)}else{this.updateInt(dObj)}break}}catch(ex){this.traceError("evalData_interieur()",ex.message)}}var $recommendationInfoContainer=$(".recommendContainer .recommendationInfo",this.sP);$recommendationInfoContainer.appendTo($recommendationInfoContainer.parent())};InterieurSection.prototype.evalSeat=function evalSeat(parentElement,dObj){if(dObj.dV.length>0){var configCategoryName=dObj.aux.parent;var contentContainer=this.createCategory(parentElement,configCategoryName);var dObj_id=dObj.id.replace(/\s/g,"");var cObj=document.getElementById(dObj_id);if(!cObj){cObj=util.getNode(contentContainer,"div",{id:dObj_id,css:"seatTypes"});var headline=util.getNode(cObj,"div",{id:"headline_"+dObj_id,css:"tile_headline"});if(0==$(headline).children().length){util.addNode(headline,"div",{}).innerHTML=dObj.desc;var camKey=util.getId(this.id,dObj_id,"cam");var detailNode=util.getNode(headline,"span",{id:camKey,css:"detailed"});util.getClientAction(camKey,"click",{fn:this.getDetailAction()});util.attachTextTooltip(detailNode,dObj.aux[cc.cnst.aux_tt])}}cObj.className=dObj.selected?"seatTypes checked":"seatTypes";util.recRemove($(".cameraPackageContainer",cObj)[0],true);var cameraPackageContainer=$("<div>").addClass("cameraPackageContainer")[0];var seatGroup_container=util.getNode(cObj,"div",{id:"seatGroup_"+dObj_id,css:"seatGroup"});if(seatGroup_container.childNodes.length==0){var container_img=document.createElement("div");var span=document.createElement("div");if(dObj.aux[cc.cnst.aux_img]){span.style.backgroundImage="url('"+cc.webRoot+dObj.aux[cc.cnst.aux_img]+"')";span.style.backgroundPosition=dObj.aux[cc.cnst.aux_pos];span.style.height=dObj.aux[cc.cnst.aux_height];span.style.width=dObj.aux[cc.cnst.aux_width]}else{util.addClass("error-no-image",span)}util.addClass("seat_img",container_img);seatGroup_container.appendChild(container_img);container_img.appendChild(span)}var seats_container=util.getNode(seatGroup_container,"div",{id:"seats_"+dObj_id,css:"seats"});for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dV.id);var child=document.getElementById(dVId);if(!child){var cmd=dV.aux[cc.cnst.aux_camera];var seat_container=util.getNode(seats_container,"div",{css:"seat"});this.aux.items[dVId]={group:cObj,cameraCommand:cmd};var pN={id:dVId,"data-link-id":dV.id};child=util.addNode(seat_container,"span",pN);util.getClientAction(pN.id,"click",{ce:dV.aux[cc.cnst.aux_action]});if(cc.cnst.ga){cc.ddmSupplier.regProduct(dV.id,dV.aux[cc.cnst.aux_desc],dObj.aux[cc.cnst.aux_parent],this.logicIdent,dV.aux[cc.cnst.aux_price]||"",child.id)}var box=util.addNode(seat_container,"div",{css:"box"});var shorttext=util.addNode(box,"div",{css:"seatDescr",id:util.getId(this.id,dObj.id,dV.id,"shorttext")});util.getClientAction(shorttext.id,"click",{ce:dV.aux[cc.cnst.aux_action]});shorttext.innerHTML=dV.aux.description;util.addNode(box,"div",{css:"optCode"}).innerHTML=dV.value;this.evalInfoIcon(box,dObj,dV);var pbox=util.getNode(box,null,{css:"pBox"});util.addNode(pbox,"div",{}).innerHTML=dV.aux[cc.cnst.aux_price]||"";if(dV.aux[cc.cnst.aux_leasingRate]){util.addNode(pbox,"div",{}).innerHTML=dV.aux[cc.cnst.aux_leasingRate]}seat_container.setAttribute("data-camera-command",cmd);seat_container.setAttribute("data-option-id",dV.id);this.evalPacketInfo(seat_container,dObj.aux)}child.className="radiobutton";if(!dV.aux[cc.cnst.aux_action]){util.addClass("no-click",child);util.addClass("no-click",shorttext)}if(dV.selected){child.className+=" checked"}}$(cameraPackageContainer).appendTo(cObj)}};InterieurSection.prototype.getDetailAction=function getDetailAction(){return function(e){var cameraCommand=null;var $seatGroupContainer=$(this).closest(".seatTypes");if($seatGroupContainer.length>0){var $selectedSeat=$seatGroupContainer.find(".checked").closest(".seat");cameraCommand=$selectedSeat.attr("data-camera-command")}else{var $selectedSeat=$(this).closest(".opt");cameraCommand=$selectedSeat.attr("data-camera-command")}var actionFn=VisualisationSection.getDetailAction(cameraCommand);if(actionFn){actionFn.call(this,e)}}};InterieurSection.prototype.evalPacketInfo=function evalPacketInfo(seatContainer,aux){var $seatContainer=$(seatContainer);var $shorttext=$seatContainer.find(".seatDescr");$seatContainer.toggleClass("packet-content",aux[cc.cnst.aux_packetContent]!=null);$seatContainer.toggleClass("packet-containment",aux[cc.cnst.aux_packetContainment]!=null);$seatContainer.toggleClass("packet-upgrade",aux[cc.cnst.aux_packetUpgrade]!=null);util.recRemove($seatContainer.find(".packet-info")[0],true);if(aux[cc.cnst.aux_packetInfo]!=null){$("<span>").addClass("packet-info").html(aux[cc.cnst.aux_packetInfo]).appendTo($shorttext)}};InterieurSection.prototype.updateInt=function updateInt(dObj){var itemData=null;var updatedSeats=[];for(var j=0;j<dObj.dV.length;j++){var dV=dObj.dV[j];var dVId=util.getId(this.id,dV.id);var child=document.getElementById(dVId);if(!child){continue}itemData=this.aux.items[dVId];if(util.hasClass("radiobutton",child)){updatedSeats.push(dVId);var $child=$(child);var $seatNode=$child.closest(".seat");this.evalPacketInfo($seatNode,dV.aux);var pBox=$(".pBox",child.parentNode)[0];if(dV.aux[cc.cnst.aux_price]&&pBox.childNodes.length>0){pBox.childNodes[0].innerHTML=dV.aux[cc.cnst.aux_price]}if(dV.aux[cc.cnst.aux_leasingRate]&&pBox.childNodes.length>1){pBox.childNodes[1].innerHTML=dV.aux[cc.cnst.aux_leasingRate]}$child.toggleClass("checked",dV.selected);if(dV.aux.recommend){$child.toggleClass("colorRecommendation",(dV.aux.recommend=="true"))}}else{if(itemData){this.updateItemData(itemData,dV);this.updateTooltip(itemData,child)}this.selectItem(child,dV,itemData)}}if(updatedSeats.length>0){var $seatTypes=$(".seatTypes",this.sP);for(var i=0;i<$seatTypes.length;i++){var $seatGroupContainer=$($seatTypes[i]);var $selectedSeat=$(".checked",$seatGroupContainer);var seatData=this.aux.items[$selectedSeat.attr("id")];var groupSelected=$selectedSeat.length>0;$seatGroupContainer.toggleClass("checked",groupSelected);var $carSilhouetteContainer=$(".cameraPackageContainer",$seatGroupContainer);if(groupSelected&&$seatGroupContainer.hasClass("details-on")&&VisualisationSection.isCameraPackageCommand(seatData.cameraCommand)){VisualisationSection.refreshCarSilhouette($carSilhouetteContainer,seatData.cameraCommand)}else{VisualisationSection.refreshCarSilhouette($carSilhouetteContainer,"");VisualisationSection.hideDetails($seatGroupContainer)}}}if(itemData!=null){var $parent=$(".recommendContainer",this.sP);$parent.toggleClass("hideRecommendationFootnote",$(".colorRecommendation",$parent).length==0)}};InterieurSection.prototype.updateItemData=function updateItemData(itemData,dV){ExterieurSection.prototype.updateItemData.call(this,itemData,dV)};InterieurSection.prototype.updateTooltip=function updateTooltip(itemData,child){ExterieurSection.prototype.updateTooltip.call(this,itemData,child)};InterieurSection.prototype.selectItem=function selectItem(child,dV,itemData){ExterieurSection.prototype.selectItem.call(this,child,dV,itemData)};(function(){var interieurSection=new InterieurSection(cc.cnst.s_interieur);ClientController.sectionMap[cc.cnst.s_interieur]=interieurSection;function onMainNavigationChange(event){interieurSection.scrollIn(event.key,event.subKey,event.itemKey)}function changeConfigNavigation(event){interieurSection.handelStickyHeadlines(event.key,event.subKey)}function onAnimatedScrollEnd(event){interieurSection.handelStickyHeadlines(event.key,event.subKey)}interieurSection.registerOn("mainNavigationChange",onMainNavigationChange);interieurSection.registerOn("configNavigationChange",changeConfigNavigation);interieurSection.registerOn("animatedScrollEnd",onAnimatedScrollEnd)})();